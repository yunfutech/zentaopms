var vn=(z,b,$)=>{if(!b.has(z))throw TypeError("Cannot "+$)};var jt=(z,b,$)=>(vn(z,b,"read from private field"),$?$.call(z):b.get(z)),Mr=(z,b,$)=>{if(b.has(z))throw TypeError("Cannot add the same private member more than once");b instanceof WeakSet?b.add(z):b.set(z,$)},Ft=(z,b,$,Ct)=>(vn(z,b,"write to private field"),Ct?Ct.call(z,$):b.set(z,$),$);(function(z,b){typeof exports=="object"&&typeof module<"u"?b(exports,require("cash-dom")):typeof define=="function"&&define.amd?define(["exports","cash-dom"],b):(z=typeof globalThis<"u"?globalThis:z||self,b(z.zui={},z.$))})(this,function(z,b){var vt,xt;"use strict";const $=":root{--color-gray-50:#f9fafb;--color-gray-100:#f3f4f6;--color-gray-200:#e5e7eb;--color-gray-300:#d1d5db;--color-gray-400:#9ca3af;--color-gray-500:#6b7280;--color-gray-600:#4b5563;--color-gray-700:#374151;--color-gray-800:#1f2937;--color-gray-900:#111827;--color-gray-950:#030712;--color-gray-50-rgb:249,250,251;--color-gray-100-rgb:243,244,246;--color-gray-200-rgb:229,231,235;--color-gray-300-rgb:209,213,219;--color-gray-400-rgb:156,163,175;--color-gray-500-rgb:107,114,128;--color-gray-600-rgb:75,85,99;--color-gray-700-rgb:55,65,81;--color-gray-800-rgb:31,41,55;--color-gray-900-rgb:17,24,39;--color-gray-950-rgb:3,7,18;--color-primary-50:#e6f0ff;--color-primary-100:#d5e5ff;--color-primary-200:#a4c7ff;--color-primary-300:#66a2ff;--color-primary-400:#3785ff;--color-primary-500:#2e7fff;--color-primary-600:#1e6aeb;--color-primary-700:#2463c7;--color-primary-800:#1b54ad;--color-primary-900:#063072;--color-primary-50-rgb:230,240,255;--color-primary-100-rgb:213,229,255;--color-primary-200-rgb:164,199,255;--color-primary-300-rgb:102,162,255;--color-primary-400-rgb:55,133,255;--color-primary-500-rgb:46,127,255;--color-primary-600-rgb:30,106,235;--color-primary-700-rgb:36,99,199;--color-primary-800-rgb:27,84,173;--color-primary-900-rgb:6,48,114;--color-secondary-50:#e7f6ff;--color-secondary-100:#cdecff;--color-secondary-200:#9bd9ff;--color-secondary-300:#77cbff;--color-secondary-400:#60c2ff;--color-secondary-500:#37b2fe;--color-secondary-600:#18a6fd;--color-secondary-700:#1099ed;--color-secondary-800:#078ada;--color-secondary-900:#046bab;--color-secondary-50-rgb:231,246,255;--color-secondary-100-rgb:205,236,255;--color-secondary-200-rgb:155,217,255;--color-secondary-300-rgb:119,203,255;--color-secondary-400-rgb:96,194,255;--color-secondary-500-rgb:55,178,254;--color-secondary-600-rgb:24,166,253;--color-secondary-700-rgb:16,153,237;--color-secondary-800-rgb:7,138,218;--color-secondary-900-rgb:4,107,171;--color-success-50:#ecfff8;--color-success-100:#d0f6e8;--color-success-200:#b1ecd6;--color-success-300:#7adfba;--color-success-400:#48d1a0;--color-success-500:#22c98d;--color-success-600:#0dbb7d;--color-success-700:#0ca76f;--color-success-800:#0e8d60;--color-success-900:#186c4e;--color-success-50-rgb:236,255,248;--color-success-100-rgb:208,246,232;--color-success-200-rgb:177,236,214;--color-success-300-rgb:122,223,186;--color-success-400-rgb:72,209,160;--color-success-500-rgb:34,201,141;--color-success-600-rgb:13,187,125;--color-success-700-rgb:12,167,111;--color-success-800-rgb:14,141,96;--color-success-900-rgb:24,108,78;--color-warning-50:#fff4ea;--color-warning-100:#ffecdb;--color-warning-200:#ffd2a9;--color-warning-300:#ffbc7e;--color-warning-400:#ffaf65;--color-warning-500:#ff9f46;--color-warning-600:#f38f19;--color-warning-700:#ed8307;--color-warning-800:#d17100;--color-warning-900:#af5f01;--color-warning-50-rgb:255,244,234;--color-warning-100-rgb:255,236,219;--color-warning-200-rgb:255,210,169;--color-warning-300-rgb:255,188,126;--color-warning-400-rgb:255,175,101;--color-warning-500-rgb:255,159,70;--color-warning-600-rgb:243,143,25;--color-warning-700-rgb:237,131,7;--color-warning-800-rgb:209,113,0;--color-warning-900-rgb:175,95,1;--color-danger-50:#ffebeb;--color-danger-100:#ffd5d5;--color-danger-200:#ffb1b1;--color-danger-300:#ff9292;--color-danger-400:#ff7c7c;--color-danger-500:#fc5959;--color-danger-600:#fb2b2b;--color-danger-700:#d91b1b;--color-danger-800:#ba1313;--color-danger-900:#a20606;--color-danger-50-rgb:255,235,235;--color-danger-100-rgb:255,213,213;--color-danger-200-rgb:255,177,177;--color-danger-300-rgb:255,146,146;--color-danger-400-rgb:255,124,124;--color-danger-500-rgb:252,89,89;--color-danger-600-rgb:251,43,43;--color-danger-700-rgb:217,27,27;--color-danger-800-rgb:186,19,19;--color-danger-900-rgb:162,6,6;--color-important-50:#fff8f5;--color-important-100:#ffe2d9;--color-important-200:#ffcebf;--color-important-300:#ffb29b;--color-important-400:#ff8c68;--color-important-500:#ff8058;--color-important-600:#ff6f42;--color-important-700:#ff4912;--color-important-800:#c83509;--color-important-900:#611700;--color-important-50-rgb:255,248,245;--color-important-100-rgb:255,226,217;--color-important-200-rgb:255,206,191;--color-important-300-rgb:255,178,155;--color-important-400-rgb:255,140,104;--color-important-500-rgb:255,128,88;--color-important-600-rgb:255,111,66;--color-important-700-rgb:255,73,18;--color-important-800-rgb:200,53,9;--color-important-900-rgb:97,23,0;--color-special-50:#efecfa;--color-special-100:#e4dff7;--color-special-200:#c4b6ff;--color-special-300:#a38cff;--color-special-400:#8a6ff5;--color-special-500:#8166ee;--color-special-600:#7055df;--color-special-700:#513baa;--color-special-800:#452da5;--color-special-900:#30216e;--color-special-50-rgb:239,236,250;--color-special-100-rgb:228,223,247;--color-special-200-rgb:196,182,255;--color-special-300-rgb:163,140,255;--color-special-400-rgb:138,111,245;--color-special-500-rgb:129,102,238;--color-special-600-rgb:112,85,223;--color-special-700-rgb:81,59,170;--color-special-800-rgb:69,45,165;--color-special-900-rgb:48,33,110;--color-inherit:inherit;--color-transparent:transparent;--color-current:currentColor;--color-black:#000;--color-white:#fff;--color-canvas:#fff;--color-inverse:#000;--color-surface:#f3f4f6;--color-surface-light:#f9fafb;--color-surface-strong:#e5e7eb;--color-fore:#1f2937;--color-focus:#a4c7ff;--color-link:#1e6aeb;--color-link-hover:#2e7fff;--color-link-visited:#1b54ad;--color-link-active:#1b54ad;--color-placeholder:#9ca3af;--color-border:#e5e7eb;--color-border-strong:#d1d5db;--color-border-light:#f3f4f6;--color-black-rgb:0,0,0;--color-white-rgb:255,255,255;--color-canvas-rgb:255,255,255;--color-inverse-rgb:0,0,0;--color-surface-rgb:243,244,246;--color-surface-light-rgb:249,250,251;--color-surface-strong-rgb:229,231,235;--color-fore-rgb:31,41,55;--color-focus-rgb:164,199,255;--color-link-rgb:30,106,235;--color-link-hover-rgb:46,127,255;--color-link-visited-rgb:27,84,173;--color-link-active-rgb:27,84,173;--color-placeholder-rgb:156,163,175;--color-border-rgb:229,231,235;--color-border-strong-rgb:209,213,219;--color-border-light-rgb:243,244,246;--radius-none:0px;--radius-sm:1px;--radius:2px;--radius-md:4px;--radius-lg:6px;--radius-xl:8px;--radius-2xl:12px;--radius-3xl:16px;--radius-full:9999px;--shadow-sm:0 1px 2px 0 rgba(0,0,0,.1),0 0 2px -1px rgba(0,0,0,.05);--shadow:0 1px 4px 0 rgba(0,0,0,.15),0 1px 2px -1px rgba(0,0,0,.1);--shadow-md:0 2px 6px -1px rgba(0,0,0,.2),0 1px 4px -2px rgba(0,0,0,.15);--shadow-lg:0 5px 15px -3px rgba(0,0,0,.2),0 2px 6px -4px rgba(0,0,0,.15);--shadow-xl:0 10px 25px -5px rgba(0,0,0,.2),0 4px 10px -6px rgba(0,0,0,.15);--shadow-2xl:0 10px 50px -10px rgba(0,0,0,.4),0 8px 20px -10px rgba(0,0,0,.3);--shadow-inner:inset 0 2px 4px 0 rgba(0,0,0,.05);--shadow-none:none;--space:4px;--font-size-root:16px;--font-size-page-lineHeight:1.5384615385}.dark{--color-gray-50:#030712;--color-gray-100:#111827;--color-gray-200:#1f2937;--color-gray-300:#374151;--color-gray-400:#4b5563;--color-gray-500:#6b7280;--color-gray-600:#9ca3af;--color-gray-700:#d1d5db;--color-gray-800:#e5e7eb;--color-gray-900:#f3f4f6;--color-gray-950:#f9fafb;--color-gray-50-rgb:3,7,18;--color-gray-100-rgb:17,24,39;--color-gray-200-rgb:31,41,55;--color-gray-300-rgb:55,65,81;--color-gray-400-rgb:75,85,99;--color-gray-500-rgb:107,114,128;--color-gray-600-rgb:156,163,175;--color-gray-700-rgb:209,213,219;--color-gray-800-rgb:229,231,235;--color-gray-900-rgb:243,244,246;--color-gray-950-rgb:249,250,251;--color-primary-50:#063072;--color-primary-100:#1b54ad;--color-primary-200:#2463c7;--color-primary-300:#1e6aeb;--color-primary-400:#2e7fff;--color-primary-500:#3785ff;--color-primary-600:#66a2ff;--color-primary-700:#a4c7ff;--color-primary-800:#d5e5ff;--color-primary-900:#e6f0ff;--color-primary-50-rgb:6,48,114;--color-primary-100-rgb:27,84,173;--color-primary-200-rgb:36,99,199;--color-primary-300-rgb:30,106,235;--color-primary-400-rgb:46,127,255;--color-primary-500-rgb:55,133,255;--color-primary-600-rgb:102,162,255;--color-primary-700-rgb:164,199,255;--color-primary-800-rgb:213,229,255;--color-primary-900-rgb:230,240,255;--color-secondary-50:#046bab;--color-secondary-100:#078ada;--color-secondary-200:#1099ed;--color-secondary-300:#18a6fd;--color-secondary-400:#37b2fe;--color-secondary-500:#60c2ff;--color-secondary-600:#77cbff;--color-secondary-700:#9bd9ff;--color-secondary-800:#cdecff;--color-secondary-900:#e7f6ff;--color-secondary-50-rgb:4,107,171;--color-secondary-100-rgb:7,138,218;--color-secondary-200-rgb:16,153,237;--color-secondary-300-rgb:24,166,253;--color-secondary-400-rgb:55,178,254;--color-secondary-500-rgb:96,194,255;--color-secondary-600-rgb:119,203,255;--color-secondary-700-rgb:155,217,255;--color-secondary-800-rgb:205,236,255;--color-secondary-900-rgb:231,246,255;--color-success-50:#186c4e;--color-success-100:#0e8d60;--color-success-200:#0ca76f;--color-success-300:#0dbb7d;--color-success-400:#22c98d;--color-success-500:#48d1a0;--color-success-600:#7adfba;--color-success-700:#b1ecd6;--color-success-800:#d0f6e8;--color-success-900:#ecfff8;--color-success-50-rgb:24,108,78;--color-success-100-rgb:14,141,96;--color-success-200-rgb:12,167,111;--color-success-300-rgb:13,187,125;--color-success-400-rgb:34,201,141;--color-success-500-rgb:72,209,160;--color-success-600-rgb:122,223,186;--color-success-700-rgb:177,236,214;--color-success-800-rgb:208,246,232;--color-success-900-rgb:236,255,248;--color-warning-50:#af5f01;--color-warning-100:#d17100;--color-warning-200:#ed8307;--color-warning-300:#f38f19;--color-warning-400:#ff9f46;--color-warning-500:#ffaf65;--color-warning-600:#ffbc7e;--color-warning-700:#ffd2a9;--color-warning-800:#ffecdb;--color-warning-900:#fff4ea;--color-warning-50-rgb:175,95,1;--color-warning-100-rgb:209,113,0;--color-warning-200-rgb:237,131,7;--color-warning-300-rgb:243,143,25;--color-warning-400-rgb:255,159,70;--color-warning-500-rgb:255,175,101;--color-warning-600-rgb:255,188,126;--color-warning-700-rgb:255,210,169;--color-warning-800-rgb:255,236,219;--color-warning-900-rgb:255,244,234;--color-danger-50:#a20606;--color-danger-100:#ba1313;--color-danger-200:#d91b1b;--color-danger-300:#fb2b2b;--color-danger-400:#fc5959;--color-danger-500:#ff7c7c;--color-danger-600:#ff9292;--color-danger-700:#ffb1b1;--color-danger-800:#ffd5d5;--color-danger-900:#ffebeb;--color-danger-50-rgb:162,6,6;--color-danger-100-rgb:186,19,19;--color-danger-200-rgb:217,27,27;--color-danger-300-rgb:251,43,43;--color-danger-400-rgb:252,89,89;--color-danger-500-rgb:255,124,124;--color-danger-600-rgb:255,146,146;--color-danger-700-rgb:255,177,177;--color-danger-800-rgb:255,213,213;--color-danger-900-rgb:255,235,235;--color-important-50:#611700;--color-important-100:#c83509;--color-important-200:#ff4912;--color-important-300:#ff6f42;--color-important-400:#ff8058;--color-important-500:#ff8c68;--color-important-600:#ffb29b;--color-important-700:#ffcebf;--color-important-800:#ffe2d9;--color-important-900:#fff8f5;--color-important-50-rgb:97,23,0;--color-important-100-rgb:200,53,9;--color-important-200-rgb:255,73,18;--color-important-300-rgb:255,111,66;--color-important-400-rgb:255,128,88;--color-important-500-rgb:255,140,104;--color-important-600-rgb:255,178,155;--color-important-700-rgb:255,206,191;--color-important-800-rgb:255,226,217;--color-important-900-rgb:255,248,245;--color-special-50:#30216e;--color-special-100:#452da5;--color-special-200:#513baa;--color-special-300:#7055df;--color-special-400:#8166ee;--color-special-500:#8a6ff5;--color-special-600:#a38cff;--color-special-700:#c4b6ff;--color-special-800:#e4dff7;--color-special-900:#efecfa;--color-special-50-rgb:48,33,110;--color-special-100-rgb:69,45,165;--color-special-200-rgb:81,59,170;--color-special-300-rgb:112,85,223;--color-special-400-rgb:129,102,238;--color-special-500-rgb:138,111,245;--color-special-600-rgb:163,140,255;--color-special-700-rgb:196,182,255;--color-special-800-rgb:228,223,247;--color-special-900-rgb:239,236,250;--color-canvas:#000;--color-inverse:#fff;--color-surface:#111827;--color-surface-light:#030712;--color-surface-strong:#1f2937;--color-fore:#e5e7eb;--color-focus:#2463c7;--color-link:#66a2ff;--color-link-hover:#3785ff;--color-link-visited:#d5e5ff;--color-link-active:#d5e5ff;--color-placeholder:#4b5563;--color-border:#1f2937;--color-border-strong:#374151;--color-border-light:#111827;--color-canvas-rgb:0,0,0;--color-inverse-rgb:255,255,255;--color-surface-rgb:17,24,39;--color-surface-light-rgb:3,7,18;--color-surface-strong-rgb:31,41,55;--color-fore-rgb:229,231,235;--color-focus-rgb:36,99,199;--color-link-rgb:102,162,255;--color-link-hover-rgb:55,133,255;--color-link-visited-rgb:213,229,255;--color-link-active-rgb:213,229,255;--color-placeholder-rgb:75,85,99;--color-border-rgb:31,41,55;--color-border-strong-rgb:55,65,81;--color-border-light-rgb:17,24,39}.light-in-dark{--color-gray-50:#f9fafb;--color-gray-100:#f3f4f6;--color-gray-200:#e5e7eb;--color-gray-300:#d1d5db;--color-gray-400:#9ca3af;--color-gray-500:#6b7280;--color-gray-600:#4b5563;--color-gray-700:#374151;--color-gray-800:#1f2937;--color-gray-900:#111827;--color-gray-950:#030712;--color-gray-50-rgb:249,250,251;--color-gray-100-rgb:243,244,246;--color-gray-200-rgb:229,231,235;--color-gray-300-rgb:209,213,219;--color-gray-400-rgb:156,163,175;--color-gray-500-rgb:107,114,128;--color-gray-600-rgb:75,85,99;--color-gray-700-rgb:55,65,81;--color-gray-800-rgb:31,41,55;--color-gray-900-rgb:17,24,39;--color-gray-950-rgb:3,7,18;--color-primary-50:#e6f0ff;--color-primary-100:#d5e5ff;--color-primary-200:#a4c7ff;--color-primary-300:#66a2ff;--color-primary-400:#3785ff;--color-primary-500:#2e7fff;--color-primary-600:#1e6aeb;--color-primary-700:#2463c7;--color-primary-800:#1b54ad;--color-primary-900:#063072;--color-primary-50-rgb:230,240,255;--color-primary-100-rgb:213,229,255;--color-primary-200-rgb:164,199,255;--color-primary-300-rgb:102,162,255;--color-primary-400-rgb:55,133,255;--color-primary-500-rgb:46,127,255;--color-primary-600-rgb:30,106,235;--color-primary-700-rgb:36,99,199;--color-primary-800-rgb:27,84,173;--color-primary-900-rgb:6,48,114;--color-secondary-50:#e7f6ff;--color-secondary-100:#cdecff;--color-secondary-200:#9bd9ff;--color-secondary-300:#77cbff;--color-secondary-400:#60c2ff;--color-secondary-500:#37b2fe;--color-secondary-600:#18a6fd;--color-secondary-700:#1099ed;--color-secondary-800:#078ada;--color-secondary-900:#046bab;--color-secondary-50-rgb:231,246,255;--color-secondary-100-rgb:205,236,255;--color-secondary-200-rgb:155,217,255;--color-secondary-300-rgb:119,203,255;--color-secondary-400-rgb:96,194,255;--color-secondary-500-rgb:55,178,254;--color-secondary-600-rgb:24,166,253;--color-secondary-700-rgb:16,153,237;--color-secondary-800-rgb:7,138,218;--color-secondary-900-rgb:4,107,171;--color-success-50:#ecfff8;--color-success-100:#d0f6e8;--color-success-200:#b1ecd6;--color-success-300:#7adfba;--color-success-400:#48d1a0;--color-success-500:#22c98d;--color-success-600:#0dbb7d;--color-success-700:#0ca76f;--color-success-800:#0e8d60;--color-success-900:#186c4e;--color-success-50-rgb:236,255,248;--color-success-100-rgb:208,246,232;--color-success-200-rgb:177,236,214;--color-success-300-rgb:122,223,186;--color-success-400-rgb:72,209,160;--color-success-500-rgb:34,201,141;--color-success-600-rgb:13,187,125;--color-success-700-rgb:12,167,111;--color-success-800-rgb:14,141,96;--color-success-900-rgb:24,108,78;--color-warning-50:#fff4ea;--color-warning-100:#ffecdb;--color-warning-200:#ffd2a9;--color-warning-300:#ffbc7e;--color-warning-400:#ffaf65;--color-warning-500:#ff9f46;--color-warning-600:#f38f19;--color-warning-700:#ed8307;--color-warning-800:#d17100;--color-warning-900:#af5f01;--color-warning-50-rgb:255,244,234;--color-warning-100-rgb:255,236,219;--color-warning-200-rgb:255,210,169;--color-warning-300-rgb:255,188,126;--color-warning-400-rgb:255,175,101;--color-warning-500-rgb:255,159,70;--color-warning-600-rgb:243,143,25;--color-warning-700-rgb:237,131,7;--color-warning-800-rgb:209,113,0;--color-warning-900-rgb:175,95,1;--color-danger-50:#ffebeb;--color-danger-100:#ffd5d5;--color-danger-200:#ffb1b1;--color-danger-300:#ff9292;--color-danger-400:#ff7c7c;--color-danger-500:#fc5959;--color-danger-600:#fb2b2b;--color-danger-700:#d91b1b;--color-danger-800:#ba1313;--color-danger-900:#a20606;--color-danger-50-rgb:255,235,235;--color-danger-100-rgb:255,213,213;--color-danger-200-rgb:255,177,177;--color-danger-300-rgb:255,146,146;--color-danger-400-rgb:255,124,124;--color-danger-500-rgb:252,89,89;--color-danger-600-rgb:251,43,43;--color-danger-700-rgb:217,27,27;--color-danger-800-rgb:186,19,19;--color-danger-900-rgb:162,6,6;--color-important-50:#fff8f5;--color-important-100:#ffe2d9;--color-important-200:#ffcebf;--color-important-300:#ffb29b;--color-important-400:#ff8c68;--color-important-500:#ff8058;--color-important-600:#ff6f42;--color-important-700:#ff4912;--color-important-800:#c83509;--color-important-900:#611700;--color-important-50-rgb:255,248,245;--color-important-100-rgb:255,226,217;--color-important-200-rgb:255,206,191;--color-important-300-rgb:255,178,155;--color-important-400-rgb:255,140,104;--color-important-500-rgb:255,128,88;--color-important-600-rgb:255,111,66;--color-important-700-rgb:255,73,18;--color-important-800-rgb:200,53,9;--color-important-900-rgb:97,23,0;--color-special-50:#efecfa;--color-special-100:#e4dff7;--color-special-200:#c4b6ff;--color-special-300:#a38cff;--color-special-400:#8a6ff5;--color-special-500:#8166ee;--color-special-600:#7055df;--color-special-700:#513baa;--color-special-800:#452da5;--color-special-900:#30216e;--color-special-50-rgb:239,236,250;--color-special-100-rgb:228,223,247;--color-special-200-rgb:196,182,255;--color-special-300-rgb:163,140,255;--color-special-400-rgb:138,111,245;--color-special-500-rgb:129,102,238;--color-special-600-rgb:112,85,223;--color-special-700-rgb:81,59,170;--color-special-800-rgb:69,45,165;--color-special-900-rgb:48,33,110;--color-inherit:inherit;--color-transparent:transparent;--color-current:currentColor;--color-black:#000;--color-white:#fff;--color-canvas:#fff;--color-inverse:#000;--color-surface:#f3f4f6;--color-surface-light:#f9fafb;--color-surface-strong:#e5e7eb;--color-fore:#1f2937;--color-focus:#a4c7ff;--color-link:#1e6aeb;--color-link-hover:#2e7fff;--color-link-visited:#1b54ad;--color-link-active:#1b54ad;--color-placeholder:#9ca3af;--color-border:#e5e7eb;--color-border-strong:#d1d5db;--color-border-light:#f3f4f6;--color-black-rgb:0,0,0;--color-white-rgb:255,255,255;--color-canvas-rgb:255,255,255;--color-inverse-rgb:0,0,0;--color-surface-rgb:243,244,246;--color-surface-light-rgb:249,250,251;--color-surface-strong-rgb:229,231,235;--color-fore-rgb:31,41,55;--color-focus-rgb:164,199,255;--color-link-rgb:30,106,235;--color-link-hover-rgb:46,127,255;--color-link-visited-rgb:27,84,173;--color-link-active-rgb:27,84,173;--color-placeholder-rgb:156,163,175;--color-border-rgb:229,231,235;--color-border-strong-rgb:209,213,219;--color-border-light-rgb:243,244,246}body{--btn-bg:var(--color-gray-50)}@media (prefers-color-scheme:dark){.dark-auto{--color-gray-50:#030712;--color-gray-100:#111827;--color-gray-200:#1f2937;--color-gray-300:#374151;--color-gray-400:#4b5563;--color-gray-500:#6b7280;--color-gray-600:#9ca3af;--color-gray-700:#d1d5db;--color-gray-800:#e5e7eb;--color-gray-900:#f3f4f6;--color-gray-950:#f9fafb;--color-gray-50-rgb:3,7,18;--color-gray-100-rgb:17,24,39;--color-gray-200-rgb:31,41,55;--color-gray-300-rgb:55,65,81;--color-gray-400-rgb:75,85,99;--color-gray-500-rgb:107,114,128;--color-gray-600-rgb:156,163,175;--color-gray-700-rgb:209,213,219;--color-gray-800-rgb:229,231,235;--color-gray-900-rgb:243,244,246;--color-gray-950-rgb:249,250,251;--color-primary-50:#063072;--color-primary-100:#1b54ad;--color-primary-200:#2463c7;--color-primary-300:#1e6aeb;--color-primary-400:#2e7fff;--color-primary-500:#3785ff;--color-primary-600:#66a2ff;--color-primary-700:#a4c7ff;--color-primary-800:#d5e5ff;--color-primary-900:#e6f0ff;--color-primary-50-rgb:6,48,114;--color-primary-100-rgb:27,84,173;--color-primary-200-rgb:36,99,199;--color-primary-300-rgb:30,106,235;--color-primary-400-rgb:46,127,255;--color-primary-500-rgb:55,133,255;--color-primary-600-rgb:102,162,255;--color-primary-700-rgb:164,199,255;--color-primary-800-rgb:213,229,255;--color-primary-900-rgb:230,240,255;--color-secondary-50:#046bab;--color-secondary-100:#078ada;--color-secondary-200:#1099ed;--color-secondary-300:#18a6fd;--color-secondary-400:#37b2fe;--color-secondary-500:#60c2ff;--color-secondary-600:#77cbff;--color-secondary-700:#9bd9ff;--color-secondary-800:#cdecff;--color-secondary-900:#e7f6ff;--color-secondary-50-rgb:4,107,171;--color-secondary-100-rgb:7,138,218;--color-secondary-200-rgb:16,153,237;--color-secondary-300-rgb:24,166,253;--color-secondary-400-rgb:55,178,254;--color-secondary-500-rgb:96,194,255;--color-secondary-600-rgb:119,203,255;--color-secondary-700-rgb:155,217,255;--color-secondary-800-rgb:205,236,255;--color-secondary-900-rgb:231,246,255;--color-success-50:#186c4e;--color-success-100:#0e8d60;--color-success-200:#0ca76f;--color-success-300:#0dbb7d;--color-success-400:#22c98d;--color-success-500:#48d1a0;--color-success-600:#7adfba;--color-success-700:#b1ecd6;--color-success-800:#d0f6e8;--color-success-900:#ecfff8;--color-success-50-rgb:24,108,78;--color-success-100-rgb:14,141,96;--color-success-200-rgb:12,167,111;--color-success-300-rgb:13,187,125;--color-success-400-rgb:34,201,141;--color-success-500-rgb:72,209,160;--color-success-600-rgb:122,223,186;--color-success-700-rgb:177,236,214;--color-success-800-rgb:208,246,232;--color-success-900-rgb:236,255,248;--color-warning-50:#af5f01;--color-warning-100:#d17100;--color-warning-200:#ed8307;--color-warning-300:#f38f19;--color-warning-400:#ff9f46;--color-warning-500:#ffaf65;--color-warning-600:#ffbc7e;--color-warning-700:#ffd2a9;--color-warning-800:#ffecdb;--color-warning-900:#fff4ea;--color-warning-50-rgb:175,95,1;--color-warning-100-rgb:209,113,0;--color-warning-200-rgb:237,131,7;--color-warning-300-rgb:243,143,25;--color-warning-400-rgb:255,159,70;--color-warning-500-rgb:255,175,101;--color-warning-600-rgb:255,188,126;--color-warning-700-rgb:255,210,169;--color-warning-800-rgb:255,236,219;--color-warning-900-rgb:255,244,234;--color-danger-50:#a20606;--color-danger-100:#ba1313;--color-danger-200:#d91b1b;--color-danger-300:#fb2b2b;--color-danger-400:#fc5959;--color-danger-500:#ff7c7c;--color-danger-600:#ff9292;--color-danger-700:#ffb1b1;--color-danger-800:#ffd5d5;--color-danger-900:#ffebeb;--color-danger-50-rgb:162,6,6;--color-danger-100-rgb:186,19,19;--color-danger-200-rgb:217,27,27;--color-danger-300-rgb:251,43,43;--color-danger-400-rgb:252,89,89;--color-danger-500-rgb:255,124,124;--color-danger-600-rgb:255,146,146;--color-danger-700-rgb:255,177,177;--color-danger-800-rgb:255,213,213;--color-danger-900-rgb:255,235,235;--color-important-50:#611700;--color-important-100:#c83509;--color-important-200:#ff4912;--color-important-300:#ff6f42;--color-important-400:#ff8058;--color-important-500:#ff8c68;--color-important-600:#ffb29b;--color-important-700:#ffcebf;--color-important-800:#ffe2d9;--color-important-900:#fff8f5;--color-important-50-rgb:97,23,0;--color-important-100-rgb:200,53,9;--color-important-200-rgb:255,73,18;--color-important-300-rgb:255,111,66;--color-important-400-rgb:255,128,88;--color-important-500-rgb:255,140,104;--color-important-600-rgb:255,178,155;--color-important-700-rgb:255,206,191;--color-important-800-rgb:255,226,217;--color-important-900-rgb:255,248,245;--color-special-50:#30216e;--color-special-100:#452da5;--color-special-200:#513baa;--color-special-300:#7055df;--color-special-400:#8166ee;--color-special-500:#8a6ff5;--color-special-600:#a38cff;--color-special-700:#c4b6ff;--color-special-800:#e4dff7;--color-special-900:#efecfa;--color-special-50-rgb:48,33,110;--color-special-100-rgb:69,45,165;--color-special-200-rgb:81,59,170;--color-special-300-rgb:112,85,223;--color-special-400-rgb:129,102,238;--color-special-500-rgb:138,111,245;--color-special-600-rgb:163,140,255;--color-special-700-rgb:196,182,255;--color-special-800-rgb:228,223,247;--color-special-900-rgb:239,236,250;--color-canvas:#000;--color-inverse:#fff;--color-surface:#111827;--color-surface-light:#030712;--color-surface-strong:#1f2937;--color-fore:#e5e7eb;--color-focus:#2463c7;--color-link:#66a2ff;--color-link-hover:#3785ff;--color-link-visited:#d5e5ff;--color-link-active:#d5e5ff;--color-placeholder:#4b5563;--color-border:#1f2937;--color-border-strong:#374151;--color-border-light:#111827;--color-canvas-rgb:0,0,0;--color-inverse-rgb:255,255,255;--color-surface-rgb:17,24,39;--color-surface-light-rgb:3,7,18;--color-surface-strong-rgb:31,41,55;--color-fore-rgb:229,231,235;--color-focus-rgb:36,99,199;--color-link-rgb:102,162,255;--color-link-hover-rgb:55,133,255;--color-link-visited-rgb:213,229,255;--color-link-active-rgb:213,229,255;--color-placeholder-rgb:75,85,99;--color-border-rgb:31,41,55;--color-border-strong-rgb:55,65,81;--color-border-light-rgb:17,24,39}}*,:after,:before{--tw-border-opacity:1;--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;border-color:rgba(var(--color-border-rgb),var(--tw-border-opacity))}::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }";var Ct,W,Pr,Et,kt,Lr,Dr,Oe,Bt={},Hr=[],Cn=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,le=Array.isArray;function dt(r,t){for(var e in t)r[e]=t[e];return r}function Wr(r){var t=r.parentNode;t&&t.removeChild(r)}function L(r,t,e){var o,n,s,i={};for(s in t)s=="key"?o=t[s]:s=="ref"?n=t[s]:i[s]=t[s];if(arguments.length>2&&(i.children=arguments.length>3?Ct.call(arguments,2):e),typeof r=="function"&&r.defaultProps!=null)for(s in r.defaultProps)i[s]===void 0&&(i[s]=r.defaultProps[s]);return ae(r,i,o,n,null)}function ae(r,t,e,o,n){var s={type:r,props:t,key:e,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:n??++Pr,__i:-1,__u:0};return n==null&&W.vnode!=null&&W.vnode(s),s}function Nt(){return{current:null}}function Ut(r){return r.children}function G(r,t){this.props=r,this.context=t}function It(r,t){if(t==null)return r.__?It(r.__,r.__i+1):null;for(var e;t<r.__k.length;t++)if((e=r.__k[t])!=null&&e.__e!=null)return e.__e;return typeof r.type=="function"?It(r):null}function zr(r){var t,e;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,t=0;t<r.__k.length;t++)if((e=r.__k[t])!=null&&e.__e!=null){r.__e=r.__c.base=e.__e;break}return zr(r)}}function Or(r){(!r.__d&&(r.__d=!0)&&kt.push(r)&&!he.__r++||Lr!==W.debounceRendering)&&((Lr=W.debounceRendering)||Dr)(he)}function he(){var r,t,e,o,n,s,i,c,l;for(kt.sort(Oe);r=kt.shift();)r.__d&&(t=kt.length,o=void 0,s=(n=(e=r).__v).__e,c=[],l=[],(i=e.__P)&&((o=dt({},n)).__v=n.__v+1,W.vnode&&W.vnode(o),je(i,o,n,e.__n,i.ownerSVGElement!==void 0,32&n.__u?[s]:null,c,s??It(n),!!(32&n.__u),l),o.__.__k[o.__i]=o,Vr(c,o,l),o.__e!=s&&zr(o)),kt.length>t&&kt.sort(Oe));he.__r=0}function jr(r,t,e,o,n,s,i,c,l,a,f){var h,u,d,p,g,y=o&&o.__k||Hr,m=t.length;for(e.__d=l,kn(e,t,y),l=e.__d,h=0;h<m;h++)(d=e.__k[h])!=null&&typeof d!="boolean"&&typeof d!="function"&&(u=d.__i===-1?Bt:y[d.__i]||Bt,d.__i=h,je(r,d,u,n,s,i,c,l,a,f),p=d.__e,d.ref&&u.ref!=d.ref&&(u.ref&&Fe(u.ref,null,d),f.push(d.ref,d.__c||p,d)),g==null&&p!=null&&(g=p),65536&d.__u||u.__k===d.__k?l=Fr(d,l,r):typeof d.type=="function"&&d.__d!==void 0?l=d.__d:p&&(l=p.nextSibling),d.__d=void 0,d.__u&=-196609);e.__d=l,e.__e=g}function kn(r,t,e){var o,n,s,i,c,l=t.length,a=e.length,f=a,h=0;for(r.__k=[],o=0;o<l;o++)(n=r.__k[o]=(n=t[o])==null||typeof n=="boolean"||typeof n=="function"?null:typeof n=="string"||typeof n=="number"||typeof n=="bigint"||n.constructor==String?ae(null,n,null,null,n):le(n)?ae(Ut,{children:n},null,null,null):n.__b>0?ae(n.type,n.props,n.key,n.ref?n.ref:null,n.__v):n)!=null?(n.__=r,n.__b=r.__b+1,c=Tn(n,e,i=o+h,f),n.__i=c,s=null,c!==-1&&(f--,(s=e[c])&&(s.__u|=131072)),s==null||s.__v===null?(c==-1&&h--,typeof n.type!="function"&&(n.__u|=65536)):c!==i&&(c===i+1?h++:c>i?f>l-i?h+=c-i:h--:h=c<i&&c==i-1?c-i:0,c!==o+h&&(n.__u|=65536))):(s=e[o])&&s.key==null&&s.__e&&(s.__e==r.__d&&(r.__d=It(s)),Be(s,s,!1),e[o]=null,f--);if(f)for(o=0;o<a;o++)(s=e[o])!=null&&!(131072&s.__u)&&(s.__e==r.__d&&(r.__d=It(s)),Be(s,s))}function Fr(r,t,e){var o,n;if(typeof r.type=="function"){for(o=r.__k,n=0;o&&n<o.length;n++)o[n]&&(o[n].__=r,t=Fr(o[n],t,e));return t}return r.__e!=t&&(e.insertBefore(r.__e,t||null),t=r.__e),t&&t.nextSibling}function fe(r,t){return t=t||[],r==null||typeof r=="boolean"||(le(r)?r.some(function(e){fe(e,t)}):t.push(r)),t}function Tn(r,t,e,o){var n=r.key,s=r.type,i=e-1,c=e+1,l=t[e];if(l===null||l&&n==l.key&&s===l.type)return e;if(o>(l!=null&&!(131072&l.__u)?1:0))for(;i>=0||c<t.length;){if(i>=0){if((l=t[i])&&!(131072&l.__u)&&n==l.key&&s===l.type)return i;i--}if(c<t.length){if((l=t[c])&&!(131072&l.__u)&&n==l.key&&s===l.type)return c;c++}}return-1}function Br(r,t,e){t[0]==="-"?r.setProperty(t,e??""):r[t]=e==null?"":typeof e!="number"||Cn.test(t)?e:e+"px"}function de(r,t,e,o,n){var s;t:if(t==="style")if(typeof e=="string")r.style.cssText=e;else{if(typeof o=="string"&&(r.style.cssText=o=""),o)for(t in o)e&&t in e||Br(r.style,t,"");if(e)for(t in e)o&&e[t]===o[t]||Br(r.style,t,e[t])}else if(t[0]==="o"&&t[1]==="n")s=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in r?t.toLowerCase().slice(2):t.slice(2),r.l||(r.l={}),r.l[t+s]=e,e?o?e.u=o.u:(e.u=Date.now(),r.addEventListener(t,s?Kr:Ur,s)):r.removeEventListener(t,s?Kr:Ur,s);else{if(n)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in r)try{r[t]=e??"";break t}catch{}typeof e=="function"||(e==null||e===!1&&t[4]!=="-"?r.removeAttribute(t):r.setAttribute(t,e))}}function Ur(r){var t=this.l[r.type+!1];if(r.t){if(r.t<=t.u)return}else r.t=Date.now();return t(W.event?W.event(r):r)}function Kr(r){return this.l[r.type+!0](W.event?W.event(r):r)}function je(r,t,e,o,n,s,i,c,l,a){var f,h,u,d,p,g,y,m,w,v,x,C,S,N,I,T=t.type;if(t.constructor!==void 0)return null;128&e.__u&&(l=!!(32&e.__u),s=[c=t.__e=e.__e]),(f=W.__b)&&f(t);t:if(typeof T=="function")try{if(m=t.props,w=(f=T.contextType)&&o[f.__c],v=f?w?w.props.value:f.__:o,e.__c?y=(h=t.__c=e.__c).__=h.__E:("prototype"in T&&T.prototype.render?t.__c=h=new T(m,v):(t.__c=h=new G(m,v),h.constructor=T,h.render=En),w&&w.sub(h),h.props=m,h.state||(h.state={}),h.context=v,h.__n=o,u=h.__d=!0,h.__h=[],h._sb=[]),h.__s==null&&(h.__s=h.state),T.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=dt({},h.__s)),dt(h.__s,T.getDerivedStateFromProps(m,h.__s))),d=h.props,p=h.state,h.__v=t,u)T.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(T.getDerivedStateFromProps==null&&m!==d&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(m,v),!h.__e&&(h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(m,h.__s,v)===!1||t.__v===e.__v)){for(t.__v!==e.__v&&(h.props=m,h.state=h.__s,h.__d=!1),t.__e=e.__e,t.__k=e.__k,t.__k.forEach(function(k){k&&(k.__=t)}),x=0;x<h._sb.length;x++)h.__h.push(h._sb[x]);h._sb=[],h.__h.length&&i.push(h);break t}h.componentWillUpdate!=null&&h.componentWillUpdate(m,h.__s,v),h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(d,p,g)})}if(h.context=v,h.props=m,h.__P=r,h.__e=!1,C=W.__r,S=0,"prototype"in T&&T.prototype.render){for(h.state=h.__s,h.__d=!1,C&&C(t),f=h.render(h.props,h.state,h.context),N=0;N<h._sb.length;N++)h.__h.push(h._sb[N]);h._sb=[]}else do h.__d=!1,C&&C(t),f=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++S<25);h.state=h.__s,h.getChildContext!=null&&(o=dt(dt({},o),h.getChildContext())),u||h.getSnapshotBeforeUpdate==null||(g=h.getSnapshotBeforeUpdate(d,p)),jr(r,le(I=f!=null&&f.type===Ut&&f.key==null?f.props.children:f)?I:[I],t,e,o,n,s,i,c,l,a),h.base=t.__e,t.__u&=-161,h.__h.length&&i.push(h),y&&(h.__E=h.__=null)}catch(k){t.__v=null,l||s!=null?(t.__e=c,t.__u|=l?160:32,s[s.indexOf(c)]=null):(t.__e=e.__e,t.__k=e.__k),W.__e(k,t,e)}else s==null&&t.__v===e.__v?(t.__k=e.__k,t.__e=e.__e):t.__e=Sn(e.__e,t,e,o,n,s,i,l,a);(f=W.diffed)&&f(t)}function Vr(r,t,e){t.__d=void 0;for(var o=0;o<e.length;o++)Fe(e[o],e[++o],e[++o]);W.__c&&W.__c(t,r),r.some(function(n){try{r=n.__h,n.__h=[],r.some(function(s){s.call(n)})}catch(s){W.__e(s,n.__v)}})}function Sn(r,t,e,o,n,s,i,c,l){var a,f,h,u,d,p,g,y=e.props,m=t.props,w=t.type;if(w==="svg"&&(n=!0),s!=null){for(a=0;a<s.length;a++)if((d=s[a])&&"setAttribute"in d==!!w&&(w?d.localName===w:d.nodeType===3)){r=d,s[a]=null;break}}if(r==null){if(w===null)return document.createTextNode(m);r=n?document.createElementNS("http://www.w3.org/2000/svg",w):document.createElement(w,m.is&&m),s=null,c=!1}if(w===null)y===m||c&&r.data===m||(r.data=m);else{if(s=s&&Ct.call(r.childNodes),y=e.props||Bt,!c&&s!=null)for(y={},a=0;a<r.attributes.length;a++)y[(d=r.attributes[a]).name]=d.value;for(a in y)d=y[a],a=="children"||(a=="dangerouslySetInnerHTML"?h=d:a==="key"||a in m||de(r,a,null,d,n));for(a in m)d=m[a],a=="children"?u=d:a=="dangerouslySetInnerHTML"?f=d:a=="value"?p=d:a=="checked"?g=d:a==="key"||c&&typeof d!="function"||y[a]===d||de(r,a,d,y[a],n);if(f)c||h&&(f.__html===h.__html||f.__html===r.innerHTML)||(r.innerHTML=f.__html),t.__k=[];else if(h&&(r.innerHTML=""),jr(r,le(u)?u:[u],t,e,o,n&&w!=="foreignObject",s,i,s?s[0]:e.__k&&It(e,0),c,l),s!=null)for(a=s.length;a--;)s[a]!=null&&Wr(s[a]);c||(a="value",p!==void 0&&(p!==r[a]||w==="progress"&&!p||w==="option"&&p!==y[a])&&de(r,a,p,y[a],!1),a="checked",g!==void 0&&g!==r[a]&&de(r,a,g,y[a],!1))}return r}function Fe(r,t,e){try{typeof r=="function"?r(t):r.current=t}catch(o){W.__e(o,e)}}function Be(r,t,e){var o,n;if(W.unmount&&W.unmount(r),(o=r.ref)&&(o.current&&o.current!==r.__e||Fe(o,null,t)),(o=r.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(s){W.__e(s,t)}o.base=o.__P=null,r.__c=void 0}if(o=r.__k)for(n=0;n<o.length;n++)o[n]&&Be(o[n],t,e||typeof r.type!="function");e||r.__e==null||Wr(r.__e),r.__=r.__e=r.__d=void 0}function En(r,t,e){return this.constructor(r,e)}function ue(r,t,e){var o,n,s,i;W.__&&W.__(r,t),n=(o=typeof e=="function")?null:e&&e.__k||t.__k,s=[],i=[],je(t,r=(!o&&e||t).__k=L(Ut,null,[r]),n||Bt,Bt,t.ownerSVGElement!==void 0,!o&&e?[e]:n?null:t.firstChild?Ct.call(t.childNodes):null,s,!o&&e?e:n?n.__e:t.firstChild,o,i),Vr(s,r,i)}Ct=Hr.slice,W={__e:function(r,t,e,o){for(var n,s,i;t=t.__;)if((n=t.__c)&&!n.__)try{if((s=n.constructor)&&s.getDerivedStateFromError!=null&&(n.setState(s.getDerivedStateFromError(r)),i=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(r,o||{}),i=n.__d),i)return n.__E=n}catch(c){r=c}throw r}},Pr=0,Et=function(r){return r!=null&&r.constructor==null},G.prototype.setState=function(r,t){var e;e=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=dt({},this.state),typeof r=="function"&&(r=r(dt({},e),this.props)),r&&dt(e,r),r!=null&&this.__v&&(t&&this._sb.push(t),Or(this))},G.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),Or(this))},G.prototype.render=Ut,kt=[],Dr=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Oe=function(r,t){return r.__v.__b-t.__v.__b},he.__r=0,window.$=b;function Nn(r,t){if(r==null)return[r,void 0];typeof t=="string"&&(t=t.split("."));const e=t.join(".");let o=r;const n=[o];for(;typeof o=="object"&&o!==null&&t.length;){let s=t.shift(),i;const c=s.indexOf("[");if(c>0&&c<s.length-1&&s.endsWith("]")&&(i=s.substring(c+1,s.length-1),s=s.substring(0,c)),o=o[s],n.push(o),i!==void 0)if(typeof o=="object"&&o!==null)o instanceof Map?o=o.get(i):o=o[i],n.push(o);else throw new Error(`Cannot access property "${s}[${i}]", the full path is "${e}".`)}if(t.length)throw new Error(`Cannot access property with rest path "${t.join(".")}", the full path is "${e}".`);return n}function In(r,t,e){try{const o=Nn(r,t),n=o[o.length-1];return n===void 0?e:n}catch{return e}}function U(r,...t){if(t.length===0)return r;if(t.length===1&&typeof t[0]=="object"&&t[0]){const e=t[0];return Object.keys(e).forEach(o=>{const n=e[o]??"";r=r.replace(new RegExp(`\\{${o}\\}`,"g"),`${n}`)}),r}for(let e=0;e<t.length;e++){const o=t[e]??"";r=r.replace(new RegExp(`\\{${e}\\}`,"g"),`${o}`)}return r}let Ue=(document.documentElement.getAttribute("lang")||"zh_cn").toLowerCase().replace("-","_"),ut;function An(){return Ue}function Rn(r){Ue=r.toLowerCase()}function Gr(r,t){ut||(ut={}),typeof r=="string"&&(r={[r]:t??{}}),b.extend(!0,ut,r)}function gt(r,t,e,o,n,s){Array.isArray(r)?ut&&r.unshift(ut):r=ut?[ut,r]:[r],typeof e=="string"&&(s=n,n=o,o=e,e=void 0);const i=n||Ue;let c;for(const l of r){if(!l)continue;const a=l[i];if(!a)continue;const f=s&&l===ut?`${s}.${t}`:t;if(c=In(a,f),c!==void 0)break}return c===void 0?o:e?U(c,...Array.isArray(e)?e:[e]):c}function Mn(r,t,e,o){return gt(void 0,r,t,e,o)}gt.addLang=Gr,gt.getLang=Mn,gt.getCode=An,gt.setCode=Rn,Gr({zh_cn:{confirm:"确定",cancel:"取消",delete:"删除",add:"添加"},zh_tw:{confirm:"確定",cancel:"取消",delete:"刪除",add:"添加"},en:{confirm:"Confirm",cancel:"Cancel",delete:"Delete",add:"Add"}});function Yr(r,t,e){r instanceof Headers?r.set(t,e):Array.isArray(r)?r.push([t,e]):r[t]=e}function Kt(r,t,e){e!=null&&(Array.isArray(e)?e.forEach(o=>Kt(r,t,o)):r.append(t,e instanceof Blob?e:String(e)))}function Pn(r,t){if(r){const e={text:"text/plain",html:"text/html",json:"application/json",...t};for(const[o,n]of Object.entries(e))if(n.split(",").map(s=>s.trim()).includes(r))return o}return"text"}function Ln(r,t){const e=t||new FormData;return r&&(typeof r=="string"&&(r=new URLSearchParams(r)),r instanceof URLSearchParams?r.forEach((o,n)=>{Kt(e,n,o)}):Array.isArray(r)?r.forEach(([o,n])=>{Kt(e,o,n)}):r instanceof FormData?r.forEach((o,n)=>{Kt(e,n,o)}):b.isPlainObject(r)&&Object.entries(r).forEach(([o,n])=>{Kt(e,o,n)})),e}class Dn{get completed(){return this.data!==void 0||this.error!==void 0}get[Symbol.toStringTag](){return"Ajax"}constructor(t){this.setting=t,this._controller=new AbortController,this._callbacks={success:[],error:[],complete:[]}}on(t,e){return this._callbacks[t].push(e),this}success(t){return this.on("success",t)}done(t){return this.success(t)}fail(t){return this.on("error",t)}complete(t){return this.on("complete",t)}always(t){return this.complete(t)}then(t,e){return this.completed?e&&this.error?e(this.error):t(this.data):(this.success(o=>t(o)),e&&this.fail(e)),this}catch(t){return this.error?(t(this.error),this):this.on("error",e=>t(e))}finally(t){return this.completed?(t(),this):this.complete(()=>t())}abort(t){return this.completed?!1:(this._abortError=t,this._controller.abort(),!0)}getResponseHeader(t){var e;return(e=this.response)==null?void 0:e.headers.get(t)}_init(){if(this.completed)return;const{url:t,type:e,data:o,processData:n=!0,contentType:s,crossDomain:i,accepts:c,dataType:l,timeout:a,dataFilter:f,beforeSend:h,success:u,error:d,complete:p,...g}=this.setting;if((h==null?void 0:h(g))===!1)return;e&&(g.method=e);let y=o;y&&(n&&(y=Ln(y)),g.body=y),i&&(g.mode="cors");const m=g.headers||{};Yr(m,"X-Requested-With","XMLHttpRequest"),s&&Yr(m,"Content-Type",s),g.headers=m,g.signal&&g.signal.addEventListener("abort",()=>{this.abort()}),u&&this.success(u),d&&this.fail(d),p&&this.complete(p),g.signal=this._controller.signal,this.url=t,this.request=g}_emit(t,...e){this._callbacks[t].forEach(o=>{o.call(this,...e)})}async send(){var a;if(this.completed)return[];this._init();const{timeout:t,dataType:e,accepts:o,dataFilter:n,throws:s}=this.setting;t&&(this._timeoutID=window.setTimeout(()=>{this.abort(new Error("timeout"))},t));let i,c,l;try{i=await fetch(this.url,this.request),this.response=i;const{statusText:f}=i;if(i.ok){const h=(a=i.headers.get("Content-Disposition"))==null?void 0:a.startsWith("attachment"),u=h?"blob":e||Pn(i.headers.get("Content-Type"),o);h||u==="blob"||u==="file"?l=await i.blob():u==="json"?l=await i.json():l=await i.text(),this.data=l;const d=(n==null?void 0:n(l,u))??l;this._emit("success",d,f,i)}else throw new Error(f)}catch(f){c=f;let h=!1;c.name==="AbortError"&&(this._abortError?c=this._abortError:h=!0),this.error=c,h||this._emit("error",c,i==null?void 0:i.statusText,c.message)}if(this._timeoutID&&clearTimeout(this._timeoutID),this._emit("complete",i,i==null?void 0:i.statusText),c&&s)throw c;return[l,c,i]}}async function qr(r,t=[],e){const o={throws:!0,dataType:"json"};if(typeof r=="string")o.url=r;else if(typeof r=="object")b.extend(o,r);else if(typeof r=="function"){const i=r(...t);return i instanceof Promise?await i:i}e&&b.extend(o,typeof e=="function"?e(o):e);const n=new Dn(o),[s]=await n.send();return s}b.fetch=qr;function Vt(){return b.guid++}function Ke(r,t){if(r===t)return!1;if(r&&t&&typeof r=="object"&&typeof t=="object"){const e=Array.isArray(r),o=Array.isArray(t);if(e!==o)return!0;if(e&&o){if(r.length!==t.length)return!0;for(let i=0;i<r.length;i++)if(Ke(r[i],t[i]))return!0;return!0}const n=Object.keys(r),s=Object.keys(t);if(n.length!==s.length)return!0;for(const i of n)if(Ke(r[i],t[i]))return!0;return!0}return!0}class ge{constructor(t,e){this._compute=t,this._dependencies=e}get value(){return this.compute()}get cache(){return this._lastDependencies?this._value:this.compute()}forceCompute(t){return this._lastDependencies=void 0,this.compute(t)}compute(t){t!==void 0&&(this._dependencies=t),t=this._dependencies,typeof t=="function"&&(t=t());const e=this._lastDependencies;return(!e||t.some((o,n)=>Ke(o instanceof ge?o.value:o,e[n])))&&(this._value=this._compute(),this._lastDependencies=t.map(o=>o instanceof ge?o.cache:o)),this._value}}function Zr(...r){const t=[],e=new Map,o=(n,s)=>{if(Array.isArray(n)&&(s=n[1],n=n[0]),!n.length)return;const i=e.get(n);typeof i=="number"?t[i][1]=!!s:(e.set(n,t.length),t.push([n,!!s]))};return r.forEach(n=>{typeof n=="function"&&(n=n()),Array.isArray(n)?Zr(...n).forEach(o):n&&typeof n=="object"?Object.entries(n).forEach(o):typeof n=="string"&&n.split(" ").forEach(s=>o(s,!0))}),t.sort((n,s)=>(e.get(n[0])||0)-(e.get(s[0])||0))}const P=(...r)=>Zr(...r).reduce((t,[e,o])=>(o&&t.push(e),t),[]).join(" ");b.classes=P,b.fn.setClass=function(r,...t){return this.each((e,o)=>{const n=b(o);r===!0?n.attr("class",P(n.attr("class"),...t)):n.addClass(P(r,...t))})};const Gt=new WeakMap;function Xr(r,t,e){const o=Gt.has(r),n=o?Gt.get(r):{};typeof t=="string"?n[t]=e:t===null?Object.keys(n).forEach(s=>{delete n[s]}):Object.assign(n,t),Object.keys(n).forEach(s=>{n[s]===void 0&&delete n[s]}),Object.keys(n).length?(!o&&r instanceof Element&&Object.assign(n,b(r).dataset(),n),Gt.set(r,n)):Gt.delete(r)}function Jr(r,t,e){let o=Gt.get(r)||{};return!e&&r instanceof Element&&(o=Object.assign({},b(r).dataset(),o)),t===void 0?o:o[t]}b.fn.dataset=b.fn.data,b.fn.data=function(...r){if(!this.length)return;const[t,e]=r;return!r.length||r.length===1&&typeof t=="string"?Jr(this[0],t):this.each((o,n)=>Xr(n,t,e))},b.fn.removeData=function(r=null){return this.each((t,e)=>Xr(e,r))};function Ve(r,t="z-"){const e=b(r)[0];if(e)return Array.from(e.attributes).reduce((o,n)=>{let{name:s,value:i}=n;if(s.startsWith(t)){s=s.slice(t.length).replace(/-([a-z])/g,c=>c[1].toUpperCase());try{i.startsWith("RAWJS<")&&i.endsWith(">RAWJS")?i=new Function(`return ${i.substring(6,i.length-6)}`)():i=JSON.parse(i)}catch{}o[s]=i}return o},{})}function Qr(r,t,e="z-"){const o=b(r);Object.keys(t).forEach(n=>{let s=t[n];typeof s=="function"&&(s=`RAWJS<${s}>RAWJS`),typeof s!="string"&&(s=JSON.stringify(s)),n=n.replace(/[A-Z]/g,i=>`-${i.toLowerCase()}`),o.attr(`${e}${n}`,s)})}function Hn(...r){var e;const t=r.length;if(!t)return Ve(this);if(t===1){const[o]=r;return typeof o=="string"?(e=Ve(this))==null?void 0:e[o]:(b.isPlainObject(o)&&Qr(this,o),this)}return Qr(this,{[r[0]]:r[1]}),this}b.fn.z=Hn,b.fn._attr=b.fn.attr,b.fn.extend({attr(...r){const[t,e]=r;return!r.length||r.length===1&&typeof t=="string"?this._attr.apply(this,r):typeof t=="object"?(t&&Object.keys(t).forEach(o=>{const n=t[o];n===null?this.removeAttr(o):this._attr(o,n)}),this):e===null?this.removeAttr(t):this._attr(t,e)}}),b.Event||(b.Event=(r,t)=>{const[e,...o]=r.split("."),n=new Event(e,{bubbles:!0,cancelable:!0});return n.namespace=o.join("."),n.___ot=e,n.___td=t,n});const Wn={};b.share=Wn;function O(r,...t){return t.forEach(e=>{!e||typeof e!="object"||Object.keys(e).forEach(o=>{let n=e[o];const s=r[o];n!==s&&(s!==void 0&&(o==="className"||o.endsWith("Class")?n=[s,n]:o==="children"?n=[...fe(s),...fe(n)]:typeof s=="object"&&(o==="style"||o.endsWith("Style")||o==="attrs"||o.endsWith("Attrs")||o==="props")&&(n=b.extend(s,n))),r[o]=n)})}),r}function $r(r){return Object.keys(r).forEach(t=>{r[t]===void 0&&delete r[t]}),r}const pe=new Map;function to(r){const{zui:t}=window;return(!pe.size||r&&!pe.has(r.toUpperCase()))&&Object.keys(t).forEach(e=>{const o=t[e];!o.NAME||!o.ZUI||pe.set(e.toLowerCase(),o)}),r?pe.get(r.toLowerCase()):void 0}function zn(r,t,e){const o=to(r);return o?!o.MULTI_INSTANCE&&o.get(t)?(console.error(`[ZUI] cannot create component "${r}" on element which already has a component instance.`,{element:t,options:e}),null):new o(t,e):null}b.fn.zuiInit=function(){return this.find("[data-zui]").each(function(){const r=b(this);let t=Ve(r,"data-");const[e,o]=t.zui.split(":");r.zui(e)||(o?t=b.share[o]:delete t.zui,requestAnimationFrame(()=>zn(e,this,t)))}),this.find(".hide-before-init").removeClass("invisible hidden opacity-0"),this.find(".scroll-into-view").scrollIntoView(),this},b.fn.zui=function(r,t){const e=this[0];if(!e)return;if(typeof r!="string"){const n=Jr(e,void 0,!0),s={};let i;return Object.keys(n).forEach(c=>{if(c.startsWith("zui.")){const l=n[c];s[c]=l,(!i||i.gid<l.gid)&&(i=s[c])}}),r===!0?s:i}const o=to(r);if(o)return t===!0?o.getAll(e):o.query(e,t)},b(()=>{b("body").zuiInit()});function On(r,t=!0){const e=b(r),o=e[0],n="zui-disable-scroll";if(t){if(e.data(n))return;if((e.css("scrollbar-gutter")||"").includes("stable")){e.data(n,{overflow:e.css("overflow")}).css("overflow","hidden");return}const s=o===document.body?window.innerWidth-document.body.clientWidth:o.offsetWidth-o.clientWidth;if(!s)return;const i=e.css("paddingRight")||"0";e.data(n,{paddingRight:i,overflow:e.css("overflow")}).css({paddingRight:`${s+Number.parseInt(i,10)}px`,overflow:"hidden"})}else{const s=e.data(n);if(!s)return;e.css(s).removeData(n)}}b.fn.disableScroll=function(r=!0){return this.each((t,e)=>{On(e,r)})},b.fn.enableScroll=function(r=!0){return this.disableScroll(!r)};class jn{constructor(t){this._$target=b(t)}on(...t){return this._$target.on(...t),this}one(...t){return this._$target.one(...t),this}off(...t){return this._$target.off(...t),this}trigger(...t){return this._$target.trigger(...t),this}}const nt=new jn(document);b.bus=nt,b.on=nt.on.bind(nt),b.one=nt.one.bind(nt),b.off=nt.off.bind(nt),b.trigger=nt.trigger.bind(nt);var Fn=["Shift","Meta","Alt","Control"],eo=typeof navigator=="object"?navigator.platform:"",ro=/Mac|iPod|iPhone|iPad/.test(eo),Bn=ro?"Meta":"Control",Un=eo==="Win32"?["Control","Alt"]:ro?["Alt"]:[];function Ge(r,t){return typeof r.getModifierState=="function"&&(r.getModifierState(t)||Un.includes(t)&&r.getModifierState("AltGraph"))}function Kn(r){return r.trim().split(" ").map(function(t){var e=t.split(/\b\+/),o=e.pop();return[e=e.map(function(n){return n==="$mod"?Bn:n}),o]})}function Vn(r,t){var e;t===void 0&&(t={});var o=(e=t.timeout)!=null?e:1e3,n=Object.keys(r).map(function(c){return[Kn(c),r[c]]}),s=new Map,i=null;return function(c){c instanceof KeyboardEvent&&(n.forEach(function(l){var a=l[0],f=l[1],h=s.get(a)||a;(function(u,d){return!(d[1].toUpperCase()!==u.key.toUpperCase()&&d[1]!==u.code||d[0].find(function(p){return!Ge(u,p)})||Fn.find(function(p){return!d[0].includes(p)&&d[1]!==p&&Ge(u,p)}))})(c,h[0])?h.length>1?s.set(a,h.slice(1)):(s.delete(a),f(c)):Ge(c,c.key)||s.delete(a)}),i&&clearTimeout(i),i=setTimeout(s.clear.bind(s),o))}}function Gn(r,t={}){if(!r)return;const e=Object.keys(t).reduce((o,n)=>(t[n].optional||(o[n]={...t[n]}),o),{});return Object.keys(r).forEach(o=>{const n=r[o];n?n===!0?t[o]&&(e[o]={...t[o]}):e[o]=n:delete e[o]}),Object.keys(e).reduce((o,n)=>{const{keys:s,handler:i}=e[n];return typeof s=="string"?o[s]=i:s.forEach(c=>{o[c]=i}),o},{})}function oo(r,t,e){const{timeout:o,event:n="keydown",scope:s,when:i}=e||{},c=Vn(t,{timeout:o});return b(r).on(`${n}.zui.hotkeys${s?`.${s}`:""}`,function(l){i&&i(l)===!1||c(l)})}function no(r,t){return b(r).off(`.zui.hotkeys${t?`.${t}`:""}`)}b.fn.hotkeys=function(r,t){return oo(this,r,t)},b.fn.unbindHotkeys=function(r){return no(this,r)},b.hotkeys=function(r,t){oo(window,r,t)},b.unbindHotkeys=function(r){no(window,r)};function Ye(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement}async function Yn(r){(typeof r=="string"||r instanceof Element||r instanceof b)&&(r={target:r});const{target:t,onError:e,onSuccess:o,afterExit:n,afterEnter:s}=r,i=b(t),c=i[0];if(!c)return;const l=c.requestFullscreen||c.webkitRequestFullscreen||c.mozRequestFullScreen;if(!l){e==null||e.call(c,new Error("[ZUI] The browser does not support full screen feature."));return}try{await l.call(c),o==null||o.call(c),b(c).off(".zui.fullscreen"),n&&i.on("exitFullscreen.zui.fullscreen",n),s&&i.on("enterFullscreen.zui.fullscreen",s)}catch(a){e==null||e.call(c,a)}document.zuiBindFullscreenChange||(document.zuiBindFullscreenChange=!0,b(document).on("fullscreenchange.zui webkitfullscreenchange.zui mozfullscreenchange.zui",a=>{const f=Ye();let h=f;f?b(f).addClass("is-in-fullscreen"):(h=b(document).find(".is-in-fullscreen")[0]||document,b(h).removeClass("is-in-fullscreen")),b("body").toggleClass("has-in-fullscreen",!!f);const u={event:a,target:h,fullscreenElement:f};b(h).trigger(f?"enterFullscreen":"exitFullscreen",u).trigger("toggleFullscreen",u)}))}async function so(r){const t=Ye();return r===!1&&!!t===r?r:t?(document.exitFullscreen(),!1):(await Yn(r),!0)}b.fn.fullscreen=function(r){return so({target:this,...r})},b.getFullscreenElement=Ye,b.toggleFullscreen=so;function io(r,t){const e=b(r)[0];if(!e)return!1;let{viewport:o}=t||{};const{left:n,top:s,width:i,height:c}=e.getBoundingClientRect();if(!o){const{innerHeight:p,innerWidth:g}=window,{clientHeight:y,clientWidth:m}=document.documentElement;o={left:0,top:0,width:g||m,height:p||y}}const{left:l,top:a,width:f,height:h}=o;if(t!=null&&t.fullyCheck)return n>=l&&s>=a&&n+i<=f&&s+c<=h;const u=n<=f&&n+i>=l;return s<=h&&s+c>=a&&u}b.fn.isVisible=function(r){return io(this,r)};function co(r,t,e=!1){const o=b(r);if(t!==void 0){if(t.length){const n=`zui-runjs-${Vt()}`;o.append(`<script id="${n}">${t}<\/script>`),e&&o.find(`#${n}`).remove()}return}o.find("script").each((n,s)=>{co(o,s.innerHTML),s.remove()})}b.runJS=(r,...t)=>(r=r.trim(),!r.startsWith("return ")&&!r.endsWith(";")&&(r=`return ${r}`),new Function(...t.map(([o])=>o),r)(...t.map(([,o])=>o))),b.fn.runJS=function(r){return this.each((t,e)=>{co(e,r)})};function qn(r,t){const e=b(r),{ifNeeded:o=!0,...n}=t||{};return e.each((s,i)=>{if(o){if(i.scrollIntoViewIfNeeded)return i.scrollIntoViewIfNeeded(n);if(io(i,{viewport:i.getBoundingClientRect()}))return}i.scrollIntoView(n)}),e}b.fn.scrollIntoView=function(r){return this.each((t,e)=>{qn(e,r)})},b.setLibRoot=function(r){b.libRoot=r},b.registerLib=function(r,t){b.libMap||(b.libMap={}),!t.name&&t.id&&(t.id=`zui-lib-${r}`),b.libMap[r]=t},b.getLib=function(r,t,e){return new Promise((o,n)=>{let s=typeof r=="string"?{src:r}:b.extend({},r);typeof t=="function"?s.success=t:t&&b.extend(s,t),e&&(s.success=e);let{src:i}=s;if(!i)return n(new Error("[ZUI] No src provided for $.getLib."));const c=b.libMap&&b.libMap[i];c&&(s=b.extend({},c,s),i=c.src||s.src);const{root:l=b.libRoot}=s;l&&(i=`${l}${l.endsWith("/")&&i.startsWith("/")?"":"/"}${i}`);const{success:a,name:f}=s,h=()=>f?window[f]:void 0,u=()=>{o(h()),a==null||a()};if(h()){u();return}const{id:d}=s,p=b(d?`#${d}`:`script[src="${i}"]`);if(p.length){if(p.dataset("loaded"))u();else{const C=p.data("loadCalls")||[];C.push(u),p.data("loadCalls",C)}return}const{async:g=!0,defer:y=!1,noModule:m=!1,type:w,integrity:v}=s,x=document.createElement("script");x.async=g,x.defer=y,x.noModule=m,w&&(x.type=w),v&&(x.integrity=v),x.onload=()=>{u(),(b(x).dataset("loaded",!0).data("loadCalls")||[]).forEach(S=>S()),b(x).removeData("loadCalls")},x.onerror=()=>{n(new Error(`[ZUI] Failed to load lib from: ${i}`))},x.src=i,b("head").append(x)})},b.getScript=b.getLib;function Yt(r){return r.parentNode===document?!1:r.parentNode?Yt(r.parentNode):!0}b.isDetached=Yt,b.fn.isDetached=function(){const r=this[0];return!r||Yt(r)};const lo={};function ao(r,t){typeof r=="object"?Object.keys(r).forEach(e=>{ao(e,r[e])}):t&&(lo[r.toLowerCase()]=t)}function Zn(r){return lo[r.toLowerCase()]}class K extends G{constructor(){super(...arguments),this._gid=Vt()}get gid(){return this._gid}get element(){return document.querySelector(`[z-gid-${this._gid}]`)}changeState(t,e){return new Promise(o=>{this.setState(t,()=>{e==null||e(),o(this.state)})})}_getClassName(t){return t.className}_getProps(t){const{className:e,attrs:o,props:n,data:s,forwardRef:i,children:c,component:l,style:a,class:f,...h}=t,u=new Set(this.constructor.customProps),d="dangerouslySetInnerHTML",p=Object.keys(h).reduce((g,y)=>{if(!u.has(y)&&(y===d||/^(on[A-Z]|data-|zui-|z-)[a-zA-Z-]+/.test(y))){const m=h[y];g[y]=y!==d&&m&&typeof m=="object"?JSON.stringify(m):m}return g},{});return{ref:i,className:P(this._getClassName(t),f)||void 0,style:a,[`z-gid-${this._gid}`]:"",...p,...o,...n}}_getComponent(t){const{component:e="div"}=t;return(typeof e=="string"?Zn(e):e)||e}_getChildren(t){return t.children}_beforeRender(t){return t}_onRender(t,e,o,n){return[t,e,o]}render(t){t=this._beforeRender(t)||t;let e=this._getComponent(t),o=this._getChildren(t),n=this._getProps(t);const s=this._onRender(e,n,o,t);return s&&([e,n,o]=s),L(e,n,o)}}K.HElement=!0,K.customProps=[];var Xn=0;function _(r,t,e,o,n,s){var i,c,l={};for(c in t)c=="ref"?i=t[c]:l[c]=t[c];var a={type:r,props:l,key:e,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--Xn,__i:-1,__u:0,__source:n,__self:s};if(typeof r=="function"&&(i=r.defaultProps))for(c in i)l[c]===void 0&&(l[c]=i[c]);return W.vnode&&W.vnode(a),a}class qt extends G{constructor(){super(...arguments),this._ref=Nt()}_runJS(){this.props.executeScript&&b(this._ref.current).runJS().zuiInit()}componentDidMount(){this._runJS()}componentDidUpdate(t){this.props.html!==t.html&&this._runJS()}render(t){const{executeScript:e,html:o,...n}=t;return _(K,{forwardRef:this._ref,dangerouslySetInnerHTML:{__html:o},...n})}}function Jn(r){const{tag:t,className:e,style:o,renders:n,generateArgs:s=[],generatorThis:i,generators:c,onGenerate:l,onRenderItem:a,...f}=r,h=[e],u={...o},d=[],p=[];return n.forEach(g=>{const y=[];if(typeof g=="string"&&c&&c[g]&&(g=c[g]),typeof g=="function")if(l)y.push(...l.call(i,g,d,...s));else{const m=g.call(i,d,...s);m&&(Array.isArray(m)?y.push(...m):y.push(m))}else y.push(g);y.forEach(m=>{m!=null&&(typeof m=="object"&&!Et(m)&&("html"in m||"__html"in m||"className"in m||"style"in m||"attrs"in m||"children"in m)?m.html?d.push(_("div",{className:P(m.className),style:m.style,dangerouslySetInnerHTML:{__html:m.html},...m.attrs??{}})):m.__html?p.push(m.__html):(m.style&&Object.assign(u,m.style),m.className&&h.push(m.className),m.children&&d.push(m.children),m.attrs&&Object.assign(f,m.attrs)):d.push(m))})}),p.length&&Object.assign(f,{dangerouslySetInnerHTML:{__html:p}}),[{className:P(h),style:u,...f},d]}function ho({tag:r="div",...t}){const[e,o]=Jn(t);return L(r,e,...o)}function qe(r){const{content:t,generatorArgs:e,generatorThis:o,...n}=r;let s=t;if(typeof s=="function"&&(s=s.call(o,...e||[])),Array.isArray(s))return s.map(i=>qe({...n,content:i,generatorThis:o,generatorArgs:e}));if(typeof s=="string"||typeof s=="number")return Object.keys(n).length?_("div",{...n,children:s}):s;if(s&&typeof s=="object"&&(typeof s.html=="string"||s.component)){if(s.html)return _(qt,{...O(n,s)});let{children:i}=s;return i&&(i=Array.isArray(i)?i:[i],s=O({children:i.map(c=>qe({...n,content:c,generatorThis:o,generatorArgs:e}))},s)),_(K,{...O(n,s)})}return Et(s)?s:(s&&(console.groupCollapsed("[ZUI] CustomContent format error"),console.trace("content:",s),console.log("props:",r),console.groupEnd()),null)}function V(r){const t=qe(r);return t==null||typeof t=="boolean"?null:Et(t)?t:_(Ut,{children:t})}const fo=r=>r.startsWith("icon-")?r:`icon-${r}`;function tt(r){const{icon:t,className:e,...o}=r;if(!t)return null;if(Et(t))return t;const n=["icon",e];if(typeof t=="string")n.push(fo(t));else if(typeof t=="object"){const{className:s,icon:i,...c}=t;n.push(s,i?fo(i):""),Object.assign(o,c)}return _("i",{className:P(n),...o})}function Qn(r){return this.getChildContext=()=>r.context,r.children}function $n(r){const t=this,e=r._container;t.componentWillUnmount=function(){ue(null,t._temp),t._temp=null,t._container=null},t._container&&t._container!==e&&t.componentWillUnmount(),r._vnode?(t._temp||(t._container=e,t._temp={nodeType:1,parentNode:e,childNodes:[],appendChild(o){this.childNodes.push(o),t._container.appendChild(o)},insertBefore(o,n){this.childNodes.push(o),t._container.appendChild(o)},removeChild(o){this.childNodes.splice(this.childNodes.indexOf(o)>>>1,1),t._container.removeChild(o)}}),ue(L(Qn,{context:t.context},r._vnode),t._temp)):t._temp&&t.componentWillUnmount()}ao({HElement:K,element:K,HtmlContent:qt,html:qt,CustomContent:V,custom:V,Icon:tt,Portal:$n});class me{constructor(t,e){this._inited=!1,this._autoDestory=0;const{KEY:o,DATA_KEY:n,DEFAULT:s,MULTI_INSTANCE:i,NAME:c}=this.constructor;if(!c)throw new Error('[ZUI] The component must have a "NAME" static property.');const l=b(t);if(l.data(o)&&!i)throw new Error("[ZUI] The component has been initialized on element.");const a=l[0],f=Vt();this._gid=f,this._element=a;const h=l.parent();if(h.length&&(this._mobs=new MutationObserver(u=>{u.forEach(d=>{d.removedNodes.forEach(p=>{p===a&&(this._autoDestory&&clearTimeout(this._autoDestory),this._autoDestory=window.setTimeout(()=>{this._autoDestory=0,Yt(a)&&this.destroy()},100))})})}),this._mobs.observe(h[0],{childList:!0,subtree:!1})),this._options={...s,...l.dataset()},this.setOptions(e),this._key=this.options.key??`__${f}`,l.data(o,this).attr(n,`${f}`),i){const u=`${o}:ALL`;let d=l.data(u);d||(d=new Map,l.data(u,d)),d.set(this._key,this)}this.init(),requestAnimationFrame(async()=>{this._inited=!0,await this.afterInit(),this.emit("inited",this.options)})}static get ZUI(){return this.NAME.replace(/(^[A-Z]+)/,t=>t.toLowerCase())}static get KEY(){return`zui.${this.NAME}`}static get NAMESPACE(){return`.zui.${this.ZUI}`}static get DATA_KEY(){return`data-zui-${this.NAME}`}get inited(){return this._inited}get element(){return this._element}get key(){return this._key}get options(){return this._options}get gid(){return this._gid}get $element(){return b(this.element)}get $emitter(){return this.$element}init(){}afterInit(){}render(t){this.setOptions(t)}destroy(){var s;const{KEY:t,DATA_KEY:e,MULTI_INSTANCE:o}=this.constructor,{$element:n}=this;if(this.emit("destroyed"),(s=this._mobs)==null||s.disconnect(),n.off(this.namespace).removeData(t).attr(e,null),o){const i=this.$element.data(`${t}:ALL`);if(i)if(i.delete(this._key),i.size===0)this.$element.removeData(`${t}:ALL`);else{const c=i.values().next().value;n.data(t,c).attr(e,c.gid)}}}setOptions(t){return t&&b.extend(this._options,t),this._options}emit(t,...e){const o=new b.Event(t);return o.__src=this,this.$emitter.trigger(o,[this,...e]),o}on(t,e,o){const n=this;this.$element[o!=null&&o.once?"one":"on"](this._wrapEvent(t),function(s,i){(!s.__src||s.__src===n)&&e.call(this,s,i)})}one(t,e){this.on(t,e,{once:!0})}off(t){this.$element.off(this._wrapEvent(t))}i18n(t,e,o){return gt(this.options.i18n,t,e,o,this.options.lang,this.constructor.NAME)??gt(this.options.i18n,t,e,o,this.options.lang)??`{i18n:${t}}`}get namespace(){return`${this.constructor.NAMESPACE}.${this._key}`}_wrapEvent(t){return t.split(" ").map(e=>e.includes(".")?e:`${e}${this.namespace}`).join(" ")}static get(t,e){const o=b(t);if(this.MULTI_INSTANCE&&e!==void 0){const n=o.data(`${this.KEY}:ALL`);return n?n.get(e):void 0}return o.data(this.KEY)}static ensure(t,e){const o=this.get(t,e==null?void 0:e.key);return o?(e&&o.setOptions(e),o):new this(t,e)}static getAll(t){const{MULTI_INSTANCE:e,DATA_KEY:o}=this,n=[];return b(t||document).find(`[${o}]`).each((s,i)=>{if(e){const l=b(i).data(`${this.KEY}:ALL`);if(l){n.push(...l.values());return}}const c=b(i).data(this.KEY);c&&n.push(c)}),n.sort((s,i)=>s.gid-i.gid)}static query(t,e,o){if(t===void 0){let n=this.getAll();return o&&(n=n.filter(o)),n.pop()}return this.get(b(t).closest(`[${this.DATA_KEY}]`),e)}static defineFn(t){let e=t||this.ZUI;b.fn[e]&&(e=`zui${this.NAME}`);const o=this;b.fn.extend({[e](n,...s){const i=typeof n=="object"?n:void 0,c=typeof n=="string"?n:void 0;let l;return this.each((a,f)=>{let h=o.get(f);if(h?i&&h.render(i):h=new o(f,i),c){let u=h[c],d=h;u===void 0&&(d=h.$,u=d[c]),typeof u=="function"?l=u.call(d,...s):l=u}}),l!==void 0?l:this}})}}me.DEFAULT={},me.MULTI_INSTANCE=!1;class Ze extends me{constructor(){super(...arguments),this._ref=Nt()}get $(){return this._ref.current}afterInit(){this.render()}destroy(){var t,e;(e=(t=this.$)==null?void 0:t.componentWillUnmount)==null||e.call(t),this.element&&(this.element.innerHTML=""),super.destroy()}render(t){const{element:e}=this,{Component:o,replace:n}=this.constructor,{$replace:s=n,...i}=this.setOptions(t),c={ref:this._ref,...i};if(s&&o.HElement&&(e.tagName.toLowerCase()===s||s===!0)){const l=Array.from(e.attributes).reduce((a,f)=>{const{name:h,value:u}=f;return a[h==="class"?"className":h]=u,a},{});return ue(L(o,O({component:e.tagName.toLowerCase(),attrs:l},c)),e.parentElement,e)}ue(L(o,c),e)}}Ze.replace=!1;const be=new Map,ye=[];function uo(r,t){const{name:e}=r;if(!(t!=null&&t.override)&&be.has(e))throw new Error(`DTable: Plugin with name ${e} already exists`);be.set(e,r),t!=null&&t.buildIn&&!ye.includes(e)&&ye.push(e)}function j(r,t){uo(r,t);const e=o=>{if(!o)return r;const{defaultOptions:n,...s}=r;return{...s,defaultOptions:{...n,...o}}};return e.plugin=r,e}function go(r){return be.delete(r)}function ts(r){if(typeof r=="string"){const t=be.get(r);return t||console.warn(`DTable: Cannot found plugin "${r}"`),t}if(typeof r=="function"&&"plugin"in r)return r.plugin;if(typeof r=="object")return r;console.warn("DTable: Invalid plugin",r)}function po(r,t,e){return t.forEach(o=>{var s;if(!o)return;const n=ts(o);n&&(e.has(n.name)||((s=n.plugins)!=null&&s.length&&po(r,n.plugins,e),r.push(n),e.add(n.name)))}),r}function es(r=[],t=!0){return t&&ye.length&&r.unshift(...ye),r!=null&&r.length?po([],r,new Set):[]}class At extends K{_beforeRender(t){const{text:e,loading:o,loadingText:n,caret:s,icon:i,trailingIcon:c,children:l}=t;this._isEmptyText=e==null||typeof e=="string"&&!e.length||o&&!n,this._onlyCaret=s&&this._isEmptyText&&!i&&!c&&!l&&!o}_getChildren(t){const{loading:e,loadingIcon:o,loadingText:n,icon:s,text:i,children:c,trailingIcon:l,caret:a}=t;return[e?_(tt,{icon:o||"icon-spinner-snake",className:"spin"}):_(tt,{icon:s}),this._isEmptyText?null:_("span",{className:"text",children:e?n:i}),e?null:c,e?null:_(tt,{icon:l}),e?null:a?_("span",{className:typeof a=="string"?`caret-${a}`:"caret"}):null]}_getClassName(t){const{type:e,className:o,disabled:n,loading:s,active:i,children:c,square:l,size:a,rounded:f}=t;return["btn",e,o,{"btn-caret":this._onlyCaret,disabled:n||s,active:i,loading:s,square:l===void 0?!this._onlyCaret&&!c&&this._isEmptyText:l},a?`size-${a}`:"",typeof f=="string"?`rounded-${f}`:{rounded:f}]}_getComponent(t){return t.component||(t.url?"a":"button")}_getProps(t){const e=this._getComponent(t),{url:o,target:n,disabled:s,btnType:i="button",hint:c}=t,l=e==="a",a={...super._getProps(t),disabled:!l&&s?"":void 0,title:c};return i&&(["button","reset","submit"].includes(i)?e==="button"&&(a.type=i):a.className=P([a.className,i])),s||(o!==void 0&&(a[l?"href":"data-url"]=o),n!==void 0&&(a[l?"target":"data-target"]=n)),a}}class et extends K{constructor(t){super(t),this._handleClick=this._handleClick.bind(this)}get name(){return this.props.name||this.constructor.NAME}get itemName(){return this.props.itemName||this.constructor.ITEM_NAME}getItems(){return this._items}getRenderedItem(t){return this._renderedItems.find(e=>e.key===t)}getItem(t){return this._items[this.getItemIndex(t)]}getItemIndex(t){return this._renderedItems.findIndex(e=>e.key===t)}getItemByIndex(t){return this._items[t]}getKey(t){var e,o;return(o=(e=this._renderedItems)==null?void 0:e[t])==null?void 0:o.key}_getItemFromEvent(t,e){var l;const o=(e||t.target).closest("[z-item]");if(!o||!((l=o.parentElement)!=null&&l.hasAttribute(`z-gid-${this._gid}`)))return;const n=+o.getAttribute("z-item"),s=this._items[n];if(!s)return;const i=this.getKey(n);if(i===void 0)return;const c=this._renderedItems[n];return{index:n,item:s,element:o,event:t,key:i,renderedItem:c,relativeTarget:this.props.relativeTarget}}_handleClick(t){var o,n;const e=this._getItemFromEvent(t);if(e)return(o=this.props.onClickItem)==null||o.call(this,e),(n=e.item.onClick)==null||n.call(this,t,e),e}_renderItem(t,e,o){const{beforeRenderItem:n}=t;if(n){const a=n.call(this,e,o);a!==void 0&&(e=a)}const{type:s}=e;let{itemRender:i}=t;if(i&&typeof i=="object"&&(i=i[s]),i){const a=i.call(this,e,o);if(a!==void 0)return _(V,{"z-key":e.key,"z-item":o,"z-type":s,content:a})}const{ItemComponents:c}=this.constructor;let l=c[s]||c.default||K;if(Array.isArray(l)){let a=l[1];typeof a=="function"&&(a=a.call(this,e,t)),e=O({},a,e),l=l[0]}return _(l,{"z-key":e.key,"z-item":o,"z-type":s,...e})}_getItem(t,e,o){if(!e)return!1;const{itemProps:n,itemPropsMap:s={},getItem:i,itemKey:c="id"}=t,{type:l=this.constructor.defaultItemType}=e,{name:a,itemName:f}=this,{defaultItemProps:h={},defaultItemPropsMap:u={}}=this.constructor;if(e=O({type:l},h,u[l],n,s[l],{className:[a?`${a}-${l}`:"",f]},e,{_item:e,_index:o,key:String((c?e[c]:e.key)??e.key??o),onClick:void 0}),i){const d=i.call(this,e,o);if(d!==void 0)return d}return e}_getProps(t){const e=super._getProps(t);return{onClick:this._handleClick,...e}}_getClassName(t){return[this.name,t.className]}_getItems(t){let{items:e=[]}=t;return typeof e=="function"?e=e.call(this):Array.isArray(e)||(e=[]),e}_renderItems(t,e){return this._renderedItems=e.map((o,n)=>{const s=this._getItem(t,o,n);return s||void 0}),this._renderedItems.reduce((o,n,s)=>(n&&o.push(this._renderItem(t,n,s)),o),[])}_getChildren(t){const e=this._getItems(t);this._items=e;const o=this._renderItems(t,e);return t.children&&o.push(t.children),o}_getComponent(t){return t.component||this.constructor.TAG}}et.NAME="",et.ITEM_NAME="item",et.TAG="ul",et.ItemComponents={default:K,divider:[K,{className:"divider"}],space:[K,r=>{const{space:t,flex:e,style:o}=r;return{style:{width:t,height:t,flex:e,...o}}}]},et.defaultItemProps={component:"li"},et.defaultItemPropsMap={},et.defaultItemType="item";class st extends et{_isBtnType({type:t}){return t==="item"||t==="dropdown"}_getItem(t,e,o){e.type||(e=b.extend({type:e.dropdown||e.items?"dropdown":"item"},e));let n=super._getItem(t,e,o);return n&&(this._isBtnType(n)&&(n=O({},this._shareBtnProps,n)),n)}_beforeRender(t){const{btnProps:e,btnType:o,size:n}=t;this._shareBtnProps=O({},e,$r({btnType:o,size:n}))}}st.NAME="btn-group",st.TAG="nav",st.ItemComponents={...et.ItemComponents,default:At},st.defaultItemProps={component:void 0};const _e=class xn extends st{_getProps(t){const{gap:e}=t,o=super._getProps(t);return e&&(typeof e=="number"?o.className=P(o.className,`gap-${e}`):o.style=b.extend(o.style||{},{gap:e})),o}_getItem(t,e,o){const n=super._getItem(t,e,o);if(!n)return n;const{type:s}=n,i=s==="btn-group"||s==="btnGroup";return i&&(n.btnProps=O({},this._shareBtnProps,n.btnProps)),(i||s==="dropdown")&&!n.relativeTarget&&(n.relativeTarget=t.relativeTarget),n}static render(t,e,o,n){let s=typeof t=="function"?t.call(n??this,...e):t;if(s)return Array.isArray(s)&&(s={items:s}),o&&(s=O(o,s)),_(xn,{...s})}};_e.NAME="toolbar",_e.defaultProps={btnProps:{btnType:"ghost"}},_e.ItemComponents={...st.ItemComponents,btnGroup:st,"btn-group":st};let Rt=_e;function rs(r){const[t,e]=r.split(":"),o=t[0]==="-"?{name:t.substring(1),disabled:!0}:{name:t};return e!=null&&e.length&&(o.type="dropdown",o.items=e.split(",").reduce((n,s)=>(s=s.trim(),s.length&&n.push(s[0]==="-"?{name:s.substring(1),disabled:!0}:{name:s}),n),[])),o}const os=(r,t)=>{var n;r.url&&(r.url=U(r.url,t.row.data));const e={row:t.row.id,col:t.col.name},o=((n=r.dropdown)==null?void 0:n.items)||r.items;return o&&o.forEach(s=>(s.url&&(s.url=U(s.url,t.row.data)),s.data=e,s)),r.data=e,r},mo=r=>r?(typeof r=="string"&&(r=r.split("|")),r.map(t=>typeof t=="string"?rs(t):t).filter(Boolean)):[],ns=j({name:"actions",colTypes:{actions:{onRenderCell(r,t){var f;const{row:e,col:o}=t,n=mo(((f=e.data)==null?void 0:f[o.name])||o.setting.actions);if(!n.length)return r;const{actionsSetting:s,actionsMap:i,actionsCreator:c=this.options.actionsCreator,actionItemCreator:l=this.options.actionItemCreator||os}=o.setting,a={items:(c==null?void 0:c(t))??n.map(h=>{const{name:u,...d}=h;if(i&&u){Object.assign(d,i[u],{...d});const{buildProps:g}=d;typeof g=="function"&&(delete d.buildProps,Object.assign(d,g(r,t)))}const{items:p}=d;if(d.disabled&&(delete d.url,delete d["data-toggle"]),p&&d.type==="dropdown"){const{dropdown:g={placement:"bottom-end"}}=d;g.menu={className:"menu-dtable-actions"},g.items=p.map(y=>{const m=typeof y=="string"?{name:y}:{...y};return m.name&&i&&i[m.name]&&Object.assign(m,i[m.name],{...m}),m.disabled?(delete m.url,delete m["data-toggle"]):m.url&&(m.url=U(m.url,e.data)),m}),d.dropdown=g,delete d.items}return l?l(d,t):d}),btnProps:{btnType:"ghost",size:"sm",className:"text-primary"},...s};return r[0]=_(Rt,{...a}),r}}},beforeLayout(r){!Array.isArray(r.data)||!r.data.length||r.cols.forEach((t,e)=>{if(t.type!=="actions"||t.width)return;const{actionsMap:o={}}=t,s=mo(r.data[0][t.name]).reduce((i,c)=>{const l=c.name?o[c.name]:null;return l&&l.type==="dropdown"&&l.caret&&!l.text?i+16:i+24},24);r.cols[e]={...t,width:s}})}}),ss=j({name:"toolbar",footer:{toolbar(){const{footToolbar:r,showToolbarOnChecked:t}=this.options;return t&&!this.getChecks().length?[]:[r?_(Rt,{gap:2,...Array.isArray(r)?{items:r}:r}):null]}}});function Zt(r,t){const e=r.pageTotal||Math.ceil(r.recTotal/r.recPerPage);return typeof t=="string"&&(t==="first"?t=1:t==="last"?t=e:t==="prev"?t=r.page-1:t==="next"?t=r.page+1:t==="current"?t=r.page:t=Number.parseInt(t,10)),t=t!==void 0?Math.max(1,Math.min(t<0?e+t:t,e)):r.page,{...r,pageTotal:e,page:t}}function is({key:r,type:t,btnType:e,page:o,format:n,pagerInfo:s,linkCreator:i,...c}){const l=Zt(s,o);return c.text===void 0&&!c.icon&&n&&(c.text=typeof n=="function"?n(l):U(n,l)),c.url===void 0&&i&&(c.url=typeof i=="function"?i(l):U(i,l)),c.disabled===void 0&&(c.disabled=o!==void 0&&l.page===s.page),_(At,{type:e,...c})}const Xt=r=>r?(r instanceof Date||(typeof r=="string"&&(r=r.trim(),/^\d+$/.test(r)&&(r=Number.parseInt(r,10))),typeof r=="number"&&r<1e10&&(r*=1e3),r=new Date(r)),r):new Date,cs=(r,t=new Date)=>Xt(r).getFullYear()===Xt(t).getFullYear(),ls=(r,t="yyyy-MM-dd hh:mm",e="")=>{if(r=Xt(r),Number.isNaN(r.getDay()))return e;const o={"M+":r.getMonth()+1,"d+":r.getDate(),"h+":r.getHours(),"H+":r.getHours()%12,"m+":r.getMinutes(),"s+":r.getSeconds(),"S+":r.getMilliseconds()};return/(y+)/i.test(t)&&(t.includes("[yyyy-]")&&(t=t.replace("[yyyy-]",cs(r)?"":"yyyy-")),t=t.replace(RegExp.$1,`${r.getFullYear()}`.substring(4-RegExp.$1.length))),Object.keys(o).forEach(n=>{if(new RegExp(`(${n})`).test(t)){const s=`${o[n]}`;t=t.replace(RegExp.$1,RegExp.$1.length===1?s:`00${s}`.substring(s.length))}}),t};function as({key:r,type:t,page:e,text:o="",pagerInfo:n,children:s,...i}){const c=Zt(n,e);return o=typeof o=="function"?o(c):U(o,c),_(K,{...i,children:[s,o]})}function hs({type:r,btnType:t,count:e=12,pagerInfo:o,linkCreator:n,...s}){if(!o.pageTotal)return;const i={...s,square:!0},c=()=>(i.text="",i.icon="icon-ellipsis-h",i.disabled=!0,_(At,{type:t,...i})),l=(f,h)=>{const u=[];for(let d=f;d<=h;d++){i.text=d,delete i.icon,i.disabled=!1;const p=Zt(o,d);n&&(i.url=typeof n=="function"?n(p):U(n,p)),u.push(_(At,{type:t,...i}))}return u};let a=[];return a=[...l(1,1)],o.pageTotal<=1||(o.pageTotal<=e?a=[...a,...l(2,o.pageTotal)]:o.page<e-2?a=[...a,...l(2,e-2),c(),...l(o.pageTotal,o.pageTotal)]:o.page>o.pageTotal-e+3?a=[...a,c(),...l(o.pageTotal-e+3,o.pageTotal)]:a=[...a,c(),...l(o.page-Math.ceil((e-4)/2),o.page+Math.floor((e-4)/2)),c(),...l(o.pageTotal,o.pageTotal)]),a}const Pi="",Li="";let fs=class extends G{render(t){const{id:e,popup:o,title:n,content:s,style:i,className:c,closeBtn:l,arrow:a,headingClass:f,titleClass:h,contentClass:u,arrowStyle:d,onlyInner:p}=t;let g=_(V,{content:s},"content");(u||n)&&(g=_("div",{className:u,children:g},"content"));const y=[],m=l?_("button",{className:"btn ghost square size-sm btn-close","data-dismiss":"popover",children:_("span",{className:"close"})}):null;return n?y.push(_("div",{className:f,children:[n?_("div",{className:h,children:n}):null,m]},"heading")):y.push(m),y.push(g),a&&y.push(_("div",{className:typeof a=="string"?a:"arrow",style:d},"arrow")),p?y:_("div",{id:e,className:P("popover",c,{popup:o}),style:i,children:y})}};class Xe extends Ze{}Xe.NAME="PopoverPanel",Xe.Component=fs;const pt=Math.min,q=Math.max,we=Math.round,ve=Math.floor,mt=r=>({x:r,y:r}),ds={left:"right",right:"left",bottom:"top",top:"bottom"},us={start:"end",end:"start"};function Je(r,t,e){return q(r,pt(t,e))}function Mt(r,t){return typeof r=="function"?r(t):r}function bt(r){return r.split("-")[0]}function Pt(r){return r.split("-")[1]}function bo(r){return r==="x"?"y":"x"}function Qe(r){return r==="y"?"height":"width"}function Jt(r){return["top","bottom"].includes(bt(r))?"y":"x"}function $e(r){return bo(Jt(r))}function gs(r,t,e){e===void 0&&(e=!1);const o=Pt(r),n=$e(r),s=Qe(n);let i=n==="x"?o===(e?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=xe(i)),[i,xe(i)]}function ps(r){const t=xe(r);return[tr(r),t,tr(t)]}function tr(r){return r.replace(/start|end/g,t=>us[t])}function ms(r,t,e){const o=["left","right"],n=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(r){case"top":case"bottom":return e?t?n:o:t?o:n;case"left":case"right":return t?s:i;default:return[]}}function bs(r,t,e,o){const n=Pt(r);let s=ms(bt(r),e==="start",o);return n&&(s=s.map(i=>i+"-"+n),t&&(s=s.concat(s.map(tr)))),s}function xe(r){return r.replace(/left|right|bottom|top/g,t=>ds[t])}function ys(r){return{top:0,right:0,bottom:0,left:0,...r}}function yo(r){return typeof r!="number"?ys(r):{top:r,right:r,bottom:r,left:r}}function Ce(r){return{...r,top:r.y,left:r.x,right:r.x+r.width,bottom:r.y+r.height}}function _o(r,t,e){let{reference:o,floating:n}=r;const s=Jt(t),i=$e(t),c=Qe(i),l=bt(t),a=s==="y",f=o.x+o.width/2-n.width/2,h=o.y+o.height/2-n.height/2,u=o[c]/2-n[c]/2;let d;switch(l){case"top":d={x:f,y:o.y-n.height};break;case"bottom":d={x:f,y:o.y+o.height};break;case"right":d={x:o.x+o.width,y:h};break;case"left":d={x:o.x-n.width,y:h};break;default:d={x:o.x,y:o.y}}switch(Pt(t)){case"start":d[i]-=u*(e&&a?-1:1);break;case"end":d[i]+=u*(e&&a?-1:1);break}return d}const _s=async(r,t,e)=>{const{placement:o="bottom",strategy:n="absolute",middleware:s=[],platform:i}=e,c=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let a=await i.getElementRects({reference:r,floating:t,strategy:n}),{x:f,y:h}=_o(a,o,l),u=o,d={},p=0;for(let g=0;g<c.length;g++){const{name:y,fn:m}=c[g],{x:w,y:v,data:x,reset:C}=await m({x:f,y:h,initialPlacement:o,placement:u,strategy:n,middlewareData:d,rects:a,platform:i,elements:{reference:r,floating:t}});if(f=w??f,h=v??h,d={...d,[y]:{...d[y],...x}},C&&p<=50){p++,typeof C=="object"&&(C.placement&&(u=C.placement),C.rects&&(a=C.rects===!0?await i.getElementRects({reference:r,floating:t,strategy:n}):C.rects),{x:f,y:h}=_o(a,u,l)),g=-1;continue}}return{x:f,y:h,placement:u,strategy:n,middlewareData:d}};async function er(r,t){var e;t===void 0&&(t={});const{x:o,y:n,platform:s,rects:i,elements:c,strategy:l}=r,{boundary:a="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:u=!1,padding:d=0}=Mt(t,r),p=yo(d),y=c[u?h==="floating"?"reference":"floating":h],m=Ce(await s.getClippingRect({element:(e=await(s.isElement==null?void 0:s.isElement(y)))==null||e?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:a,rootBoundary:f,strategy:l})),w=h==="floating"?{...i.floating,x:o,y:n}:i.reference,v=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),x=await(s.isElement==null?void 0:s.isElement(v))?await(s.getScale==null?void 0:s.getScale(v))||{x:1,y:1}:{x:1,y:1},C=Ce(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:w,offsetParent:v,strategy:l}):w);return{top:(m.top-C.top+p.top)/x.y,bottom:(C.bottom-m.bottom+p.bottom)/x.y,left:(m.left-C.left+p.left)/x.x,right:(C.right-m.right+p.right)/x.x}}const ws=r=>({name:"arrow",options:r,async fn(t){const{x:e,y:o,placement:n,rects:s,platform:i,elements:c,middlewareData:l}=t,{element:a,padding:f=0}=Mt(r,t)||{};if(a==null)return{};const h=yo(f),u={x:e,y:o},d=$e(n),p=Qe(d),g=await i.getDimensions(a),y=d==="y",m=y?"top":"left",w=y?"bottom":"right",v=y?"clientHeight":"clientWidth",x=s.reference[p]+s.reference[d]-u[d]-s.floating[p],C=u[d]-s.reference[d],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a));let N=S?S[v]:0;(!N||!await(i.isElement==null?void 0:i.isElement(S)))&&(N=c.floating[v]||s.floating[p]);const I=x/2-C/2,T=N/2-g[p]/2-1,k=pt(h[m],T),R=pt(h[w],T),M=k,H=N-g[p]-R,A=N/2-g[p]/2+I,F=Je(M,A,H),Q=!l.arrow&&Pt(n)!=null&&A!=F&&s.reference[p]/2-(A<M?k:R)-g[p]/2<0,ft=Q?A<M?A-M:A-H:0;return{[d]:u[d]+ft,data:{[d]:F,centerOffset:A-F-ft,...Q&&{alignmentOffset:ft}},reset:Q}}}),wo=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(t){var e,o;const{placement:n,middlewareData:s,rects:i,initialPlacement:c,platform:l,elements:a}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:u,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...y}=Mt(r,t);if((e=s.arrow)!=null&&e.alignmentOffset)return{};const m=bt(n),w=bt(c)===c,v=await(l.isRTL==null?void 0:l.isRTL(a.floating)),x=u||(w||!g?[xe(c)]:ps(c));!u&&p!=="none"&&x.push(...bs(c,g,p,v));const C=[c,...x],S=await er(t,y),N=[];let I=((o=s.flip)==null?void 0:o.overflows)||[];if(f&&N.push(S[m]),h){const M=gs(n,i,v);N.push(S[M[0]],S[M[1]])}if(I=[...I,{placement:n,overflows:N}],!N.every(M=>M<=0)){var T,k;const M=(((T=s.flip)==null?void 0:T.index)||0)+1,H=C[M];if(H)return{data:{index:M,overflows:I},reset:{placement:H}};let A=(k=I.filter(F=>F.overflows[0]<=0).sort((F,Q)=>F.overflows[1]-Q.overflows[1])[0])==null?void 0:k.placement;if(!A)switch(d){case"bestFit":{var R;const F=(R=I.map(Q=>[Q.placement,Q.overflows.filter(ft=>ft>0).reduce((ft,Ai)=>ft+Ai,0)]).sort((Q,ft)=>Q[1]-ft[1])[0])==null?void 0:R[0];F&&(A=F);break}case"initialPlacement":A=c;break}if(n!==A)return{reset:{placement:A}}}return{}}}};async function vs(r,t){const{placement:e,platform:o,elements:n}=r,s=await(o.isRTL==null?void 0:o.isRTL(n.floating)),i=bt(e),c=Pt(e),l=Jt(e)==="y",a=["left","top"].includes(i)?-1:1,f=s&&l?-1:1,h=Mt(t,r);let{mainAxis:u,crossAxis:d,alignmentAxis:p}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return c&&typeof p=="number"&&(d=c==="end"?p*-1:p),l?{x:d*f,y:u*a}:{x:u*a,y:d*f}}const vo=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(t){var e,o;const{x:n,y:s,placement:i,middlewareData:c}=t,l=await vs(t,r);return i===((e=c.offset)==null?void 0:e.placement)&&(o=c.arrow)!=null&&o.alignmentOffset?{}:{x:n+l.x,y:s+l.y,data:{...l,placement:i}}}}},xo=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(t){const{x:e,y:o,placement:n}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:c={fn:y=>{let{x:m,y:w}=y;return{x:m,y:w}}},...l}=Mt(r,t),a={x:e,y:o},f=await er(t,l),h=Jt(bt(n)),u=bo(h);let d=a[u],p=a[h];if(s){const y=u==="y"?"top":"left",m=u==="y"?"bottom":"right",w=d+f[y],v=d-f[m];d=Je(w,d,v)}if(i){const y=h==="y"?"top":"left",m=h==="y"?"bottom":"right",w=p+f[y],v=p-f[m];p=Je(w,p,v)}const g=c.fn({...t,[u]:d,[h]:p});return{...g,data:{x:g.x-e,y:g.y-o}}}}},Co=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(t){const{placement:e,rects:o,platform:n,elements:s}=t,{apply:i=()=>{},...c}=Mt(r,t),l=await er(t,c),a=bt(e),f=Pt(e),h=Jt(e)==="y",{width:u,height:d}=o.floating;let p,g;a==="top"||a==="bottom"?(p=a,g=f===(await(n.isRTL==null?void 0:n.isRTL(s.floating))?"start":"end")?"left":"right"):(g=a,p=f==="end"?"top":"bottom");const y=d-l[p],m=u-l[g],w=!t.middlewareData.shift;let v=y,x=m;if(h){const S=u-l.left-l.right;x=f||w?pt(m,S):S}else{const S=d-l.top-l.bottom;v=f||w?pt(y,S):S}if(w&&!f){const S=q(l.left,0),N=q(l.right,0),I=q(l.top,0),T=q(l.bottom,0);h?x=u-2*(S!==0||N!==0?S+N:q(l.left,l.right)):v=d-2*(I!==0||T!==0?I+T:q(l.top,l.bottom))}await i({...t,availableWidth:x,availableHeight:v});const C=await n.getDimensions(s.floating);return u!==C.width||d!==C.height?{reset:{rects:!0}}:{}}}};function yt(r){return ko(r)?(r.nodeName||"").toLowerCase():"#document"}function Z(r){var t;return(r==null||(t=r.ownerDocument)==null?void 0:t.defaultView)||window}function it(r){var t;return(t=(ko(r)?r.ownerDocument:r.document)||window.document)==null?void 0:t.documentElement}function ko(r){return r instanceof Node||r instanceof Z(r).Node}function ct(r){return r instanceof Element||r instanceof Z(r).Element}function rt(r){return r instanceof HTMLElement||r instanceof Z(r).HTMLElement}function To(r){return typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Z(r).ShadowRoot}function Qt(r){const{overflow:t,overflowX:e,overflowY:o,display:n}=J(r);return/auto|scroll|overlay|hidden|clip/.test(t+o+e)&&!["inline","contents"].includes(n)}function xs(r){return["table","td","th"].includes(yt(r))}function rr(r){const t=or(),e=J(r);return e.transform!=="none"||e.perspective!=="none"||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(e.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(e.contain||"").includes(o))}function Cs(r){let t=Lt(r);for(;rt(t)&&!ke(t);){if(rr(t))return t;t=Lt(t)}return null}function or(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ke(r){return["html","body","#document"].includes(yt(r))}function J(r){return Z(r).getComputedStyle(r)}function Te(r){return ct(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.pageXOffset,scrollTop:r.pageYOffset}}function Lt(r){if(yt(r)==="html")return r;const t=r.assignedSlot||r.parentNode||To(r)&&r.host||it(r);return To(t)?t.host:t}function So(r){const t=Lt(r);return ke(t)?r.ownerDocument?r.ownerDocument.body:r.body:rt(t)&&Qt(t)?t:So(t)}function $t(r,t,e){var o;t===void 0&&(t=[]),e===void 0&&(e=!0);const n=So(r),s=n===((o=r.ownerDocument)==null?void 0:o.body),i=Z(n);return s?t.concat(i,i.visualViewport||[],Qt(n)?n:[],i.frameElement&&e?$t(i.frameElement):[]):t.concat(n,$t(n,[],e))}function Eo(r){const t=J(r);let e=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const n=rt(r),s=n?r.offsetWidth:e,i=n?r.offsetHeight:o,c=we(e)!==s||we(o)!==i;return c&&(e=s,o=i),{width:e,height:o,$:c}}function nr(r){return ct(r)?r:r.contextElement}function Dt(r){const t=nr(r);if(!rt(t))return mt(1);const e=t.getBoundingClientRect(),{width:o,height:n,$:s}=Eo(t);let i=(s?we(e.width):e.width)/o,c=(s?we(e.height):e.height)/n;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}const ks=mt(0);function No(r){const t=Z(r);return!or()||!t.visualViewport?ks:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ts(r,t,e){return t===void 0&&(t=!1),!e||t&&e!==Z(r)?!1:t}function Tt(r,t,e,o){t===void 0&&(t=!1),e===void 0&&(e=!1);const n=r.getBoundingClientRect(),s=nr(r);let i=mt(1);t&&(o?ct(o)&&(i=Dt(o)):i=Dt(r));const c=Ts(s,e,o)?No(s):mt(0);let l=(n.left+c.x)/i.x,a=(n.top+c.y)/i.y,f=n.width/i.x,h=n.height/i.y;if(s){const u=Z(s),d=o&&ct(o)?Z(o):o;let p=u.frameElement;for(;p&&o&&d!==u;){const g=Dt(p),y=p.getBoundingClientRect(),m=J(p),w=y.left+(p.clientLeft+parseFloat(m.paddingLeft))*g.x,v=y.top+(p.clientTop+parseFloat(m.paddingTop))*g.y;l*=g.x,a*=g.y,f*=g.x,h*=g.y,l+=w,a+=v,p=Z(p).frameElement}}return Ce({width:f,height:h,x:l,y:a})}function Ss(r){let{rect:t,offsetParent:e,strategy:o}=r;const n=rt(e),s=it(e);if(e===s)return t;let i={scrollLeft:0,scrollTop:0},c=mt(1);const l=mt(0);if((n||!n&&o!=="fixed")&&((yt(e)!=="body"||Qt(s))&&(i=Te(e)),rt(e))){const a=Tt(e);c=Dt(e),l.x=a.x+e.clientLeft,l.y=a.y+e.clientTop}return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-i.scrollLeft*c.x+l.x,y:t.y*c.y-i.scrollTop*c.y+l.y}}function Es(r){return Array.from(r.getClientRects())}function Io(r){return Tt(it(r)).left+Te(r).scrollLeft}function Ns(r){const t=it(r),e=Te(r),o=r.ownerDocument.body,n=q(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),s=q(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let i=-e.scrollLeft+Io(r);const c=-e.scrollTop;return J(o).direction==="rtl"&&(i+=q(t.clientWidth,o.clientWidth)-n),{width:n,height:s,x:i,y:c}}function Is(r,t){const e=Z(r),o=it(r),n=e.visualViewport;let s=o.clientWidth,i=o.clientHeight,c=0,l=0;if(n){s=n.width,i=n.height;const a=or();(!a||a&&t==="fixed")&&(c=n.offsetLeft,l=n.offsetTop)}return{width:s,height:i,x:c,y:l}}function As(r,t){const e=Tt(r,!0,t==="fixed"),o=e.top+r.clientTop,n=e.left+r.clientLeft,s=rt(r)?Dt(r):mt(1),i=r.clientWidth*s.x,c=r.clientHeight*s.y,l=n*s.x,a=o*s.y;return{width:i,height:c,x:l,y:a}}function Ao(r,t,e){let o;if(t==="viewport")o=Is(r,e);else if(t==="document")o=Ns(it(r));else if(ct(t))o=As(t,e);else{const n=No(r);o={...t,x:t.x-n.x,y:t.y-n.y}}return Ce(o)}function Ro(r,t){const e=Lt(r);return e===t||!ct(e)||ke(e)?!1:J(e).position==="fixed"||Ro(e,t)}function Rs(r,t){const e=t.get(r);if(e)return e;let o=$t(r,[],!1).filter(c=>ct(c)&&yt(c)!=="body"),n=null;const s=J(r).position==="fixed";let i=s?Lt(r):r;for(;ct(i)&&!ke(i);){const c=J(i),l=rr(i);!l&&c.position==="fixed"&&(n=null),(s?!l&&!n:!l&&c.position==="static"&&!!n&&["absolute","fixed"].includes(n.position)||Qt(i)&&!l&&Ro(r,i))?o=o.filter(f=>f!==i):n=c,i=Lt(i)}return t.set(r,o),o}function Ms(r){let{element:t,boundary:e,rootBoundary:o,strategy:n}=r;const i=[...e==="clippingAncestors"?Rs(t,this._c):[].concat(e),o],c=i[0],l=i.reduce((a,f)=>{const h=Ao(t,f,n);return a.top=q(h.top,a.top),a.right=pt(h.right,a.right),a.bottom=pt(h.bottom,a.bottom),a.left=q(h.left,a.left),a},Ao(t,c,n));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Ps(r){return Eo(r)}function Ls(r,t,e){const o=rt(t),n=it(t),s=e==="fixed",i=Tt(r,!0,s,t);let c={scrollLeft:0,scrollTop:0};const l=mt(0);if(o||!o&&!s)if((yt(t)!=="body"||Qt(n))&&(c=Te(t)),o){const a=Tt(t,!0,s,t);l.x=a.x+t.clientLeft,l.y=a.y+t.clientTop}else n&&(l.x=Io(n));return{x:i.left+c.scrollLeft-l.x,y:i.top+c.scrollTop-l.y,width:i.width,height:i.height}}function Mo(r,t){return!rt(r)||J(r).position==="fixed"?null:t?t(r):r.offsetParent}function Po(r,t){const e=Z(r);if(!rt(r))return e;let o=Mo(r,t);for(;o&&xs(o)&&J(o).position==="static";)o=Mo(o,t);return o&&(yt(o)==="html"||yt(o)==="body"&&J(o).position==="static"&&!rr(o))?e:o||Cs(r)||e}const Ds=async function(r){let{reference:t,floating:e,strategy:o}=r;const n=this.getOffsetParent||Po,s=this.getDimensions;return{reference:Ls(t,await n(e),o),floating:{x:0,y:0,...await s(e)}}};function Hs(r){return J(r).direction==="rtl"}const Ws={convertOffsetParentRelativeRectToViewportRelativeRect:Ss,getDocumentElement:it,getClippingRect:Ms,getOffsetParent:Po,getElementRects:Ds,getClientRects:Es,getDimensions:Ps,getScale:Dt,isElement:ct,isRTL:Hs};function zs(r,t){let e=null,o;const n=it(r);function s(){clearTimeout(o),e&&e.disconnect(),e=null}function i(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),s();const{left:a,top:f,width:h,height:u}=r.getBoundingClientRect();if(c||t(),!h||!u)return;const d=ve(f),p=ve(n.clientWidth-(a+h)),g=ve(n.clientHeight-(f+u)),y=ve(a),w={rootMargin:-d+"px "+-p+"px "+-g+"px "+-y+"px",threshold:q(0,pt(1,l))||1};let v=!0;function x(C){const S=C[0].intersectionRatio;if(S!==l){if(!v)return i();S?i(!1,S):o=setTimeout(()=>{i(!1,1e-7)},100)}v=!1}try{e=new IntersectionObserver(x,{...w,root:n.ownerDocument})}catch{e=new IntersectionObserver(x,w)}e.observe(r)}return i(!0),s}function Os(r,t,e,o){o===void 0&&(o={});const{ancestorScroll:n=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=o,a=nr(r),f=n||s?[...a?$t(a):[],...$t(t)]:[];f.forEach(m=>{n&&m.addEventListener("scroll",e,{passive:!0}),s&&m.addEventListener("resize",e)});const h=a&&c?zs(a,e):null;let u=-1,d=null;i&&(d=new ResizeObserver(m=>{let[w]=m;w&&w.target===a&&d&&(d.unobserve(t),cancelAnimationFrame(u),u=requestAnimationFrame(()=>{d&&d.observe(t)})),e()}),a&&!l&&d.observe(a),d.observe(t));let p,g=l?Tt(r):null;l&&y();function y(){const m=Tt(r);g&&(m.x!==g.x||m.y!==g.y||m.width!==g.width||m.height!==g.height)&&e(),g=m,p=requestAnimationFrame(y)}return e(),()=>{f.forEach(m=>{n&&m.removeEventListener("scroll",e),s&&m.removeEventListener("resize",e)}),h&&h(),d&&d.disconnect(),d=null,l&&cancelAnimationFrame(p)}}const Lo=(r,t,e)=>{const o=new Map,n={platform:Ws,...e},s={...n.platform,_c:o};return _s(r,t,{...n,platform:s})},js='[data-toggle="popover"]',Do="show",Ho="in";class ot extends me{constructor(){super(...arguments),this._getClickBounding=()=>{const t=this._triggerEvent;return{x:t.clientX,y:t.clientY,left:t.clientX,top:t.clientY,width:0,height:0,bottom:t.clientY,right:t.clientX}},this._onClickDoc=t=>{const e=b(t.target);!e.closest(`#${this._id}`).length&&(this._virtual||!e.closest(this._triggerElement).length)&&this._targetElement!==e.closest(".popover")[0]&&this.hide()}}get shown(){return this._shown}get id(){return this._id}afterInit(){const{trigger:t,id:e,triggerEvent:o}=this.options;this._triggerEvent=o,this._id=e||`popover_${this.gid}`;const n=this.getTriggerElement();if(n instanceof HTMLElement){const i=b(n),{namespace:c}=this;t==="hover"?i.on(`mouseenter${c}`,l=>{const a=i.dataset("target");a&&this.setOptions({target:a}),this.show({delay:!0,event:l})}).on(`mouseleave${c}`,()=>{this.delayHide()}):t&&i.on(`${t}${c}`,l=>{const a=i.dataset("target");!this.shown&&a&&this.setOptions({target:a}),this.toggle({event:l}),l.preventDefault()})}const{show:s}=this.options;s&&this.show({delay:typeof s=="number"?s:!1})}getTriggerElement(){if(!this._triggerElement){let{element:t=this.element}=this.options;t===document.body&&(t={getBoundingClientRect:this._getClickBounding}),this._triggerElement=t,this._virtual=!(t instanceof HTMLElement)}return this._triggerElement}initTarget(){let t=this.options.target;return this._dynamic=!t,t?(typeof t=="function"&&(t=t()),b(t)[0]):this._createTarget()}show(t){const{delay:e,event:o}=t||{};if(o&&(this._triggerEvent=o),e)return this._resetTimer(()=>{this.show()},e===!0?this.options.delay:e);if(!this.inited){this.setOptions({show:!0});return}if(this._shown)return;const n=this.initTarget();if(!n)return;this._targetElement=n;const s=b(n),{animation:i,mask:c,onShow:l,onShown:a,trigger:f}=this.options;s.addClass(Do),i&&s.addClass(i===!0?"fade":i),this._shown=!0,this.render(),l==null||l.call(this),this.emit("show");const{namespace:h}=this;f==="hover"&&(this._clearDelayHide(),s.off(h).on(`mouseenter${h}`,()=>{this._clearDelayHide()}).on(`mouseleave${h}`,()=>{this.delayHide()})),s.on(`click${h}`,'[data-dismiss="popover"]',()=>{this.hide()}),this._virtual||b(this._triggerElement).addClass("with-popover-show"),this._resetTimer(()=>{s.addClass(Ho),this._resetTimer(()=>{a==null||a.call(this),this.emit("shown")},200),c&&b(document).off(`click${this.namespace}`,this._onClickDoc).on(`click${this.namespace}`,this._onClickDoc)},50)}hide(t){(!this._shown||!this._targetElement)&&this._resetTimer();const{destroyOnHide:e,animation:o,onHide:n,onHidden:s,trigger:i}=this.options,c=b(this._targetElement);this._shown=!1,n==null||n.call(this),this.emit("hide"),c.removeClass(Ho),i==="hover"&&(this._clearDelayHide(),c.off(this.namespace)),this._virtual||b(this._triggerElement).removeClass("with-popover-show").removeAttr("data-popover-placement"),b(document).off(this.namespace),this._resetTimer(()=>{s==null||s.call(this),this.emit("hidden"),c.removeClass(Do),(e||t)&&this._resetTimer(()=>{this.destroy()},!t&&typeof e=="number"?e:0),this._destoryTarget()},o?200:0)}toggle(t){this._shown?this.hide():this.show(t)}destroy(){if(super.destroy(),b(document).off(this.namespace),!this._virtual){const{namespace:t}=this;b(this._triggerElement).off(t)}this._resetTimer(),this._destoryTarget(),this._clearDelayHide()}layout(){const t=this._triggerElement,e=this._targetElement,o=this._layoutWatcher;if(!e||!t||!this._shown){o&&(o(),this._layoutWatcher=void 0);return}o||(this._layoutWatcher=Os(t,e,()=>{const{animation:n,name:s="popover"}=this.options;if(!this._virtual){const i={},{width:c,height:l}=this.options;c&&(i.width=typeof c=="function"?c():c==="100%"?b(t).width():c),l&&(i.height=typeof l=="function"?l():l),Object.keys(i).length&&b(e).css(i)}Lo(...this._getLayoutOptions()).then(({x:i,y:c,middlewareData:l,placement:a,strategy:f})=>{if(t instanceof HTMLElement&&Yt(t)){this.hide(!0);return}const h={position:f,left:i,top:c},u=b(e).css(h),d=a.split("-")[0],p={top:"bottom",right:"left",bottom:"top",left:"right"}[d],g=l.arrow;g&&u.find(".arrow").css({left:g.x,top:g.y}).attr("class",`arrow ${s}-arrow arrow-${p}`),n===!0&&u.attr("class",`${u.attr("class").split(" ").filter(y=>y!=="fade"&&!y.startsWith("fade-from")).join(" ")} fade-from-${p}`),this._virtual||b(this._triggerElement).attr("data-popover-placement",d)})}))}render(t){super.render(t);const e=this._targetElement;if(!e)return;const o=this._getRenderOptions(),n=b(e);if(n.toggleClass("popup",o.popup).css(o.style),o.className&&n.setClass(o.className),this._dynamic){let s=this._panel;s&&s.element!==e&&(s.destroy(),s=void 0),s?s.render(o):(s=new Xe(e,o),s.on("inited",()=>this.layout())),this._panel=s}else o.arrow&&(n.find(".arrow").length||n.append(b('<div class="arrow"></div>').css(o.arrowStyle))),this.layout()}delayHide(t=100){this._resetTimer(),this._clearDelayHide(),this._hideTimer=window.setTimeout(()=>{this._hideTimer=0,this.hide()},t)}_clearDelayHide(){this._hideTimer&&(clearTimeout(this._hideTimer),this._hideTimer=0)}_getLayoutOptions(){const t=this._triggerElement,e=this._targetElement,{placement:o,flip:n,limitSize:s,shift:i,offset:c,arrow:l,strategy:a}=this.options,f=l?e.querySelector(".arrow"):null,h=f?typeof l=="number"?l:5:0;return[t,e,{placement:o,strategy:a,middleware:[n?wo():null,i?xo(typeof i=="object"?i:void 0):null,c||h?vo((c||0)+h):null,l?ws({element:f}):null,s?Co({apply({availableWidth:u,availableHeight:d,placement:p}){b(e).css({maxHeight:d-(["top","bottom"].includes(p.split("-")[0])?h:0)-2,maxWidth:u-2})}}):null].filter(Boolean)}]}_getRenderOptions(){const{name:t="popover"}=this.options,{popup:e,title:o,content:n,headingClass:s=`${t}-heading`,titleClass:i=`${t}-title`,contentClass:c=`${t}-content`,style:l,className:a=t,closeBtn:f,arrow:h}=this.options;return{popup:e,title:o,titleClass:i,headingClass:s,contentClass:c,content:n,style:{zIndex:this.constructor.Z_INDEX++,...l},className:a,closeBtn:f,arrow:h?`arrow ${t}-arrow`:!1,arrowStyle:{"--arrow-size":`${typeof h=="number"?h:5}px`},onlyInner:!0}}_destoryTarget(){var t,e,o;(t=this._layoutWatcher)==null||t.call(this),this._layoutWatcher=void 0,this._dynamic&&((e=this._panel)==null||e.destroy(),(o=this._targetElement)==null||o.remove(),this._panel=void 0,this._targetElement=void 0)}_resetTimer(t,e=0){this._timer&&clearTimeout(this._timer),t&&(this._timer=window.setTimeout(()=>{this._timer=0,t()},e))}_createTarget(){const{container:t="body"}=this.options,e=b(t);let o=e.find(`#${this._id}`);return o.length||(o=b("<div />").attr({id:this._id,class:"popover"}).appendTo(e)),o[0]}static show(t){const{element:e,event:o,...n}=t,s=e||(o==null?void 0:o.currentTarget);return this.ensure(s instanceof HTMLElement?s:document.body,{element:s,show:!0,destroyOnHide:!0,triggerEvent:o,...n})}}ot.NAME="Popover",ot.Z_INDEX=1700,ot.MULTI_INSTANCE=!0,ot.DEFAULT={placement:"top",strategy:"absolute",flip:!0,arrow:!0,offset:1,trigger:"click",mask:!0,delay:0,animation:!0,closeBtn:!0,popup:!0},b(document).on(`click${ot.NAMESPACE} mouseenter${ot.NAMESPACE}`,js,r=>{const t=b(r.currentTarget);if(t.length&&!t.data(ot.KEY)){const e=t.data("trigger")||"click";if((r.type==="mouseover"?"hover":"click")!==e)return;ot.ensure(t,{show:!0,triggerEvent:r}),r.preventDefault()}});const Di="";class Se extends ot{constructor(){super(...arguments),this._onClickDoc=t=>{const e=b(t.target);!e.closest(".not-hide-menu,.form-control,input,label,.nested-toggle-icon").length&&(this._virtual||!e.closest(this._triggerElement).length)&&this.hide()}}_getMenuOptions(){const{items:t,placement:e,menu:o,tree:n,onClickItem:s,relativeTarget:i=this._triggerElement}=this.options;return{items:t,placement:e,tree:n,onClickItem:s,nestedToggle:".item",accordion:!0,relativeTarget:{target:i,event:this.options.triggerEvent,dropdown:this},popup:!0,...o}}_getRenderOptions(){const t=super._getRenderOptions();return this._dynamic?{...t,contentClass:"",popup:!1,content:L(hr,this._getMenuOptions())}:t}}Se.NAME="Dropdown",Se.DEFAULT={...ot.DEFAULT,name:"dropdown",placement:"bottom-start",arrow:!1,closeBtn:!1,animation:"fade",limitSize:!0};class Ee extends At{constructor(){super(...arguments),this._ref=Nt()}get triggerElement(){return this._ref.current}_updateData(){const{dropdown:t,menu:e,items:o,onClickItem:n,relativeTarget:s=this.triggerElement}=this.props,i=b(this.triggerElement),c=Se.get(this.triggerElement),l={items:o,onClickItem:n,menu:e,relativeTarget:s,...t};c?c.setOptions(l):i.data(l)}componentDidMount(){this._updateData()}componentDidUpdate(){this._updateData()}componentWillUnmount(){var t;(t=Se.get(this.triggerElement))==null||t.destroy()}_getProps(t){const{trigger:e,placement:o}=t;return{...super._getProps(t),"data-toggle":"dropdown","data-trigger":e,"data-placement":o,ref:this._ref}}}Ee.defaultProps={caret:!0},Object.assign(st.ItemComponents,{dropdown:Ee}),Object.assign(Rt.ItemComponents,{dropdown:Ee});function Fs(r){if(r.indexOf("#")===0&&(r=r.slice(1)),r.length===3&&(r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]),r.length!==6)throw new Error(`Invalid HEX color "${r}".`);return[parseInt(r.slice(0,2),16),parseInt(r.slice(2,4),16),parseInt(r.slice(4,6),16)]}function Bs(r){const[t,e,o]=typeof r=="string"?Fs(r):r;return t*.299+e*.587+o*.114>186}function Wo(r,t){return Bs(r)?(t==null?void 0:t.dark)??"#333333":(t==null?void 0:t.light)??"#ffffff"}function zo(r,t=255){return Math.min(Math.max(r,0),t)}function Us(r,t,e){r=r%360/360,t=zo(t),e=zo(e);const o=e<=.5?e*(t+1):e+t-e*t,n=e*2-o,s=i=>(i=i<0?i+1:i>1?i-1:i,i*6<1?n+(o-n)*i*6:i*2<1?o:i*3<2?n+(o-n)*(2/3-i)*6:n);return[s(r+1/3)*255,s(r)*255,s(r-1/3)*255]}function Ks(r){let t=0;if(typeof r!="string"&&(r=String(r)),r&&r.length)for(let e=0;e<r.length;++e)t+=(e+1)*r.charCodeAt(e);return t}function Vs(r,t){return/^[\u4e00-\u9fa5\s]+$/.test(r)?r.length<=t?r:r.substring(r.length-t):/^[A-Za-z\d\s]+$/.test(r)?r[0].toUpperCase():r.length<=t?r:r.substring(0,t)}class Oo extends G{render(){const{className:t,style:e,size:o="",circle:n,rounded:s,background:i,foreColor:c,icon:l,text:a,code:f,maxTextLength:h=2,src:u,hueDistance:d=43,saturation:p=.4,lightness:g=.6,children:y,...m}=this.props,w=["avatar",t],v={...e,background:i,color:c};let x=32;o&&(typeof o=="number"?(v.width=`${o}px`,v.height=`${o}px`,v.fontSize=`${Math.max(12,Math.round(o/2))}px`,x=o):(w.push(`size-${o}`),x={xs:20,sm:24,lg:48,xl:80}[o])),n?w.push("circle"):s&&(typeof s=="number"?v.borderRadius=`${s}px`:w.push(`rounded-${s}`));let C;if(u)w.push("has-img"),C=_("img",{className:"avatar-img",src:u,alt:a});else if(l)w.push("has-icon"),C=_(tt,{icon:l});else if(a!=null&&a.length){const S=Vs(a,h);if(w.push("has-text",`has-text-${S.length}`),i===void 0){const I=f??a,T=(typeof I=="number"?I:Ks(I))*d%360;if(v.background=`hsl(${T},${p*100}%,${g*100}%)`,!c){const k=Us(T,p,g);v.color=Wo(k)}}else!c&&i&&(v.color=Wo(i));let N;x&&x<14*S.length&&(N={transform:`scale(${x/(14*S.length)})`,whiteSpace:"nowrap"}),C=_("div",{"data-actualSize":x,className:"avatar-text",style:N,children:S})}return _("div",{className:P(w),style:v,...m,children:[C,y]})}}class Ne extends K{constructor(t){super(t),this._handleChange=e=>{const{onChange:o}=this.props,n=e.target.indeterminate?"indeterminate":e.target.checked;o&&o.call(this,e,n),this._controlled||this.setState({checked:n})},this.state={checked:t.checked??t.defaultChecked??!1},this._controlled=t.checked!==void 0}get checked(){return this._controlled?this.props.checked:this.state.checked}_getClassName(t){const{disabled:e,type:o="checkbox"}=t,{checked:n}=this;return[t.className,o==="switch"?o:`${o}-primary`,{disabled:e,checked:n===!0,indeterminate:n==="indeterminate"}]}_getChildren(t){const{name:e,type:o,value:n,id:s,label:i}=t,{checked:c}=this;return[e?_("input",{type:o==="radio"?o:"checkbox",name:e,id:s,value:n,onChange:this._handleChange,indeterminate:c==="indeterminate",checked:typeof c=="boolean"?c:void 0},"input"):null,_("label",{htmlFor:s,children:_(V,{content:i})},"label")]}}class Gs extends Ne{}Gs.defaultProps={type:"radio"};class Ys extends Ne{}Ys.defaultProps={type:"switch"};class sr extends K{_renderLeading(t){const{icon:e,avatar:o,toggleIcon:n,leading:s,leadingClass:i,checked:c,checkbox:l,multiline:a}=t,f=[];if(n&&f.push(_(V,{content:n},"toggleIcon")),c!==void 0&&f.push(_(Ne,{className:"item-checkbox",checked:c,...l},"checkbox")),e&&f.push(_(tt,{className:"item-icon",icon:e},"icon")),o){const u=typeof o=="function"?o.call(this,t):o;u&&(u.className=P("item-avatar",u.className),f.push(_(Oo,{...u},"avatar")))}const h=s?_(V,{content:s},"leading"):null;return h&&f.push(h),a?f.length?[_("div",{className:P("item-leading",i),children:f},"leading")]:[]:f}_renderContent(t,e){const{textClass:o,titleClass:n,titleAttrs:s,subtitle:i,subtitleClass:c,url:l,target:a,content:f,contentClass:h,contentAttrs:u}=t,d=l&&!e,p=d?"a":"div";let{title:g,text:y}=t;return g===void 0&&(g=y,y=null),[_("div",{className:P("item-content",h),...u,children:[g?_(p,{className:P("item-title",n),href:d?l:void 0,target:d?a:void 0,...s,children:_(V,{content:g})},"title"):null,i?_("div",{className:P("item-subtitle",c),children:_(V,{content:i})},"subtitle"):null,y?_("div",{className:P("item-text text",o),children:y},"text"):null,f?_(V,{content:f},"extraContent"):null]},"content")]}_renderTrailing(t){const{multiline:e,trailing:o,trailingClass:n,trailingIcon:s,actions:i}=t,c=[];s&&c.push(_(tt,{className:"item-trailing-icon",icon:s},"trailing-icon")),i&&c.push(Rt.render(i,[t],{key:"actions",relativeTarget:t,size:"sm"},this));const l=o?_(V,{content:o},"trailing"):null;return l&&c.push(l),e?c.length?[_("div",{className:P("item-trailing",n),children:[c,l]},"trailing")]:[]:c}_render(t,e){const{innerComponent:o,innerClass:n,innerAttrs:s,url:i,actions:c,target:l,active:a,disabled:f,divider:h,checked:u,multiline:d,title:p,subtitle:g,hint:y,selected:m}=t,w=o||(i&&!c?"a":"div"),v=w==="a",x=O({key:"item",title:y,className:P("listitem",n,{active:a,disabled:f,"has-divider":h,selected:m,checked:u,multiline:d??!!(p&&g),state:v&&!f})},v?{href:i,target:l}:null,e,s);return _(w,{...x,children:[this._renderLeading(t),this._renderContent(t,v),this._renderTrailing(t)]})}_onRender(t,e,o,n){const s=Object.keys(e).reduce((i,c)=>(c.startsWith("data-")&&(i[c]=e[c],delete e[c]),i),{});return[t,e,[this._render(n,s),...fe(o)]]}}class ir extends et{constructor(t){super(t),this._activeSet=new ge(()=>{const e=new Set,{active:o}=this.props;Array.isArray(o)?o.forEach(s=>e.add(s)):typeof o=="string"?e.add(o):o&&Object.keys(o).forEach(s=>o[s]&&e.add(s));const{activeMap:n}=this.state;return Object.keys(n).forEach(s=>n[s]?e.add(s):e.delete(s)),e},()=>[this.state.activeMap,this.props.active]),this.state={checked:{},activeMap:{}}}get namespace(){return`.zui.${this.constructor.NAME}.list_${this.gid}`}componentDidMount(){this._afterRender(!0),this.tryLoad(),this.props.activeOnHover&&!this.props.multipleActive&&b(this.element).on(`mouseenter${this.namespace}`,"[z-item]",t=>{const e=this._getItemFromEvent(t);e&&e.renderedItem.type==="item"&&!e.renderedItem.disabled&&!this.isActive(e.key)&&this.toggleActive(e.key,!0)})}componentDidUpdate(){this._afterRender(!1),this.tryLoad()}componentWillUnmount(){var t;b(this.element).off(this.namespace),(t=this.props.beforeDestroy)==null||t.call(this)}setItems(t,e){const{onLoadFail:o}=this.props;this.setState({loading:!1,items:t||[],loadFailed:e?(typeof o=="function"?o.call(this,e):o)||String(e):void 0})}load(){const{items:t,onLoad:e}=this.props;this._loadedSetting=t,this.setState({loading:!0,items:[]},async()=>{try{const o=await qr(t,[this],{throws:!0});this.setItems((e==null?void 0:e.call(this,o))||o)}catch(o){this.setItems(void 0,o)}})}tryLoad(){const{loading:t}=this.state,{items:e}=this.props;return t||!e||Array.isArray(e)||e===this._loadedSetting?!1:(this.load(),!0)}isChecked(t,e,o=!1){const n=(typeof e=="number"?this._items[e]:this.getItem(t))||{};return this.state.checked[t]??n.checked??o}isAllChecked(){return this._renderedItems.every(({key:t},e)=>this.isChecked(t,e)===!0)}toggleAllChecked(t){return t===void 0&&(t=!this.isAllChecked()),this.toggleChecked(this._renderedItems.map(e=>e.key),t)}async toggleChecked(t,e){let o;if(Array.isArray(t)){if(!t.length)return;e===void 0&&(e=!this.isChecked(t[0])),o=t.reduce((n,s)=>(n[s]=e,n),{})}else if(typeof t=="object")o=t;else{const n=this.isChecked(t);e===void 0&&(e=!n),o={[t]:e}}Object.keys(o).length&&await this.changeState(n=>({checked:{...n.checked,...o}}),()=>{var s;const n=this.state.checked;(s=this.props.onCheck)==null||s.call(this,o,Object.keys(n).filter(i=>n[i]===!0))})}getChecks(){return this._renderedItems.reduce((t,{key:e},o)=>(e!==void 0&&this.isChecked(e,o)===!0&&t.push(e),t),[])}isActive(t){return typeof t=="object"&&(t=t.key),this._activeSet.cache.has(t)}getActiveKeys(){return[...this._activeSet.value]}getActiveKey(){return this.getActiveKeys()[0]}async toggleActive(t,e){typeof t=="string"&&(t=[t]),t.length&&(e=e??!this.isActive(t[0]),await this.changeState(o=>({activeMap:this.props.multipleActive?t.reduce((s,i)=>(s[i]=e,s),{...o.activeMap}):{[t[0]]:e}}),()=>{var o;(o=this.props.onActive)==null||o.call(this,t,e)}))}getNextItem(t,e,o=1,n=void 0){if(n=n||this._renderedItems,t===void 0)return n.at(o?0:-1);const s=n.length;let i=n.findIndex(l=>l.key===t);if(i<0||s<2)return n.at(o?0:-1);let c=0;for(e=e||(l=>l.type==="item"&&!l.disabled);c<s;){i=(i+o+s)%s;const l=n[i];if(l&&e.call(this,l,i))return l;c++}}getPrevItem(t,e){return this.getNextItem(t,e,-1)}activeNext(t,e=1){const o=this.getNextItem(this.getActiveKey(),t,e);o&&this.toggleActive(o.key)}activePrev(t){this.activeNext(t,-1)}_afterRender(t){var e;(e=this.props.afterRender)==null||e.call(this,t)}_getItems(t){const{items:e}=t,{items:o}=this.state;return o||(Array.isArray(e)?e:[])}_getRenderedItem(t,e,o){const{divider:n,multiline:s}=t;e=O({},$r({divider:n,multiline:s}),e);const{itemName:i,name:c}=this;if(e.innerClass=[i?`${i}-inner${c?` ${c}-${e.type}-inner`:""}`:"",e.innerClass],e.type==="item"){const{checkbox:l}=t;l&&(e.checked=this.isChecked(e.key,o,e.checked),typeof l=="object"&&(e.checkbox=e.checkbox?b.extend({},l,e.checkbox):l),t.selectOnChecked&&e.checked===!0&&(e.selected=!0)),e.active===void 0&&this.isActive(e)&&(e.active=!0)}return e.icon&&(this._hasIcons=!0),e.checked!==void 0&&(this._hasCheckbox=!0),e}_getItem(t,e,o){const n=super._getItem(t,e,o);return n&&this._getRenderedItem(t,n,o)}_renderItem(t,e,o){return e.type==="item"&&this._hasIcons&&e.icon===void 0&&(e.icon="EMPTY"),super._renderItem(t,e,o)}_handleClick(t){const e=super._handleClick(t);let{checkOnClick:o}=this.props;if(o==="any"?o=".item-checkbox,.item-content,.item-icon":o===!0&&(o=".item-checkbox"),o&&e&&t.target.closest(o)){this.toggleChecked(e.key),t.stopPropagation();return}return e}_getClassName(t){const{loading:e,loadFailed:o}=this.state;return[super._getClassName(t),e?"loading":o?"is-load-failed":""]}_getProps(t){const{className:e,...o}=super._getProps(t);return{...o,className:P(e,this._hasIcons?"has-icons":"",this._hasCheckbox?"has-checkbox":"")}}_getChildren(t){this._hasIcons=!1,this._hasCheckbox=!1,this._activeSet.compute();const e=super._getChildren(t),{loadFailed:o}=this.state;return o&&e.push(o),e}}ir.ItemComponents={...et.ItemComponents,default:K,item:sr,heading:sr},ir.NAME="list";const cr="```ZUI_STR\n";class te{constructor(t="",e="local"){this._type=e,this._id=t,this._name=`ZUI_STORE:${this._id}`,this._storage=e==="local"?localStorage:sessionStorage}get type(){return this._type}get session(){return this.type==="session"?this:(this._altStorage||(this._altStorage=new te(this._id,"session")),this._altStorage)}_getKey(t){return`${this._name}:${t}`}switch(t){this._id=t,this._name=`ZUI_STORE:${this._id}`}get(t,e){const o=this._storage.getItem(this._getKey(t));if(typeof o=="string"){if(o.startsWith(cr))return o.substring(cr.length);try{return JSON.parse(o)}catch{}}return o??e}set(t,e){if(e==null)return this.remove(t);this._storage.setItem(this._getKey(t),typeof e=="string"?`${cr}${e}`:JSON.stringify(e))}remove(t){this._storage.removeItem(this._getKey(t))}each(t){for(let e=0;e<this._storage.length;e++){const o=this._storage.key(e);if(o!=null&&o.startsWith(this._name)){const n=this._storage.getItem(o);typeof n=="string"&&t(o.substring(this._name.length+1),JSON.parse(n))}}}getAll(){const t={};return this.each((e,o)=>{t[e]=o}),t}}const lr=new te("DEFAULT");function qs(r,t="local"){return new te(r,t)}Object.assign(lr,{create:qs});const Hi="";function jo(r,t){const{children:e}=r;e.length&&e.forEach(o=>{t(o),jo(o,t)})}function Zs(r,t){let e=r.parent;for(;e;)t(e),e=e.parent}function Fo(r){return r.split(":").reduce((t,e,o)=>(t.push(o?t[o-1]+":"+e:e),t),[])}function ar(r,t,e,o,n=0,s){return r.reduce((i,c,l)=>{const a=String((t?c[t]:c.key)??c.key??l),f=s?`${s.keyPath}:${a}`:a,h={key:a,level:n,keyPath:f,parentKey:s==null?void 0:s.keyPath,parent:s,data:c,children:[]};return s&&s.children.push(h),i=e(i,h),Array.isArray(c.items)?ar(c.items,t,e,i,n+1,h):i},o)}function Xs(r,t,e=new Map){return ar(r,t,(o,n)=>(o.set(n.keyPath,n),o),e)}class Ht extends ir{constructor(t){super(t);const{defaultNestedShow:e,preserve:o,nestedShow:n}=t;if(b.extend(this.state,typeof e=="boolean"?{defaultShow:e,nestedShow:{}}:{nestedShow:e||{}},n!==void 0?{nestedShow:n}:null),o&&n===void 0){this._storeID=`${this.constructor.NAME}:${o}:state`;const s=lr.get(this._storeID);s&&b.extend(this.state,s)}if(!t.level){const s=this.state.nestedShow;s&&Object.keys(s).forEach(i=>{s[i]&&Fo(i).forEach(c=>{s[c]=!0})}),this._needInitChecks=!0}this._renderedItemMap=new Map,this._handleHover=this._handleHover.bind(this),this._handleClick=this._handleClick.bind(this),this._beforeRenderNestedItem=this._beforeRenderNestedItem.bind(this),this._handleNestedToggle=this._handleNestedToggle.bind(this),this._handleNestedCheck=this._handleNestedCheck.bind(this),this._preserveState=this._preserveState.bind(this)}get isRoot(){return!this.props.level}get nestedShow(){return this.props.nestedShow??this.state.nestedShow??!1}get isHoverTrigger(){return this.props.nestedTrigger==="hover"}setItems(t,e){this.isRoot&&(this._needInitChecks=!0),super.setItems(t,e)}getItemMap(){return this._itemMap||(this._itemMap=Xs(this._items,this.props.itemKey)),this._itemMap}getRenderedItem(t){return this._renderedItemMap.get(t)}getItem(t){var o;if(this._itemMap)return(o=this._itemMap.get(t))==null?void 0:o.data;const e=this.getRenderedItem(t);return e?e._item:super.getItem(t)}isExpanded(t){const{nestedShow:e}=this;return typeof e=="boolean"?e:!!(e[t]??this.state.defaultShow)}async toggle(t,e){const o=this.isExpanded(t);if(e===o)return;e===void 0&&(e=!o);const{nestedShow:n,onToggle:s,accordion:i}=this.props;s&&s.call(this,t,e)===!1||n===void 0&&await this.changeState(c=>{const l={...c.nestedShow,[t]:e};if(e&&i){let a=`${t.split(":").slice(0,-1).join(":")}`;a.length&&(a+=":"),Object.keys(l).forEach(f=>{f!==t&&f.startsWith(a)&&(l[f]=!1)})}return{nestedShow:e?Fo(t).reduce((a,f)=>(a[f]=e,a),l):l}},this._preserveState)}toggleAll(t){if(this.props.nestedShow===void 0)return this.setState({nestedShow:{},defaultShow:t},this._preserveState)}getChecks(){return Array.from(this.getItemMap().values()).reduce((t,{keyPath:e,data:o})=>((this.state.checked[e]===!0||o.checked)===!0&&t.push(e),t),[])}isChecked(t,e,o=!1){const n=(typeof e=="number"?this._items[e]:this.getItem(t))||{};return this.isRoot?this.state.checked[t]??n.checked??o:this.props.checkedState[`${this.props.parentKey}:${t}`]??n.checked??o}async toggleChecked(t,e){let o;if(Array.isArray(t)){if(!t.length)return;e===void 0&&(e=!this.isChecked(t[0])),o=t.reduce((c,l)=>(c[l]=e,c),{})}else typeof t=="object"?o=t:(e===void 0&&(e=!this.isChecked(t)),o={[t]:e});if(!Object.keys(o).length)return;if(this.isRoot){const c=this.getItemMap();await this.changeState(({checked:l})=>{const a=f=>o[f.keyPath]??l[f.keyPath]??f.data.checked??!1;return Object.keys(o).forEach(f=>{e=o[f];const h=c.get(f);h&&(jo(h,u=>{a(u)!==e&&(o[u.keyPath]=e)}),Zs(h,u=>{const{children:d}=u,p=d.reduce((g,y)=>(a(y)&&g++,g),0);o[u.keyPath]=p===d.length?!0:p?"indeterminate":!1}))}),{checked:{...l,...o}}},()=>{var a;const l=this.state.checked;(a=this.props.onCheck)==null||a.call(this,o,Object.keys(l).filter(f=>l[f]===!0))});return}const{parentKey:n,onCheck:s}=this.props,i=Object.keys(o).reduce((c,l)=>(c[`${n!==void 0?`${n}:`:""}${l}`]=o[l],c),{});s.call(this,i,[])}getKeyPath(t){if(this.isRoot)return t;const e=this.props.parentKey;return t.startsWith(e+":")?t:`${e}:${t}`}isActive(t){if(typeof t=="object"){const e=t._keyPath??t.key;if(e===void 0)return!1;t=e}return this._activeSet.cache.has(this.getKeyPath(t))}async toggleActive(t,e){if(typeof t=="string"&&(t=[t]),t=t.map(o=>this.getKeyPath(o)),this.isRoot){await super.toggleActive(t,e),this.props.toggleOnActive&&t.forEach(o=>{this.isActive(o)&&!this.isExpanded(o)&&this.toggle(o,!0)});return}this.props.onActive.call(this,t,e??!this.isActive(t[0]))}activeNext(t,e=1){const o=this.getNextItem(this.getActiveKey(),t,e);o&&this.toggleActive(o._keyPath)}getNextItem(t,e,o=1,n=void 0){return n=n||ar(this._items,this.props.itemKey,(s,i)=>(s.push({_keyPath:i.keyPath,type:"item",...i.data,...this._renderedItemMap.get(i.keyPath),key:i.keyPath}),s),[]),super.getNextItem(t,e,o,n)}_afterRender(t){if(super._afterRender(t),this._needInitChecks){const e={};this.getItemMap().forEach(n=>{n.data.checked!==void 0&&(e[n.keyPath]=n.data.checked)}),this.toggleChecked(e),this._needInitChecks=!1}}_preserveState(){this._storeID&&lr.set(this._storeID,this.state)}_getClassName(t){return[super._getClassName(t),"is-nested",t.level?"is-nested-sub":"is-nested-root"]}_getNestedProps(t,e,o,n){const{parentKey:s,level:i=0}=t,{isRoot:c}=this;return O(this.constructor.inheritNestedProps.reduce((l,a)=>(l[a]=t[a],l),{}),{key:o.key,level:i+1,className:`is-nested-${n?"expanded":"collapsed"}`,items:e,parentKey:s?`${s}:${o.key}`:o.key,nestedShow:this.nestedShow,defaultNestedShow:this.state.defaultShow,checkedState:t.checkedState||this.state.checked,onCheck:c?this._handleNestedCheck:t.onCheck,onToggle:c?this._handleNestedToggle:t.onToggle,beforeRenderItem:c?this._beforeRenderNestedItem:t.beforeRenderItem,active:c?this.getActiveKeys():t.active,onActive:c?this.toggleActive.bind(this):t.onActive},o.listProps)}_renderNestedList(t,e,o,n){if(!n&&!t.renderCollapsedList)return;const s=this._getNestedProps(t,e,o,n),i=this.constructor;return _(i,{...s},`nested:${o.key}`)}_renderNestedToggle(t,e){let o,n="";const{toggleIcons:s={}}=t;return typeof e=="boolean"?(o=e?s.expanded||_("span",{className:"caret-down"}):s.collapsed||_("span",{className:"caret-right"}),n=`state is-${e?"expanded":"collapsed"}`):(o=_(tt,{icon:s.normal}),n="is-empty"),_("span",{className:P(`${this.name}-toggle nested-toggle-icon`,n),children:o})}_getItems(t){const e=super._getItems(t);return this.isRoot&&e!==this._items&&(this._itemMap=void 0),e}_getItem(t,e,o){const n=super._getItem(t,e,o)??e;if(!n)return n;const{parentKey:s}=t,i=n.key,c=`${s!==void 0?`${s}:`:""}${i}`;if(n.items){const l=n.expanded??this.isExpanded(c);O(n,{expanded:l,className:["is-nested",`is-nested-${l?"show":"hide"}`]}),this._hasNestedItems=!0}return O(n,{_level:t.level,_keyPath:c,parentKey:s})}_beforeRenderNestedItem(t){return this._renderedItemMap.set(t._keyPath,t),t}_renderItem(t,e,o){this._hasNestedItems&&e.type==="item"&&e.toggleIcon===void 0&&(e.toggleIcon=this._renderNestedToggle(t,e.expanded));const n=e.items?this._renderNestedList(t,e.items,e,e.expanded):null;return e=O(e,{"z-parent":e.parentKey,"z-key-path":e._keyPath},this._needHandleHover?{onMouseEnter:this._handleHover,onMouseLeave:this._handleHover}:null,n?{children:n}:null),this._renderedItemMap.set(e._keyPath,e),super._renderItem(t,e,o)}_getItemFromEvent(t,e){const o=super._getItemFromEvent(t,e);if(!o)return;(t.type==="mouseenter"||t.type==="mouseleave")&&(o.hover=t.type==="mouseenter");const{parentKey:n}=this.props;return{...o,parentKey:n,keyPath:`${n!==void 0?`${n}:`:""}${o.key}`,target:e||t.target}}_toggleFromEvent(t){const{item:e,hover:o,event:n,keyPath:s,target:i}=t,{nestedToggle:c}=this.props,{isHoverTrigger:l}=this;if(!e.items||n.defaultPrevented||l&&o===void 0||!l&&n.type!=="click"||i.closest(".not-nested-toggle")||c&&!i.closest(c)||!c&&i.closest("a,.btn,.item-checkbox")&&!i.closest(".nested-toggle-icon,.item-icon"))return t;const a=typeof o=="boolean"?o:void 0;this.toggle(s,a)}_handleNestedToggle(t,e){this.toggle(t,e)}_handleClick(t){const e=super._handleClick(t);return e&&this._toggleFromEvent(e)}_handleHover(t){var n;const e=this._getItemFromEvent(t);if(!e||((n=this.props.onHoverItem)==null||n.call(this,e),!this.isHoverTrigger))return;const o=this._hoverInfo;o&&(o.info.keyPath===e.keyPath?clearTimeout(o.timer):this._toggleFromEvent(o.info)),this._hoverInfo={info:e,timer:window.setTimeout(()=>{this._hoverInfo=void 0,this._toggleFromEvent(e)},e.hover?0:200)}}_handleNestedCheck(t){this.toggleChecked(t)}_getProps(t){const{level:e=0,indent:o=20,parentKey:n}=t,s=O(super._getProps(t),{"z-level":e,"z-parent-key":n,style:{"--list-nested-indent":`${e*o}px`,"--list-indent":`${o}px`},className:this._hasNestedItems?"has-nested-items":"no-nested-items"});return s.className=P(s.className),s}_beforeRender(t){return this._renderedItemMap.clear(),this._hasIcons=!1,this._hasNestedItems=!this.isRoot,this._needHandleHover=!!(t.onHoverItem||this.isHoverTrigger),super._beforeRender(t)}}Ht.defaultProps={defaultNestedShow:!1,level:0,indent:20},Ht.inheritNestedProps=["component","name","itemName","itemKey","indent","hover","divider","multiline","toggleIcons","nestedToggle","accordion","itemRender","itemProps","beforeRenderItem","onToggle","checkbox","getItem","checkOnClick","selectOnChecked","checkedState","onClickItem","activeOnHover","multipleActive","onActive"];class _t extends Ht{_getClassName(t){return P(super._getClassName(t),this._hasNestedItems?"menu-nested":"",t.className,t.wrap?{"scrollbar-thin":t.scrollbarThin,"scrollbar-hover":t.scrollbarHover}:{popup:t.popup,compact:t.compact})}_getWrapClass(t){return["menu-wrapper",t.wrapClass,{popup:t.popup,compact:t.compact}]}_getWrapperProps(t){const{wrapAttrs:e,height:o,maxHeight:n}=t,s=O({},e,o||n?{style:{height:o,maxHeight:n}}:null);return s.className=P(this._getWrapClass(t),s.className),s}_renderWrapperHeader(t){return _(V,{content:t.header},"header")}_renderWrapperFooter(t){return _(V,{content:t.footer},"footer")}render(t){const e=super.render(t);return t.wrap?_("menu",{...this._getWrapperProps(t),children:[this._renderWrapperHeader(t),e,this._renderWrapperFooter(t)]}):super.render(t)}}_t.NAME="menu",_t.TAG="menu",_t.inheritNestedProps=[...Ht.inheritNestedProps,"compact"],_t.ItemComponents={...Ht.ItemComponents,item:[sr,{innerComponent:"a"}]},_t.defaultProps={...Ht.defaultProps,scrollbarHover:!0};const Wi="",zi="";class Bo extends G{constructor(t){super(t),this._input=Nt(),this._timer=0,this._handleClearBtnClick=e=>{e.stopPropagation(),this.clear(e)},this._handleChange=e=>{const o=this.state.value,n=e.target.value,{onChange:s,delay:i}=this.props;this.setState({value:n},()=>{!s||o===n||(i?(this._clearTimer(),this._timer=window.setTimeout(()=>{s(n,e),this._timer=0},i)):s(n,e))})},this._handleFocus=e=>{const o=e.type==="focus";this.setState({focus:o},()=>{const n=o?this.props.onFocus:this.props.onBlur;n==null||n(e)})},this.state={focus:!1,value:t.defaultValue||""},this._gid=t.id||`search-box-${Vt()}`}componentDidMount(){const{hotkeys:t}=this.props;if(t){const e=Gn(t,{clear:{keys:"Escape",handler:o=>{this.clear(o)}},enter:{keys:"Enter",handler:o=>{var n,s;(s=(n=this.props).onEnter)==null||s.call(n,this.state.value,o)}}});e&&(this._hotkeysScope=`SearchBox_${this._gid}`,b(this.input).hotkeys(e,{scope:this._hotkeysScope,event:"keydown"}))}}componentWillUnmount(){this._hotkeysScope&&b(this.input).unbindHotkeys(this._hotkeysScope)}get id(){return this._gid}get input(){return this._input.current}focus(){var t;(t=this.input)==null||t.focus()}blur(){var t;(t=this.input)==null||t.blur()}clear(t){const e=this.state.value;this.setState({value:""},()=>{const{onChange:o,onClear:n}=this.props;n==null||n(t),this.focus(),e.trim()!==""&&(o==null||o("",t))})}_clearTimer(){this._timer&&clearTimeout(this._timer),this._timer=0}render(t,e){const{style:o,className:n,rootClass:s,rootStyle:i,readonly:c,disabled:l,circle:a,placeholder:f,mergeIcon:h,searchIcon:u,clearIcon:d,value:p,compact:g,prefixClass:y,suffixClass:m}=t,{focus:w,value:v}=e,{id:x}=this,C=p??v,S=typeof C!="string"||!C.trim().length;let N,I,T;return u&&(T=u===!0?_("span",{class:"magnifier"}):_(tt,{icon:u})),!h&&u&&(N=_("label",{for:x,class:P("input-control-prefix",y),children:T},"prefix")),d&&!S?I=_("button",{type:"button",class:"btn ghost size-sm square rounded-full",onClick:this._handleClearBtnClick,children:d===!0?_("span",{class:"close"}):_(tt,{icon:d})}):h&&u&&(I=T),I&&(I=_("label",{for:x,class:P("input-control-suffix",m),children:I},"suffix")),_("div",{class:P("search-box input-control",s,{focus:w,empty:S,compact:g,"has-prefix-icon":N,"has-suffix-icon":I}),style:i,children:[N,_("input",{ref:this._input,id:x,type:"text",class:P("form-control",n,{"rounded-full":a,"size-sm":g}),style:o,placeholder:f,disabled:l,readonly:c,value:C,onInput:this._handleChange,onChange:this._handleChange,onFocus:this._handleFocus,onBlur:this._handleFocus},"input"),I]})}}Bo.defaultProps={clearIcon:!0,searchIcon:!0,delay:500,hotkeys:!0};class ee extends _t{constructor(t){super(t),this._handleSearchChange=e=>{const o=this.constructor.getSearchKeys(e);this._searchKeys=o,this.setState({search:o.join(" ")})},this.state.search=t.search??t.defaultSearch,this._searchKeys=this.constructor.getSearchKeys(this.state.search),this._isNestedItemMatch=this._isNestedItemMatch.bind(this)}componentWillUpdate(t){this.isRoot&&t.search!==void 0&&t.search!==this.props.search&&(this._searchKeys=this.constructor.getSearchKeys(t.search))}componentDidMount(){super.componentDidMount(),this._updateMatchedParents()}componentDidUpdate(){super.componentDidUpdate(),this._updateMatchedParents()}isExpanded(t){return this.props.expandOnSearch&&this._searchKeys.length?!0:super.isExpanded(t)}_updateMatchedParents(){this.isRoot&&b(this.element).find(".item.is-nested.is-not-match").filter((t,e)=>this._matchedParents.has(e.getAttribute("z-key-path")||"")).addClass("has-match-child")}_isItemMatch(t,e,o,n){const{isItemMatch:s}=t,i=s?s.call(this,e,this._searchKeys,o,n):this.constructor.isItemMatch(e,this._searchKeys,t.searchProps);if(this.isRoot&&i&&n!==void 0){let c="";String(n).split(":").forEach(l=>{c+=`${c.length?":":""}${l}`,this._matchedParents.add(c)})}return i}_isNestedItemMatch(t,e,o,n){return this._isItemMatch(this.props,t,o,n)}_getNestedProps(t,e,o,n){const s=super._getNestedProps(t,e,o,n);return this.isRoot&&(s.isItemMatch=this._isNestedItemMatch,s.search=this._searchKeys.join(" ")),s}_getItem(t,e,o){const n=super._getItem(t,e,o);return n&&(n.hidden=!this._isItemMatch(t,e,o,t.parentKey),n)}_renderItem(t,e,o){return e.className=[e.className,e.hidden?"is-not-match":""],t.underlineKeys&&this._searchKeys.length&&["text","title","subtitle","content"].forEach(n=>{typeof e[n]=="string"&&(e[n]=this.constructor.underlineKeys(this._searchKeys,[e[n]]))}),super._renderItem(t,e,o)}_getWrapClass(t){const e=this.isRoot&&this._searchKeys.length;return P(super._getWrapClass(t),"search-menu",t.searchBox?`search-menu-on-${t.searchPlacement||"top"}`:"",e?"is-search-mode":"",e&&t.expandOnSearch?"no-toggle-on-search":"")}_renderSearchBox(t){const{searchBox:e}=t;if(!e||!this.isRoot)return null;const o={compact:!0,onChange:this._handleSearchChange};return typeof e=="object"&&b.extend(o,e),t.search!==void 0&&(o.value=this._searchKeys.join(" "),o.disabled=!0),_(Bo,{...o},"search")}_renderWrapperHeader(t){const e=t.header,o=this.isRoot&&t.searchBox&&t.searchPlacement!=="bottom";return!e&&!o?null:_("header",{className:"search-menu-header",children:[e?super._renderWrapperHeader(t):null,o?this._renderSearchBox(t):null]},"header")}_renderWrapperFooter(t){const e=t.footer,o=this.isRoot&&t.searchBox&&t.searchPlacement==="bottom";return!e&&!o?null:_("footer",{className:"search-menu-footer",children:[e?super._renderWrapperFooter(t):null,this._renderSearchBox(t)]},"footer")}_beforeRender(t){return this.isRoot&&(this._matchedParents=new Set),super._beforeRender(t)}static isItemMatch(t,e,o=["keys","text","title","subtitle"]){return e.length?e.every(n=>o.some(s=>{const i=t[s];return typeof i=="string"&&i.length&&i.toLowerCase().includes(n)})):!0}static getSearchKeys(t=""){return b.unique(t.toLowerCase().split(" ").filter(e=>e.length))}static underlineKeys(t,e,o="is-match-keys"){return t.reduce((n,s)=>[...n].reduce((i,c)=>{if(typeof c!="string")return i.push(c),i;const l=c.toLowerCase().split(s);if(l.length===1)return i.push(c),i;let a=0;return l.forEach((f,h)=>{h&&(i.push(_("span",{class:o,children:c.substring(a,a+s.length)})),a+=s.length),i.push(c.substring(a,a+f.length)),a+=f.length}),i},[]),e)}}ee.inheritNestedProps=[..._t.inheritNestedProps,"isItemMatch","search","underlineKeys"],ee.defaultProps={..._t.defaultProps,defaultNestedShow:!0,wrap:!0};class hr extends ee{get isHoverTrigger(){const{nestedTrigger:t,tree:e}=this.props;return t?t==="hover":!e}layout(){var s;if(this.props.tree||this.isRoot)return;const t=(s=this.element)==null?void 0:s.parentElement,n=b(t).parent().children(".dropdown-menu").children(`[z-key-path="${this.props.parentKey}"]`)[0];!t||!n||Lo(n,t,{placement:this.props.placement,middleware:[wo(),xo(),vo(1),Co({apply({availableWidth:i,availableHeight:c}){b(t).css({maxHeight:c-2,maxWidth:i-2})}})]}).then(({x:i,y:c})=>{b(t).css({left:i,top:c})})}_getClassName(t){return["dropdown-menu scrollbar-hover scrollbar-thin",super._getClassName(t)]}_afterRender(t){super._afterRender(t),this.layout()}_getNestedProps(t,e,o,n){return O(this.isHoverTrigger?{"z-key":o.key,"z-hover":this.props.parentKey??"root",onMouseEnter:this._handleHover,onMouseLeave:this._handleHover}:{},super._getNestedProps(t,e,o,n))}_getItemFromEvent(t){const e=super._getItemFromEvent(t);if(e)return e;const o=b(t.target).closest(".dropdown-menu[z-key]");if(o.length){const n=o.attr("z-key"),s=o.parent().parent().children(".dropdown-menu").children(`[z-key="${n}"]`);if(s.length)return super._getItemFromEvent(t,s[0])}}_renderNestedList(t,e,o,n){const s=super._renderNestedList(t,e,o,n);if(this.props.tree)return s;this._nestedContextMenu.push(s)}_getWrapClass(t){return[super._getWrapClass(t),t.tree?"is-tree":this.isRoot?"is-contextmenu":"is-contextmenu popup"]}_renderWrapperFooter(t){const e=super._renderWrapperFooter(t),o=this._nestedContextMenu;return this.props.tree||!o.length?e:[e,...o]}_renderNestedToggle(t,e){if(this.props.tree)return super._renderNestedToggle(t,e);if(typeof e=="boolean")return _("span",{className:`${this.name}-toggle nested-toggle-icon`,children:_("span",{className:"caret-right"})})}_beforeRender(t){return this._nestedContextMenu=[],super._beforeRender(t)}}hr.defaultProps={...ee.defaultProps,searchBox:!1,placement:"right-start",defaultNestedShow:!1,expandOnSearch:!1},hr.inheritNestedProps=[...ee.inheritNestedProps,"container","tree"];function Js({type:r,pagerInfo:t,linkCreator:e,items:o=[5,10,15,20,25,30,35,40,45,50,100,200,500,1e3,2e3],dropdown:n={},itemProps:s,...i}){var l;n.items=n.items||o.map(a=>{const f={...t,recPerPage:a};return{...s,text:`${a}`,active:a===t.recPerPage,url:typeof e=="function"?e(f):U(e,f)}});const{text:c=""}=i;return i.text=typeof c=="function"?c(t):U(c,t),n.menu={...n.menu,className:P((l=n.menu)==null?void 0:l.className,"pager-size-menu")},_(Ee,{dropdown:n,...i})}function Qs({key:r,page:t,type:e,btnType:o,pagerInfo:n,size:s,onClick:i,onChange:c,linkCreator:l,...a}){const f={...a};let h;const u=g=>{var y;h=Number((y=g.target)==null?void 0:y.value)||1,h=h>n.pageTotal?n.pageTotal:h},d=g=>{if(!(g!=null&&g.target))return;h=h<=n.pageTotal?h:n.pageTotal;const y=Zt(n,h);c&&!c({info:y,event:g})||(g.target.href=f.url=typeof l=="function"?l(y):U(l,y))},p=Zt(n,t||0);return f.url=typeof l=="function"?l(p):U(l,p),_("div",{className:P("input-group","pager-goto-group",s?`size-${s}`:""),children:[_("input",{type:"number",class:"form-control",max:n.pageTotal,min:"1",onInput:u}),_(At,{type:o,...f,onClick:d})]})}class Ie extends Rt{get pagerInfo(){return this._pagerInfo}_isBtnType(t){const{type:e}=t;return super._isBtnType(t)||["link","nav","size-menu","goto"].includes(e)}_beforeRender(t){const{page:e=1,recTotal:o=0,recPerPage:n=10}=this.props;return this._pagerInfo={page:+e,recTotal:+o,recPerPage:+n,pageTotal:n?Math.ceil(o/n):0},super._beforeRender(t)}_getItem(t,e,o){const n=super._getItem(t,e,o);if(!n)return n;const{type:s="item"}=e,i=this._pagerInfo;return s==="info"?b.extend(n,{pagerInfo:i}):(s==="link"||s==="size-menu"||s==="nav"||s==="goto")&&b.extend(n,{pagerInfo:i,linkCreator:t.linkCreator}),n}}Ie.NAME="pager",Ie.ItemComponents={...Rt.ItemComponents,info:as,link:is,nav:hs,"size-menu":Js,goto:Qs},Ie.defaultItemProps={btnType:"ghost",size:"sm"};const $s=j({name:"pager",footer:{pager(){const{footPager:r}=this.options;return[r?_(Ie,{...r}):null]}}});class Uo extends G{render(t){const{percent:e=50,size:o=24,circleBg:n,circleColor:s,text:i,className:c,textStyle:l,textX:a,textY:f,children:h}=t,u=o/2;let{circleWidth:d=.1}=t;d<1&&(d=o*d);const p=(o-d)/2;return _("svg",{className:c,width:o,height:o,children:[_("circle",{cx:u,cy:u,r:p,"stroke-width":d,stroke:n,fill:"transparent"}),_("circle",{cx:u,cy:u,r:p,"stroke-width":d,stroke:s,fill:"transparent","stroke-linecap":"round","stroke-dasharray":Math.PI*p*2,"stroke-dashoffset":Math.PI*p*2*(100-e)/100,style:{transformOrigin:"center",transform:"rotate(-90deg)"}}),i?_("text",{x:a??u,y:f??u+d/2,"dominant-baseline":"middle","text-anchor":"middle",style:l||{fontSize:`${p}px`},children:i===!0?Math.round(e):i}):null,h]})}}Uo.defaultProps={circleBg:"var(--color-surface)",circleColor:"var(--color-primary-500)",text:!0};class Ko extends G{render(t){const{percent:e=50,color:o,background:n=null,height:s,width:i,children:c,className:l,style:a}=t;return _("div",{class:P("progress",l),style:{width:i,height:s,"--progress-bg":n,"--progress-bar-color":o,...a},children:[_("div",{class:"progress-bar",style:{width:`${e}%`}}),c]})}}Ko.defaultProps={percent:50,height:20,width:"auto"};const ji="",Fi="";function fr(r,t,e,o){if(typeof r=="function"&&(r=r(t)),typeof r=="string"&&r.length&&(r={url:r}),!r)return e;const{url:n,...s}=r,{setting:i}=t.col,c={};return i&&Object.keys(i).forEach(l=>{l.startsWith("data-")&&(c[l]=i[l])}),_("a",{href:U(n,t.row.data),...o,...s,...c,children:e})}function dr(r,t,e){var o;if(r!=null)return e=e??((o=t.row.data)==null?void 0:o[t.col.name]),typeof r=="function"?r(e,t):U(r,e)}function Vo(r,t,e,o){var n;return e?(e=e??((n=t.row.data)==null?void 0:n[t.col.name]),r===!1?e:(r===!0&&(r="[yyyy-]MM-dd hh:mm"),typeof r=="function"&&(r=r(e,t)),ls(e,r,o??e))):o??e}function Go(r,t){const{link:e}=t.col.setting,o=fr(e,t,r[0]);return o&&(r[0]=o),r}function Yo(r,t){const{format:e}=t.col.setting;return e&&(r[0]=dr(e,t,r[0])),r}function qo(r,t){const{map:e}=t.col.setting;return typeof e=="function"?r[0]=e(r[0],t):typeof e=="object"&&e&&(r[0]=e[r[0]]??r[0]),r}function Zo(r,t,e){const o={};return typeof r=="function"?Object.assign(o,r(e)):Object.keys(r).forEach(n=>{var i;const s=(i=e.row.data)==null?void 0:i[r[n]];s!==void 0&&(o[n]=s)}),Object.keys(o).length&&t.push({style:o}),t}function Xo(r,t,e="[yyyy-]MM-dd hh:mm"){const{formatDate:o=e,invalidDate:n}=t.col.setting;return r[0]=Vo(o,t,r[0],n),r}function ur(r,t,e=!1){const{html:o=e}=t.col.setting;if(o===!1)return r;const n=r[0],s=o===!0?n:dr(o,t,n);return r[0]={html:s},r}const ti=j({name:"rich",colTypes:{html:{onRenderCell(r,t){return ur(r,t,!0)}},progress:{align:"center",onRenderCell(r,{col:t}){const{progressType:e,barColor:o,barBgColor:n,barHeight:s=6,barWidth:i=64,circleSize:c=24,circleBorderSize:l=1,circleBgColor:a="var(--color-border)",circleColor:f="var(--color-success-500)"}=t.setting,h=r[0];return r[0]=e==="bar"?_(Ko,{className:"rounded-full",width:i,height:s,color:o||f,background:n,percent:h}):_(Uo,{percent:h,size:c,circleWidth:l,circleBg:a,circleColor:f,text:!0}),r}},datetime:{formatDate:"[yyyy-]MM-dd hh:mm"},date:{formatDate:"yyyy-MM-dd"},time:{formatDate:"hh:mm"}},onRenderCell(r,t){const{formatDate:e,html:o,hint:n,styleMap:s}=t.col.setting;if(e&&(r=Xo(r,t,e)),r=qo(r,t),r=Yo(r,t),o?r=ur(r,t):r=Go(r,t),n){let i=t.value;typeof n=="function"?i=n.call(this,t):typeof n=="string"?i=U(n,t.row.data):typeof r[0]=="string"&&(i=r[0]),r.push({attrs:{title:i}})}return s&&(r=Zo(s,r,t)),r}},{buildIn:!0});function ei(r){return typeof r=="string"?r.split(",").map(t=>{const e=parseFloat(t);return Number.isNaN(e)?null:e}):r}class Jo extends G{constructor(){super(...arguments),this._canvas=Nt(),this._timer=0,this._needDraw=!1}componentDidMount(){var e;this.tryDraw=this.tryDraw.bind(this),this.tryDraw();const t=(e=this._canvas.current)==null?void 0:e.parentElement;if(this.props.responsive!==!1){if(t&&typeof ResizeObserver<"u"){const o=new ResizeObserver(this.tryDraw);o.observe(t),this._rob=o}this._rob||window.addEventListener("resize",this.tryDraw)}if(t&&typeof IntersectionObserver<"u"){const o=new IntersectionObserver(n=>{this._needDraw&&n.some(s=>s.isIntersecting)&&this.tryDraw()});o.observe(t),this._iob=o}}componentWillUnmount(){var t;(t=this._rob)==null||t.disconnect(),window.removeEventListener("resize",this.tryDraw)}tryDraw(){this._timer&&cancelAnimationFrame(this._timer),this._timer=requestAnimationFrame(()=>{this.draw(),this._timer=0})}draw(){const t=this._canvas.current;if(!t)return;const e=t.parentElement,{width:o,height:n,responsive:s=!0}=this.props;let i=o||e.clientWidth,c=n||e.clientHeight;if(o&&n&&s&&(i=e.clientWidth,c=Math.floor(n*i/o)),t.style.width=`${i}px`,t.style.height=`${c}px`,i=i*(window.devicePixelRatio||1),c=c*(window.devicePixelRatio||1),t.width=i,t.height=c,!b(e).isVisible()&&this._iob){this._needDraw=!0;return}const{lineSize:l=1,scaleLine:a=!1,scaleLineSize:f,scaleLineGap:h=1,scaleLineDash:u,referenceLine:d,referenceLineSize:p,referenceLineDash:g,color:y="#2c78f1",fillColor:m=["rgba(46, 127, 255, 0.3)","rgba(46, 127, 255, 0.05)"],lineDash:w=[],bezier:v}=this.props,x=ei(this.props.data);if(!x.length)return;const C=Math.floor(i/(x.length-1)),S=Math.max(...x.filter(k=>k!==null)),N=x.map((k,R)=>{const M=typeof k!="number";return{x:R*C,y:M?c:Math.round((1-k/S)*(c-l)),empty:M}});let I=N[0];const T=t.getContext("2d");if(a){const k=typeof a=="string"?a:"rgba(100,100,100,.1)";T.strokeStyle=k,T.lineWidth=f||l,u&&T.setLineDash(u);for(let R=0;R<N.length;++R){if(R%h!==0)continue;const M=N[R];T.moveTo(M.x,0),T.lineTo(M.x,c)}T.stroke()}if(d&&N.length>1){const k=typeof d=="string"?d:"rgba(100,100,100,.2)",R=N[N.length-1];T.moveTo(R.x,R.y),T.strokeStyle=k,T.lineWidth=p||l,T.lineTo(I.x,I.y),g&&T.setLineDash(g),T.stroke()}for(T.setLineDash(w);N.length&&N[N.length-1].empty;)N.pop();if(m){const k=N[N.length-1];if(T.beginPath(),T.moveTo(0,c),T.lineTo(I.x,I.y),v){const R=Math.round(C/2);for(let M=1;M<N.length;++M){const H=N[M],A=Math.round((H.y-I.y)/5);T.bezierCurveTo(I.x+R,I.y+A,H.x-R,H.y-A,H.x,H.y),I=H}}else for(let R=1;R<N.length;++R)I=N[R],T.lineTo(I.x,I.y);if(T.lineTo(k.x,c),Array.isArray(m)){const R=T.createLinearGradient(0,0,0,c);for(let M=0;M<m.length;++M)R.addColorStop(M/(m.length-1),m[M]);T.fillStyle=R}else T.fillStyle=m;T.fill()}if(I=N[0],T.beginPath(),T.moveTo(I.x,I.y),v){const k=Math.round(C/2);for(let R=1;R<N.length;++R){const M=N[R],H=Math.round((M.y-I.y)/5);T.bezierCurveTo(I.x+k,I.y+H,M.x-k,M.y-H,M.x,M.y),I=M}}else for(let k=1;k<N.length;++k)I=N[k],T.lineTo(I.x,I.y);T.strokeStyle=y,T.lineWidth=l,T.stroke()}render(){const{style:t,className:e,canvasClass:o}=this.props;return L("div",{class:"center burn-chart",className:e,style:t},L("canvas",{className:o,ref:this._canvas}))}}Jo.defaultProps={responsive:!0,lineSize:1,scaleLine:!1,scaleLineSize:1,bezier:!0};function ri({pri:r="",text:t,className:e}){return r=`${r}`.trim(),t===void 0&&(t=r==="0"||r===""?"":r),L("span",{className:P(`pri-${r}`,e)},t)}function oi({severity:r="",text:t,className:e}){r=`${r}`.trim(),t===void 0&&(t=r==="0"||r===""?"":r);const o=`${Number.parseInt(t)}`!=`${r}`;return L("span",{className:P(`severity${o?" severity-label":""}`,e),"data-severity":r},o?t:"")}const Ui="";function Qo(r,t,e){if(e){if(typeof e=="object"){const o=e[r];return typeof o=="string"?o:typeof o=="object"&&o?o.realname:""}if(typeof e=="function")return e(r,t)}}function $o(r,t,e){let o;if(typeof r=="function"?o=r(t,e):typeof r=="object"&&(o=r[t]),o)return L(tt,{className:"dtable-cell-icon",icon:o})}const tn={name:"zentao",plugins:["group","checkable","nested",ns,ss,$s],defaultOptions:{colHover:!1,rowHeight:36,striped:!1,responsive:"window,parent,.search-form,~document_layout",checkable:"auto",nested:"auto",width:"100%",footer:void 0,showToolbarOnChecked:!0,checkOnClickRow:!0,groupDivider:!0,preserveNested:!0,extraHeight:"+",height(r){var s;const t=(s=this.element)==null?void 0:s.closest(".modal-dialog"),e=b(t||"body");let o=this.options.extraHeight;typeof o=="string"&&(o[0]==="+"&&(o=(t?".modal-header,.modal-footer,.search-form,36,":"#header,#mainMenu,#mainNavbar,.search-form,")+o.slice(1)),o=o.split(",")),Array.isArray(o)||(o=[o]);const n=o.reduce((i,c)=>c?typeof c=="number"||/^\d+$/.test(c)?i+Number(c):i+(e.find(c).outerHeight()||0):i,0);return Math.min(r,window.innerHeight-1-n)}},options(r){const{checkable:t,footToolbar:e,footPager:o,footer:n}=r;if(n===void 0){const c=[];if(t&&c.push("checkbox"),e){const l=Array.isArray(e)?{items:e}:e;c.push("toolbar"),l.btnProps=b.extend({btnType:"primary",size:"sm"},l.btnProps),r.footToolbar=l}t&&c.push("checkedInfo"),o&&c.push("flex","pager"),c.length&&(r.footer=c)}const s={"data-load":"table","data-selector":"dtable","data-target":r.id,...r.loadOptions};r.loadPartial&&(s["data-partial"]=!0),o&&(o.btnProps=b.extend({type:"ghost",size:"sm"},o.btnProps),o.items&&o.items.forEach(c=>{c.type==="size-menu"?b.extend(!0,c,{itemProps:{...s},placement:"top"},c):c.type==="link"&&b.extend(c,s)}));let{sortLink:i}=r;return i&&(typeof i=="string"&&(i={url:i}),typeof i=="object"&&(i=b.extend(s,i)),r.sortLink=i),r},i18n:{zh_cn:{unassigned:"未指派"},zh_tw:{unassigned:"未指派"},en:{unassigned:"Unassigned"}},colTypes:{id:{width:60,fixed:"left",align:"center",sortType:!0},checkID:{width:80,fixed:"left",align:"left",sortType:!0,checkbox:!0},title:{width:.44,fixed:"left",align:"left",sortType:!0,flex:1,hint:!0},shortTitle:{width:.2,align:"left",sortType:!0,fixed:"left",checkbox:!0,flex:1,hint:!0},nestedTitle:{width:.5,align:"left",sortType:!0,fixed:"left",flex:1,nestedToggle:!0,nestedIndent:20,hint:!0},shortNestedTitle:{width:.33,align:"left",sortType:!0,fixed:"left",flex:1,nestedToggle:!0,nestedIndent:20,hint:!0},status:{width:80,align:"center",sortType:!0,onRenderCell(r,{col:t,row:e}){var i,c;const o=(i=e.data)==null?void 0:i[t.name];let n,s;return typeof o=="string"?(n=o,s=(c=t.setting.statusMap)==null?void 0:c[o]):typeof o=="object"&&o&&({name:n,label:s}=o),r[0]=L("span",{class:`${t.setting.statusClassPrefix??"status-"}${n}`},s??n),r}},user:{width:80,align:"center",sortType:!0,onRenderCell(r,{col:t,row:e,value:o}){const{userMap:n=this.options.userMap}=t.setting,s=Qo(o,e,n);return s!==void 0&&(r[0]=s),r}},assign:{width:108,align:"left",sortType:!0,cellClass:"px-1.5",onRenderCell(r,t){const{col:e,row:o,value:n}=t,{userMap:s=this.options.userMap,currentUser:i,assignLink:c,unassignedText:l=this.i18n("unassigned")}=e.setting,a=!n,f=a?l:Qo(n,o,s)??n;return r[0]=fr(c,t,[L("i",{className:"icon icon-hand-right"}),L("span",null,f)],{"data-toggle":"modal",className:`dtable-assign-btn${i===n?" is-me":""}${a?" is-unassigned":""}`}),r}},avatar:{width:44,align:"center",sortType:!0},avatarName:{width:108,align:"left",sortType:!0},avatarBtn:{width:108,align:"left",sortType:!0},category:{width:80,align:"center",flex:1,hint:!0},desc:{width:160,align:"left",flex:1,hint:!0},text:{width:136,align:"left",flex:1,hint:!0},icon:{width:52,align:"center",cellClass:"px-1",onRenderCell(r,{row:t,col:e,value:o}){const{iconRender:n}=e.setting,s=$o(n,o,t);return s&&(r[0]=s),r}},pri:{width:68,align:"center",cellClass:"px-1",sortType:!0,onRenderCell(r,{col:t,value:e}){const{priList:o={}}=t.setting;return r[0]=L(ri,{pri:e,text:o[e]}),r}},severity:{width:92,align:"center",cellClass:"px-1",sortType:!0,onRenderCell(r,{col:t,value:e}){const{severityList:o={}}=t.setting;return r[0]=L(oi,{severity:e,text:o[e]}),r}},burn:{width:88,align:"center",onRenderCell(r,{col:t}){const e=r[0];if(!e)return r;const{burn:o}=t.setting,n={data:e,className:"border-b",width:64,height:24,responsive:!1,...o};return r[0]=L(Jo,{...n}),r}},date:{width:96,align:"center",sortType:!0},time:{width:64,align:"center",sortType:!0},datetime:{width:128,align:"center",sortType:!0},progress:{width:64,align:"center",sortType:!0},money:{width:96,align:"right",sortType:!0},count:{width:92,align:"right",sortType:!0},number:{width:64,align:"center",sortType:!0},percent:{width:64,align:"center",sortType:!0,format(r){return typeof r=="string"&&r.endsWith("%")?r:`${r}%`}},actions:{minWidth:120,align:"left",fixed:"right"}},onRenderCell(r,{row:t,col:e,value:o}){const{iconRender:n}=e.setting;if(n&&e.type!=="icon"){const s=$o(n,o,t);s&&r.push(s)}return r},onRender(){const{customCols:r}=this.options;if(!r)return;const{custom:t,setGlobal:e,reset:o,resetGlobal:n}=r;return{children:L("div",{className:"absolute gap-1.5 m-1.5 top-0 right-0 z-20 row",style:"background:var(--dtable-header-bg)"},L("div",{className:"w-px border-l my-1"}),L("a",{className:"btn ghost square size-sm rounded","data-toggle":"dropdown","data-placement":"bottom-end"},L("i",{class:"icon icon-cog-outline"})),L("menu",{class:"dropdown-menu menu"},t&&L("li",{class:"menu-item"},L("a",{href:t.url,"data-toggle":"modal"},t.text)),e&&L("li",{class:"menu-item"},L("a",{class:"ajax-submit",href:e.url},e.text)),o&&L("li",{class:"menu-item"},L("a",{class:"ajax-submit",href:o.url},o.text)),n&&L("li",{class:"menu-item"},L("a",{class:"ajax-submit",href:n.url},n.text))))}}},ni=j(tn,{buildIn:!0}),Ki="",Vi="";class en extends G{constructor(e){super(e);Mr(this,vt,void 0);Mr(this,xt,void 0);Ft(this,vt,0),Ft(this,xt,null),this._handleWheel=o=>{const{wheelContainer:n}=this.props,s=o.target;if(!(!s||!n)&&(typeof n=="string"&&s.closest(n)||typeof n=="object")){const i=(this.props.type==="horz"?o.deltaX:o.deltaY)*(this.props.wheelSpeed??1);this.scrollOffset(i)&&o.preventDefault()}},this._handleMouseMove=o=>{const{dragStart:n}=this.state;n&&(jt(this,vt)&&cancelAnimationFrame(jt(this,vt)),Ft(this,vt,requestAnimationFrame(()=>{const s=this.props.type==="horz"?o.clientX-n.x:o.clientY-n.y;this.scroll(n.offset+s*this.props.scrollSize/this.props.clientSize),Ft(this,vt,0)})),o.preventDefault())},this._handleMouseUp=()=>{this.state.dragStart&&this.setState({dragStart:!1})},this._handleMouseDown=o=>{this.state.dragStart||this.setState({dragStart:{x:o.clientX,y:o.clientY,offset:this.scrollPos}}),o.stopPropagation()},this._handleClick=o=>{const n=o.currentTarget;if(!n)return;const s=n.getBoundingClientRect(),{type:i,clientSize:c,scrollSize:l}=this.props,a=(i==="horz"?o.clientX-s.left:o.clientY-s.top)-this.barSize/2;this.scroll(a*l/c),o.preventDefault()},this.state={scrollPos:this.props.defaultScrollPos??0,dragStart:!1}}get scrollPos(){return this.props.scrollPos??this.state.scrollPos}get controlled(){return this.props.scrollPos!==void 0}get maxScrollPos(){const{scrollSize:e,clientSize:o}=this.props;return Math.max(0,e-o)}get barSize(){const{clientSize:e,scrollSize:o,size:n=12,minBarSize:s=3*n}=this.props;return Math.max(Math.round(e*e/o),s)}componentDidMount(){document.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp);const{wheelContainer:e}=this.props;e&&(Ft(this,xt,typeof e=="string"?document:e.current),jt(this,xt).addEventListener("wheel",this._handleWheel,{passive:!1}))}componentWillUnmount(){document.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),jt(this,xt)&&jt(this,xt).removeEventListener("wheel",this._handleWheel)}scroll(e){return e=Math.max(0,Math.min(Math.round(e),this.maxScrollPos)),e===this.scrollPos?!1:(this.controlled?this._afterScroll(e):this.setState({scrollPos:e},this._afterScroll.bind(this,e)),!0)}scrollOffset(e){return this.scroll(this.scrollPos+e)}_afterScroll(e){const{onScroll:o}=this.props;o&&o(e,this.props.type??"vert")}render(){const{clientSize:e,type:o,size:n=12,className:s,style:i,left:c,top:l,bottom:a,right:f}=this.props,{maxScrollPos:h,scrollPos:u}=this,{dragStart:d}=this.state,p={left:c,top:l,bottom:a,right:f,...i},g={};return o==="horz"?(p.height=n,p.width=e,g.width=this.barSize,g.left=Math.round(Math.min(h,u)*(e-g.width)/h)):(p.width=n,p.height=e,g.height=this.barSize,g.top=Math.round(Math.min(h,u)*(e-g.height)/h)),_("div",{className:P("scrollbar",s,{"is-vert":o==="vert","is-horz":o==="horz","is-dragging":d}),style:p,onMouseDown:this._handleClick,children:_("div",{className:"scrollbar-bar",style:g,onMouseDown:this._handleMouseDown})})}}vt=new WeakMap,xt=new WeakMap;function rn(){return{cols:[],data:[],rowKey:"id",width:"100%",height:"auto",rowHeight:35,defaultColWidth:80,minColWidth:20,maxColWidth:9999,header:!0,footer:void 0,headerHeight:0,footerHeight:0,rowHover:!0,colHover:!1,cellHover:!1,bordered:!1,striped:!0,responsive:!1,scrollbarHover:!0,horzScrollbarPos:"outside"}}function si(r,t,e){return r&&(t&&(r=Math.max(t,r)),e&&(r=Math.min(e,r))),r}function on(r,t){return typeof r=="string"&&(r=r.endsWith("%")?parseFloat(r)/100:parseFloat(r)),typeof t=="number"&&(typeof r!="number"||isNaN(r))&&(r=t),r}function gr(r,t=!1){if(!r.list.length)return;if(r.widthSetting&&r.width!==r.widthSetting){r.width=r.widthSetting;const o=r.width-r.totalWidth;if(!t&&o>0||t&&o!==0){const n=r.flexList.length?r.flexList:r.list,s=n.reduce((i,c)=>i+(c.flex||1),0);n.forEach(i=>{const c=Math[o<0?"max":"min"](o,Math.ceil(o*((i.flex||1)/s)));i.realWidth=i.width+c})}}let e=0;r.list.forEach(o=>{o.realWidth||(o.realWidth=o.width),o.left=e,e+=o.realWidth})}function ii(r,t,e,o){const{defaultColWidth:n,minColWidth:s,maxColWidth:i,fixedLeftWidth:c=0,fixedRightWidth:l=0}=t,a=w=>(typeof w=="function"&&(w=w.call(r)),w=on(w,0),w<1&&(w=Math.round(w*o)),w),f={width:0,list:[],flexList:[],widthSetting:0,totalWidth:0},h={...f,list:[],flexList:[],widthSetting:a(c)},u={...f,list:[],flexList:[],widthSetting:a(l)},d=[],p={};let g=!1;const y=[],m={};if(e.forEach(w=>{const{colTypes:v,onAddCol:x}=w;v&&Object.entries(v).forEach(([C,S])=>{m[C]||(m[C]=[]),m[C].push(S)}),x&&y.push(x)}),t.cols.forEach(w=>{if(w.hidden)return;const{type:v="",name:x}=w,C={fixed:!1,flex:!1,width:n,minWidth:s,maxWidth:i,...w,type:v},S={name:x,type:v,setting:C,flex:0,left:0,width:0,realWidth:0,visible:!0,index:d.length},N=m[v];N&&N.forEach(A=>{const F=typeof A=="function"?A.call(r,C):A;F&&Object.assign(C,F,w)});const{fixed:I,flex:T,minWidth:k=s,maxWidth:R=i}=C,M=on(C.width||n,n);S.flex=T===!0?1:typeof T=="number"?T:0,S.width=si(M<1?Math.round(M*o):M,k,R),y.forEach(A=>A.call(r,S)),d.push(S),p[S.name]=S;const H=I?I==="left"?h:u:f;H.list.push(S),H.totalWidth+=S.width,H.width=H.totalWidth,S.flex&&H.flexList.push(S),typeof C.order=="number"&&(g=!0)}),g){const w=(v,x)=>(v.setting.order??0)-(x.setting.order??0);d.sort(w),h.list.sort(w),f.list.sort(w),u.list.sort(w)}return gr(h,!0),gr(u,!0),f.widthSetting=o-h.width-u.width,gr(f),{list:d,map:p,left:h,center:f,right:u}}function ci(r){var H;const{col:t,className:e,height:o,row:n,onRenderCell:s,style:i,outerStyle:c,children:l,outerClass:a,width:f,left:h,top:u,...d}=r,p={left:h??t.left,top:u??n.top,width:f??t.realWidth,height:o,...c},{align:g,border:y}=t.setting,m={justifyContent:g?g==="left"?"start":g==="right"?"end":g:void 0,...t.setting.cellStyle,...i},w=["dtable-cell",a,e,t.setting.className,{"has-border-left":y===!0||y==="left","has-border-right":y===!0||y==="right"}],v=["dtable-cell-content",t.setting.cellClass],x=(H=n.data)==null?void 0:H[t.name],C=[l??x??""],S=s?s(C,{row:n,col:t,value:x},r,L):C,N=[],I=[],T={},k={};let R="div";S==null||S.forEach(A=>{if(typeof A=="object"&&A&&!Et(A)&&("html"in A||"className"in A||"style"in A||"attrs"in A||"children"in A||"tagName"in A)){const F=A.outer?N:I;A.html?F.push(_("div",{className:P("dtable-cell-html",A.className),style:A.style,dangerouslySetInnerHTML:{__html:A.html},...A.attrs??{}})):(A.style&&Object.assign(A.outer?p:m,A.style),A.className&&(A.outer?w:v).push(A.className),A.children&&F.push(A.children),A.attrs&&Object.assign(A.outer?T:k,A.attrs)),A.tagName&&!A.outer&&(R=A.tagName)}else I.push(A)});const M=R;return _("div",{className:P(w),style:p,"data-col":t.name,"data-row":n.id,"data-type":t.type||null,...d,...T,children:[I.length>0&&_(M,{className:P(v),style:m,...k,children:I}),N]})}function pr({rows:r=[],cols:t,rowHeight:e,scrollLeft:o=0,scrollTop:n=0,left:s=0,top:i=0,width:c,height:l="100%",className:a,CellComponent:f=ci,onRenderCell:h}){var g;const u=Array.isArray(r)?r:[r],d=((g=u[0])==null?void 0:g.top)??0,p=u.length;return _("div",{className:P("dtable-cells",a),style:{top:i,left:s,width:c,height:l},children:_("div",{className:"dtable-cells-container",style:{left:-o,top:-n+d},children:u.reduce((y,m,w)=>{const v=t.length;return t.forEach((x,C)=>{y.push(_(f,{className:P(`is-${m.index%2?"odd":"even"}-row`,C?"":"is-first-in-row",C===v-1?"is-last-in-row":"",w?"":"is-first-row",w===p-1?"is-last-row":""),col:x,row:m,top:m.top-d,height:e,onRenderCell:h},`${m.index}:${x.name}`))}),y},[])})})}function nn({top:r,height:t,rowHeight:e,rows:o,cols:{left:n,center:s,right:i},scrollLeft:c,scrollTop:l,className:a,style:f,onRenderCell:h,children:u}){let d=null;n.list.length&&(d=_(pr,{className:"dtable-fixed-left",rows:o,scrollTop:l,cols:n.list,width:n.width,rowHeight:e,onRenderCell:h},"left"));let p=null;s.list.length&&(p=_(pr,{rows:o,className:"dtable-scroll-center",scrollLeft:c,scrollTop:l,cols:s.list,left:n.width,width:s.width,rowHeight:e,onRenderCell:h},"center"));let g=null;return i.list.length&&(g=_(pr,{className:"dtable-fixed-right",rows:o,scrollTop:l,cols:i.list,left:n.width+s.width,width:i.width,rowHeight:e,onRenderCell:h},"right")),_("div",{className:P("dtable-block",a),style:{...f,top:r,height:t},children:[d,p,g,u]})}var mr=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)},E=(r,t,e)=>(mr(r,t,"read from private field"),e?e.call(r):t.get(r)),D=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},B=(r,t,e,o)=>(mr(r,t,"write to private field"),o?o.call(r,e):t.set(r,e),e),X=(r,t,e)=>(mr(r,t,"access private method"),e),Wt,re,zt,lt,St,Y,at,ht,oe,Ae,Re,ne,wt,se,ie,br,sn,yr,cn,_r,ln,wr,an,Me,vr,Pe,Le,xr,Cr,kr,Tr,ce,De,He,Sr,Er,hn,Nr,fn;let Ir=class extends G{constructor(t){super(t),D(this,br),D(this,yr),D(this,_r),D(this,wr),D(this,Me),D(this,ce),D(this,He),D(this,Er),D(this,Nr),this.ref=Nt(),D(this,Wt,0),D(this,re,void 0),D(this,zt,!1),D(this,lt,void 0),D(this,St,void 0),D(this,Y,[]),D(this,at,void 0),D(this,ht,new Map),D(this,oe,{}),D(this,Ae,void 0),D(this,Re,[]),D(this,ne,{in:!1}),this.updateLayout=()=>{E(this,Wt)&&cancelAnimationFrame(E(this,Wt)),B(this,Wt,requestAnimationFrame(()=>{this.update({dirtyType:"layout"}),B(this,Wt,0)}))},D(this,wt,(e,o)=>{o=o||e.type;const n=E(this,ht).get(o);if(n!=null&&n.length){for(const s of n)if(s.call(this,e)===!1){e.stopPropagation(),e.preventDefault();break}}}),D(this,se,e=>{E(this,wt).call(this,e,`window_${e.type}`)}),D(this,ie,e=>{E(this,wt).call(this,e,`document_${e.type}`)}),D(this,Pe,(e,o,n,s)=>{const{row:i,col:c}=o;o.value=this.getCellValue(i,c),e[0]=o.value;const l=i.id==="HEADER"?"onRenderHeaderCell":"onRenderCell";return c.setting[l]&&(e=c.setting[l].call(this,e,o,n,s)),E(this,Y).forEach(a=>{a[l]&&(e=a[l].call(this,e,o,n,s))}),this.options[l]&&(e=this.options[l].call(this,e,o,n,s)),e}),D(this,Le,(e,o)=>{o==="horz"?this.scroll({scrollLeft:e}):this.scroll({scrollTop:e})}),D(this,xr,e=>{var c,l,a;const o=this.getPointerInfo(e);if(!o)return;const{rowID:n,colName:s,cellElement:i}=o;if(n==="HEADER")i&&((c=this.options.onHeaderCellClick)==null||c.call(this,e,{colName:s,element:i}),E(this,Y).forEach(f=>{var h;(h=f.onHeaderCellClick)==null||h.call(this,e,{colName:s,element:i})}));else{const f=this.layout.visibleRows.find(h=>h.id===n);if(i){if(((l=this.options.onCellClick)==null?void 0:l.call(this,e,{colName:s,rowID:n,rowInfo:f,element:i}))===!0)return;for(const h of E(this,Y))if(((a=h.onCellClick)==null?void 0:a.call(this,e,{colName:s,rowID:n,rowInfo:f,element:i}))===!0)return}}}),D(this,Cr,e=>{const o=e.key.toLowerCase();if(["pageup","pagedown","home","end"].includes(o))return!this.scroll({to:o.replace("page","")})}),D(this,kr,e=>{const o=b(e.target).closest(".dtable-cell");if(!o.length)return X(this,ce,De).call(this,!1);X(this,ce,De).call(this,[o.attr("data-row"),o.attr("data-col")])}),D(this,Tr,()=>{X(this,ce,De).call(this,!1)}),B(this,re,t.id??`dtable-${Vt()}`),this.state={scrollTop:0,scrollLeft:0,renderCount:0},B(this,St,Object.freeze(es(t.plugins))),E(this,St).forEach(e=>{const{methods:o,data:n,state:s}=e;o&&Object.entries(o).forEach(([i,c])=>{typeof c=="function"&&Object.assign(this,{[i]:c.bind(this)})}),n&&Object.assign(E(this,oe),n.call(this)),s&&Object.assign(this.state,s.call(this))}),X(this,He,Sr).call(this),E(this,Y).forEach(e=>{var o;(o=e.onCreate)==null||o.call(this,e)})}get options(){var t;return((t=E(this,at))==null?void 0:t.options)||E(this,lt)||rn()}get plugins(){return E(this,Y)}get layout(){return E(this,at)}get id(){return E(this,re)}get data(){return E(this,oe)}get element(){return this.ref.current}get parent(){var t;return this.props.parent??((t=this.element)==null?void 0:t.parentElement)}get hoverInfo(){return E(this,ne)}componentWillReceiveProps(){B(this,lt,void 0)}componentDidMount(){E(this,zt)?this.forceUpdate():X(this,Me,vr).call(this),this.on("click",E(this,xr)),this.on("keydown",E(this,Cr));const{options:t}=this;(t.rowHover||t.colHover)&&(this.on("mouseover",E(this,kr)),this.on("mouseleave",E(this,Tr)));let{responsive:e}=t;if(e){e===!0&&(e="window,parent");const o=e.split(",");if(typeof ResizeObserver<"u"){const n=[],s=new ResizeObserver(this.updateLayout);B(this,Ae,s);const{parent:i}=this;o.forEach(c=>{c!=="window"&&(c==="parent"?i&&s.observe(i):c[0]==="~"?n.push(c.slice(1)):b(c).each((l,a)=>s.observe(a)))}),n.length&&this.on(n.join(" "),this.updateLayout)}o.includes("window")&&this.on("window_resize",this.updateLayout)}E(this,Y).forEach(o=>{var s;let{events:n}=o;n&&(typeof n=="function"&&(n=n.call(this)),Object.entries(n).forEach(([i,c])=>{c&&this.on(i,c)})),(s=o.onMounted)==null||s.call(this)})}componentDidUpdate(){X(this,Me,vr).call(this),E(this,Y).forEach(t=>{var e;(e=t.onUpdated)==null||e.call(this)})}componentWillUnmount(){var e;(e=E(this,Ae))==null||e.disconnect();const{element:t}=this;if(t)for(const o of E(this,ht).keys())o.startsWith("window_")?window.removeEventListener(o.replace("window_",""),E(this,se)):o.startsWith("document_")?document.removeEventListener(o.replace("document_",""),E(this,ie)):t.removeEventListener(o,E(this,wt));E(this,Y).forEach(o=>{var n;(n=o.onUnmounted)==null||n.call(this)}),E(this,St).forEach(o=>{var n;(n=o.onDestory)==null||n.call(this)}),B(this,oe,{}),E(this,ht).clear(),this._noAnimation&&clearTimeout(this._noAnimation)}on(t,e,o){var s;o&&(t=`${o}_${t}`);const n=E(this,ht).get(t);n?n.push(e):(E(this,ht).set(t,[e]),t.startsWith("window_")?window.addEventListener(t.replace("window_",""),E(this,se)):t.startsWith("document_")?document.addEventListener(t.replace("document_",""),E(this,ie)):(s=this.element)==null||s.addEventListener(t,E(this,wt)))}off(t,e,o){var i;o&&(t=`${o}_${t}`);const n=E(this,ht).get(t);if(!n)return;const s=n.indexOf(e);s>=0&&n.splice(s,1),n.length||(E(this,ht).delete(t),t.startsWith("window_")?window.removeEventListener(t.replace("window_",""),E(this,se)):t.startsWith("document_")?document.removeEventListener(t.replace("document_",""),E(this,ie)):(i=this.element)==null||i.removeEventListener(t,E(this,wt)))}emitCustomEvent(t,e){E(this,wt).call(this,e instanceof Event?e:new CustomEvent(t,{detail:e}),t)}disableAnimation(t=200){var e;this._noAnimation&&clearTimeout(this._noAnimation),(e=this.element)==null||e.classList.add("no-animation"),this._noAnimation=window.setTimeout(()=>{var o;this._noAnimation=void 0,(o=this.element)==null||o.classList.remove("no-animation")},t)}scroll(t,e){const{scrollLeft:o,scrollTop:n,rowsHeightTotal:s,rowsHeight:i,rowHeight:c,cols:{center:{totalWidth:l,width:a}}}=this.layout,{to:f}=t;let{scrollLeft:h,scrollTop:u}=t;if(f==="up"||f==="down")u=n+(f==="down"?1:-1)*Math.floor(i/c)*c;else if(f==="left"||f==="right")h=o+(f==="right"?1:-1)*a;else if(f==="top")u=0;else if(f==="bottom")u=s-i;else if(f==="begin")h=0;else if(f==="end")h=l-a;else{const{offsetLeft:p,offsetTop:g}=t;typeof p=="number"&&(h=o+p),typeof g=="number"&&(u=n+g)}const d={};return typeof h=="number"&&(h=Math.max(0,Math.min(h,l-a)),h!==o&&(d.scrollLeft=h)),typeof u=="number"&&(u=Math.max(0,Math.min(u,s-i)),u!==n&&(d.scrollTop=u)),Object.keys(d).length?(this.setState(d,()=>{var p;(p=this.options.onScroll)==null||p.call(this,d),e==null||e.call(this,!0)}),!0):(e==null||e.call(this,!1),!1)}getColInfo(t){if(t===void 0)return;if(typeof t=="object")return t;const{cols:e}=this.layout;return typeof t=="number"?e.list[t]:e.map[t]}getRowInfo(t){if(t===void 0)return;if(typeof t=="object")return t;if(t===-1||t==="HEADER")return{id:"HEADER",index:-1,top:0};const{rows:e,rowsMap:o,allRows:n}=this.layout;return typeof t=="number"?e[t]:o[t]||n.find(s=>s.id===t)}getCellValue(t,e){var c;const o=typeof t=="object"?t:this.getRowInfo(t);if(!o)return;const n=typeof e=="object"?e:this.getColInfo(e);if(!n)return;let s=o.id==="HEADER"?n.setting.title:(c=o.data)==null?void 0:c[n.name];const{cellValueGetter:i}=this.options;return i&&(s=i.call(this,o,n,s)),s}getRowInfoByIndex(t){return this.layout.rows[t]}update(t={},e){if(!E(this,lt))return;typeof t=="function"&&(e=t,t={});const{dirtyType:o,state:n}=t;if(o==="layout")B(this,at,void 0);else if(o==="options"){if(B(this,lt,void 0),!E(this,at))return;B(this,at,void 0)}this.setState(n??(s=>({renderCount:s.renderCount+1})),e)}getPointerInfo(t){const e=t.target;if(!e||e.closest(".no-cell-event"))return;const o=b(e).closest(".dtable-cell");if(!o.length)return;const n=o.attr("data-row"),s=o.attr("data-col");if(!(typeof s!="string"||typeof n!="string"))return{cellElement:o[0],colName:s,rowID:n,target:e}}i18n(t,e,o){return gt(E(this,Re),t,e,o,this.options.lang)??`{i18n:${t}}`}getPlugin(t){return this.plugins.find(e=>e.name===t)}render(){let t=X(this,Nr,fn).call(this);const{className:e,rowHover:o,colHover:n,cellHover:s,bordered:i,striped:c,scrollbarHover:l,beforeRender:a,emptyTip:f}=this.options,h={},u=["dtable",e,{"dtable-hover-row":o,"dtable-hover-col":n,"dtable-hover-cell":s,"dtable-bordered":i,"dtable-striped":c,"scrollbar-hover":l,"no-animation":this._noAnimation}],d=[];if(t){const p=!t.rows.length;if(a){const g=a.call(this,t);g&&(t=g)}E(this,Y).forEach(g=>{var m;const y=(m=g.beforeRender)==null?void 0:m.call(this,t);y&&(t=y)}),h.width=t.width,h.height=t.height,h["--dtable-row-height"]=`${t.rowHeight}px`,u.push(t.className,p?"dtable-is-empty":"",{"dtable-scrolled-down":t.scrollTop>0,"dtable-scrolled-bottom":t.scrollTop>=t.rowsHeightTotal-t.rowsHeight,"dtable-scrolled-right":t.scrollLeft>0,"dtable-scrolled-end":t.scrollLeft>=t.cols.center.totalWidth-t.cols.center.width}),t.children&&d.push(...t.children),p&&f?(delete h.height,d.push(_("div",{className:"dtable-empty-tip",children:_(V,{content:f,generatorThis:this,generatorArgs:[t]})},"empty-tip"))):(d.push(X(this,br,sn).call(this,t),X(this,yr,cn).call(this,t),X(this,_r,ln).call(this,t)),t.scrollable&&d.push(X(this,wr,an).call(this,t))),E(this,Y).forEach(g=>{var m;const y=(m=g.onRender)==null?void 0:m.call(this,t);y&&(y.style&&Object.assign(h,y.style),y.className&&u.push(y.className),y.children&&d.push(y.children))})}return _("div",{id:E(this,re),className:P(u),style:h,ref:this.ref,tabIndex:-1,children:d})}};Wt=new WeakMap,re=new WeakMap,zt=new WeakMap,lt=new WeakMap,St=new WeakMap,Y=new WeakMap,at=new WeakMap,ht=new WeakMap,oe=new WeakMap,Ae=new WeakMap,Re=new WeakMap,ne=new WeakMap,wt=new WeakMap,se=new WeakMap,ie=new WeakMap,br=new WeakSet,sn=function(r){const{header:t,cols:e,headerHeight:o,scrollLeft:n,headerChildren:s}=r;if(!t)return null;if(t===!0)return _(nn,{className:"dtable-header",cols:e,height:o,scrollLeft:n,rowHeight:o,scrollTop:0,rows:{id:"HEADER",index:-1,top:0},top:0,onRenderCell:E(this,Pe),children:s},"header");const i=Array.isArray(t)?t:[t];return _(ho,{className:"dtable-header",style:{height:o},renders:i,generateArgs:[r],generatorThis:this,children:s},"header")},yr=new WeakSet,cn=function(r){const{headerHeight:t,rowsHeight:e,visibleRows:o,rowHeight:n,cols:s,scrollLeft:i,scrollTop:c,bodyChildren:l}=r;return _(nn,{className:"dtable-body",top:t,height:e,rows:o,rowHeight:n,scrollLeft:i,scrollTop:c,cols:s,onRenderCell:E(this,Pe),children:l},"body")},_r=new WeakSet,ln=function(r){let{footer:t}=r;if(typeof t=="function"&&(t=t.call(this,r)),!t)return null;const e=Array.isArray(t)?t:[t];return _(ho,{className:"dtable-footer",style:{height:r.footerHeight,top:r.rowsHeight+r.headerHeight},renders:e,generateArgs:[r],generatorThis:this,generators:r.footerGenerators,children:r.footerChildren},"footer")},wr=new WeakSet,an=function(r){const t=[],{scrollLeft:e,cols:{left:{width:o},center:{width:n,totalWidth:s}},scrollTop:i,rowsHeight:c,rowsHeightTotal:l,footerHeight:a,headerHeight:f}=r,{scrollbarSize:h=12,horzScrollbarPos:u}=this.options;return s>n&&t.push(_(en,{type:"horz",scrollPos:e,scrollSize:s,clientSize:n,onScroll:E(this,Le),left:o,bottom:(u==="inside"?0:-h)+a,size:h,wheelContainer:this.ref},"horz"),_("div",{className:"dtable-scroll-shadow is-left",style:{left:o,height:f+c}}),_("div",{className:"dtable-scroll-shadow is-right",style:{left:o+n,height:f+c}})),l>c&&t.push(_(en,{type:"vert",scrollPos:i,scrollSize:l,clientSize:c,onScroll:E(this,Le),right:0,size:h,top:f,wheelContainer:this.ref},"vert")),t.length?t:null},Me=new WeakSet,vr=function(){var r;B(this,zt,!1),E(this,Y).forEach(t=>{var e;return(e=t.afterRender)==null?void 0:e.call(this)}),(r=this.options.afterRender)==null||r.call(this)},Pe=new WeakMap,Le=new WeakMap,xr=new WeakMap,Cr=new WeakMap,kr=new WeakMap,Tr=new WeakMap,ce=new WeakSet,De=function(r){const{element:t,options:e}=this;if(!t)return;const o=b(t),n=r?{in:!0,row:r[0],col:r[1]}:{in:!1};e.colHover==="header"&&n.row!=="HEADER"&&(n.col=void 0);const s=E(this,ne);n.in!==s.in&&o.toggleClass("dtable-hover",n.in),n.row!==s.row&&(o.find(".is-hover-row").removeClass("is-hover-row"),n.row&&o.find(`.dtable-cell[data-row="${n.row}"]`).addClass("is-hover-row")),n.col!==s.col&&(o.find(".is-hover-col").removeClass("is-hover-col"),n.col&&o.find(`.dtable-cell[data-col="${n.col}"]`).addClass("is-hover-col")),B(this,ne,n)},He=new WeakSet,Sr=function(){if(E(this,lt))return!1;const t={...rn(),...E(this,St).reduce((e,o)=>{const{defaultOptions:n}=o;return n&&Object.assign(e,n),e},{}),...this.props};return B(this,lt,t),B(this,Y,E(this,St).reduce((e,o)=>{const{when:n,options:s}=o;let i=t;return s&&(i=Object.assign({...i},typeof s=="function"?s.call(this,t):s)),(!n||n(i))&&(i!==t&&Object.assign(t,i),e.push(o)),e},[])),B(this,Re,[this.options.i18n,...this.plugins.map(e=>e.i18n)].filter(Boolean)),!0},Er=new WeakSet,hn=function(){var I,T;const{plugins:r}=this;let t=E(this,lt);const e={flex:_("div",{style:"flex:auto"}),divider:_("div",{style:"width:1px;margin:var(--space);background:var(--color-border);height:50%"})};r.forEach(k=>{var M;const R=(M=k.beforeLayout)==null?void 0:M.call(this,t);R&&(t={...t,...R}),Object.assign(e,k.footer)});let o=t.width,n=0;if(typeof o=="function"&&(o=o.call(this)),o==="100%"){const{parent:k}=this;if(k)n=k.clientWidth;else{B(this,zt,!0);return}}const s=ii(this,t,r,n),{data:i,rowKey:c="id",rowHeight:l}=t,a=[],f=(k,R,M)=>{var A,F;const H={data:M??{[c]:k},id:k,index:a.length,top:0};if(M||(H.lazy=!0),a.push(H),((A=t.onAddRow)==null?void 0:A.call(this,H,R))!==!1){for(const Q of r)if(((F=Q.onAddRow)==null?void 0:F.call(this,H,R))===!1)return}};if(typeof i=="number")for(let k=0;k<i;k++)f(`${k}`,k);else Array.isArray(i)&&i.forEach((k,R)=>{typeof k=="object"?f(`${k[c]??""}`,R,k):f(`${k??""}`,R)});let h=a;const u={};if(t.onAddRows){const k=t.onAddRows.call(this,h,s);k&&(h=k)}for(const k of r){const R=(I=k.onAddRows)==null?void 0:I.call(this,h,s);R&&(h=R)}h.forEach((k,R)=>{u[k.id]=k,k.index=R,k.top=k.index*l});const{header:d,footer:p}=t,g=d?t.headerHeight||l:0,y=p?t.footerHeight||l:0;let m=t.height,w=0;const v=h.length*l,x=g+y+v;if(typeof m=="function"&&(m=m.call(this,x)),m==="auto")w=x;else if(typeof m=="object")w=Math.min(m.max,Math.max(m.min,x));else if(m==="100%"){const{parent:k}=this;if(k)w=k.clientHeight;else{w=0,B(this,zt,!0);return}}else w=m;const C=w-g-y,S={options:t,allRows:a,width:n,height:w,rows:h,rowsMap:u,rowHeight:l,rowsHeight:C,rowsHeightTotal:v,header:d,footer:p,footerGenerators:e,headerHeight:g,footerHeight:y,cols:s},N=(T=t.onLayout)==null?void 0:T.call(this,S);N&&Object.assign(S,N),r.forEach(k=>{if(k.onLayout){const R=k.onLayout.call(this,S);R&&Object.assign(S,R)}}),B(this,at,S)},Nr=new WeakSet,fn=function(){(X(this,He,Sr).call(this)||!E(this,at))&&X(this,Er,hn).call(this);const{layout:r}=this;if(!r)return;const{cols:{center:t}}=r;let{scrollLeft:e}=this.state;e=Math.min(Math.max(0,t.totalWidth-t.width),e);let o=0;t.list.forEach(p=>{p.left=o,o+=p.realWidth,p.visible=p.left+p.realWidth>=e&&p.left<=e+t.width});const{rowsHeightTotal:n,rowsHeight:s,rows:i,rowHeight:c}=r,l=Math.min(Math.max(0,n-s),this.state.scrollTop),a=Math.floor(l/c),f=l+s,h=Math.min(i.length,Math.ceil(f/c)),u=[],{rowDataGetter:d}=this.options;for(let p=a;p<h;p++){const g=i[p];g.lazy&&d&&(g.data=d([g.id])[0],g.lazy=!1),u.push(g)}return Object.assign(r,{visibleRows:u,scrollTop:l,scrollLeft:e,headerChildren:[],bodyChildren:[],footerChildren:[],children:[],className:"",scrollable:!0}),r},Ir.addPlugin=uo,Ir.removePlugin=go;const li={default:(r,t,e)=>{var s,i;const o=(s=r.data)==null?void 0:s[e.name],n=(i=t.data)==null?void 0:i[e.name];return o===n?0:o==null?1:String(o).localeCompare(String(n))},date:(r,t,e)=>{var s,i;const o=Xt(((s=r.data)==null?void 0:s[e.name])??0),n=Xt(((i=t.data)==null?void 0:i[e.name])??0);return o.getTime()-n.getTime()},number:(r,t,e)=>{var s,i;const o=(s=r.data)==null?void 0:s[e.name],n=(i=t.data)==null?void 0:i[e.name];return Number.parseFloat(o)-Number.parseFloat(n)}},ai=j({name:"sort",defaultOptions:{sort:!0},when:r=>!!r.sort,onCreate(){const{sortBy:r}=this.options;r&&(this.state.sortBy=Array.isArray(r)?r:[r])},onAddRows(r,t){const{sortBy:e}=this.state;if(!e||!e.length)return;const{sort:o}=this.options,n={...li,...typeof o=="function"?{default:o}:typeof o=="object"?o:{}};return[...r].sort((s,i)=>{for(const{name:c,order:l}of e){const a=t.map[c];if(!a)continue;let f=a.setting.sort;if(f===!0?f=n.default:typeof f=="string"&&(f=n[f]),!f)continue;const h=f.call(this,s,i,a);if(h)return l==="asc"?h:-h}return 0})},onHeaderCellClick(r,t){const e=this.getColInfo(t.colName);if(!e||!e.setting.sort)return;const{sortBy:o=[]}=this.state,n=o.findIndex(c=>c.name===e.name),{multiSort:s}=this.options;let i="asc";if(n>=0){const c=o[n].order;c==="asc"?i="desc":c==="desc"&&(i="none"),s&&o.splice(n,1)}s||(o.length=0),this.update({dirtyType:"layout",state:{sortBy:[{name:t.colName,order:i},...o].filter(c=>c.order!=="none")}})},onRenderHeaderCell(r,t){var l;const{col:e}=t,{sortBy:o}=this.state;if(!e.setting.sort)return r;const i=((l=o==null?void 0:o.find(a=>a.name===e.name))==null?void 0:l.order)||"none",c=_("div",{className:`dtable-sort dtable-sort-${i}`});return r.push({outer:!0,attrs:{"data-sort":i}},c),r}},{buildIn:!0}),hi={html:{component:qt}},fi=j({name:"custom",onRenderCell(r,t){const{col:e}=t;let{custom:o}=e.setting;if(typeof o=="function"&&(o=o.call(this,t)),!o)return r;const n=Array.isArray(o)?o:[o],{customMap:s}=this.options;return n.forEach(i=>{let c;typeof i=="string"?c=i.startsWith("<")?{component:qt,props:{html:U(i,{value:t.value,...t.row.data,$value:t.value})}}:{component:i}:c=i;let{component:l}=c;const a=[c];typeof l=="string"&&a.unshift(hi[l],s==null?void 0:s[l]);const f={};a.forEach(u=>{if(u){const{props:d}=u;d&&b.extend(f,typeof d=="function"?d.call(this,t):d),l=u.component||l}},{props:{}});const h=l;r[0]={outer:!0,className:"dtable-custom-cell",children:_(h,{...f})}}),r}}),qi="";function di(r,t,e=!1){var c,l;typeof r=="boolean"&&(t=r,r=void 0);const o=this.state.checkedRows,n={},{canRowCheckable:s}=this.options,i=(a,f)=>{const h=s?s.call(this,a):!0;!h||e&&h==="disabled"||!!o[a]===f||(f?o[a]=!0:delete o[a],n[a]=f)};if(r===void 0?(t===void 0&&(t=!dn.call(this)),(c=this.layout)==null||c.allRows.forEach(({id:a})=>{i(a,!!t)})):(Array.isArray(r)||(r=[r]),r.forEach(a=>{i(a,t??!o[a])})),Object.keys(n).length){const a=(l=this.options.beforeCheckRows)==null?void 0:l.call(this,r,n,o);a&&Object.keys(a).forEach(f=>{a[f]?o[f]=!0:delete o[f]}),this.setState({checkedRows:{...o}},()=>{var f;(f=this.options.onCheckChange)==null||f.call(this,n)})}return n}function ui(r){return this.state.checkedRows[r]??!1}function dn(){var o,n;const r=(o=this.layout)==null?void 0:o.allRows.length;if(!r)return!1;const t=this.getChecks().length,{canRowCheckable:e}=this.options;return e?t===((n=this.layout)==null?void 0:n.allRows.reduce((s,i)=>s+(e.call(this,i.id)?1:0),0)):t===r}function gi(){var t;const r=new Set((t=this.layout)==null?void 0:t.allRows.map(e=>e.id));return Object.keys(this.state.checkedRows).filter(e=>r.has(e))}function pi(r){const{checkable:t}=this.options;r===void 0&&(r=!t),t!==r&&this.setState({forceCheckable:r})}function un(r,t,e=!1){return _(Ne,{className:"dtable-checkbox",checked:r,disabled:e})}const gn='input[type="checkbox"],.dtable-checkbox',mi=j({name:"checkable",defaultOptions:{checkable:"auto",checkboxRender:un},when:r=>!!r.checkable,options(r){const{forceCheckable:t}=this.state;return t!==void 0?r.checkable=t:r.checkable==="auto"&&(r.checkable=!!r.cols.some(e=>e.checkbox)),r},state(){return{checkedRows:{}}},methods:{toggleCheckRows:di,isRowChecked:ui,isAllRowChecked:dn,getChecks:gi,toggleCheckable:pi},i18n:{zh_cn:{checkedCountInfo:"已选择 {selected} 项",totalCountInfo:"共 {total} 项"},zh_tw:{checkedCountInfo:"已選擇 {selected} 項",totalCountInfo:"共 {total} 項"},en:{checkedCountInfo:"Selected {selected} items",totalCountInfo:"Total {total} items"}},footer:{checkbox(){const r=this.isAllRowChecked();return[_("div",{style:{paddingRight:"calc(3*var(--space))",display:"flex",alignItems:"center"},onClick:()=>this.toggleCheckRows(),children:un(r)})]},checkedInfo(r,t){const e=this.getChecks(),{checkInfo:o}=this.options;if(o)return[_(V,{className:"dtable-check-info",content:o.call(this,e)})];const n=e.length,s=[];return n&&s.push(this.i18n("checkedCountInfo",{selected:n})),s.push(this.i18n("totalCountInfo",{total:t.allRows.length})),[_("div",{className:"dtable-check-info",children:s.join(", ")})]}},onRenderCell(r,{row:t,col:e}){var a;const{id:o}=t,{canRowCheckable:n}=this.options,s=n?n.call(this,o):!0;if(!s)return r;const{checkbox:i}=e.setting,c=typeof i=="function"?i.call(this,o):i,l=this.isRowChecked(o);if(c){const f=(a=this.options.checkboxRender)==null?void 0:a.call(this,l,o,s==="disabled");r.push(f,{outer:!0,className:"has-checkbox"})}return l&&r.push({outer:!0,className:"is-checked"}),r},onRenderHeaderCell(r,{row:t,col:e}){var i;const{id:o}=t,{checkbox:n}=e.setting;if(typeof n=="function"?n.call(this,o):n){const c=this.isAllRowChecked(),l=(i=this.options.checkboxRender)==null?void 0:i.call(this,c,o);r.push(l,{outer:!0,className:"has-checkbox"})}return r},onHeaderCellClick(r){if(this.data.disableCheckable)return;const t=r.target;if(!t)return;const e=t.closest(gn);e&&this.toggleCheckRows(e.checked)},onCellClick(r,{rowID:t}){if(this.data.disableCheckable)return;const e=b(r.target);if(!e.length||e.closest("btn,a,button.not-checkable,.form-control,.btn").length)return;(e.closest(gn).not(".disabled").length||this.options.checkOnClickRow)&&this.toggleCheckRows(t,void 0,!0)}}),bi=j({name:"store",defaultOptions:{store:!0},when:r=>!!r.store,data(){return{store:new te(`DTable:${this.id}`)}}}),Ji="",Qi="";var pn=(r=>(r.unknown="",r.collapsed="collapsed",r.expanded="expanded",r.hidden="hidden",r.normal="normal",r))(pn||{});function We(r){const t=this.data.nestedMap.get(r);if(!t||t.state!=="")return t??{state:"normal",level:-1};if(!t.parent&&!t.children)return t.state="normal",t;const e=t.children&&this.state.nestedState[r];let o=!1,{parent:n}=t;for(;n;){const s=We.call(this,n);if(s.state!=="expanded"){o=!0;break}n=s.parent}return t.state=o?"hidden":e?"collapsed":t.children?"expanded":"normal",t.level=t.parent?We.call(this,t.parent).level+1:0,t}function yi(r){return r!==void 0?We.call(this,r):this.data.nestedMap}function _i(r,t){let{nestedState:e}=this.state;const{nestedMap:o}=this.data;if(r==="HEADER")if(t===void 0&&(t=!mn.call(this)),t){const n=o.entries();for(const[s,i]of n)i.state==="expanded"&&(e[s]=!0)}else e={};else{const n=Array.isArray(r)?r:[r];t===void 0&&(t=!e[n[0]]),n.forEach(s=>{const i=o.get(s);t&&(i!=null&&i.children)?e[s]=!0:delete e[s]})}this.update({dirtyType:"layout",state:{nestedState:{...e}}},()=>{const{onNestedChange:n,preserveNested:s}=this.options;n==null||n.call(this),s&&this.data.store.set("nestedState",e)})}function mn(){const r=this.data.nestedMap.values();for(const t of r)if(t.state==="expanded")return!1;return!0}function bn(r,t=0,e,o=0){var n;e||(e=[...r.keys()]);for(const s of e){const i=r.get(s);i&&(i.level===o&&(i.order=t++),(n=i.children)!=null&&n.length&&(t=bn(r,t,i.children,o+1)))}return t}function yn(r,t,e,o){const n=r.getNestedRowInfo(t);return!n||n.state===""||!n.children||n.children.forEach(s=>{o[s]=e,yn(r,s,e,o)}),n}function _n(r,t,e,o,n){var c;const s=r.getNestedRowInfo(t);if(!s||s.state==="")return;((c=s.children)==null?void 0:c.every(l=>{const a=!!(o[l]!==void 0?o[l]:n[l]);return e===a}))&&(o[t]=e),s.parent&&_n(r,s.parent,e,o,n)}const ze="dtable-nested-toggle",wi=j({name:"nested",plugins:[bi],defaultOptions:{nested:"auto",nestedParentKey:"parent",asParentKey:"asParent",nestedIndent:20,canSortTo(r,t){const{nestedMap:e}=this.data,o=e.get(r.id),n=e.get(t.id);return(o==null?void 0:o.parent)===(n==null?void 0:n.parent)},beforeCheckRows(r,t,e){if(!this.options.checkable||!(r!=null&&r.length))return;const o={};return Object.entries(t).forEach(([n,s])=>{const i=yn(this,n,s,o);i!=null&&i.parent&&_n(this,i.parent,s,o,e)}),o}},options(r){return r.nested==="auto"&&(r.nested=!!r.cols.some(t=>t.nestedToggle)),r},when:r=>!!r.nested,data(){return{nestedMap:new Map}},state(){return{nestedState:{}}},methods:{getNestedInfo:yi,toggleRow:_i,isAllCollapsed:mn,getNestedRowInfo:We},onCreate(){let{defaultNestedState:r}=this.options;if(this.options.preserveNested){const t=this.data.store.get("nestedState");t&&(r=t)}this.state.nestedState=r||{}},beforeLayout(){this.data.nestedMap.clear()},onAddRow(r){var n,s;const{nestedMap:t}=this.data,e=String((n=r.data)==null?void 0:n[this.options.nestedParentKey??"parent"]),o=t.get(r.id)??{state:"",level:0};if(o.parent=e==="0"?void 0:e,(s=r.data)!=null&&s[this.options.asParentKey??"asParent"]&&(o.children=[]),t.set(r.id,o),e){let i=t.get(e);i||(i={state:"",level:0},t.set(e,i)),i.children||(i.children=[]),i.children.push(r.id)}},onAddRows(r){return r=r.filter(t=>this.getNestedRowInfo(t.id).state!=="hidden"),bn(this.data.nestedMap),r.sort((t,e)=>{const o=this.getNestedRowInfo(t.id),n=this.getNestedRowInfo(e.id),s=(o.order??0)-(n.order??0);return s===0?t.index-e.index:s}),r},onRenderCell(r,{col:t,row:e}){var c;const{id:o,data:n}=e,{nestedToggle:s}=t.setting,i=this.getNestedRowInfo(o);if(s&&(i.children||i.parent)&&r.push(((c=this.options.onRenderNestedToggle)==null?void 0:c.call(this,i,o,t,n))??_("a",{className:`${ze} state${i.children?"":" is-no-child"}`,children:_("span",{className:"toggle-icon"})}),{outer:!0,className:`is-${i.state}`}),i.level){let{nestedIndent:l=s}=t.setting;l&&(l===!0&&(l=this.options.nestedIndent??12),r.push(_("div",{className:"dtable-nested-indent",style:{width:l*i.level+"px"}})))}return r},onRenderHeaderCell(r,{row:t,col:e}){var n;const{id:o}=t;return e.setting.nestedToggle&&r.push(((n=this.options.onRenderNestedToggle)==null?void 0:n.call(this,void 0,o,e,void 0))??_("a",{className:`${ze} state`,children:_("span",{className:"toggle-icon"})}),{outer:!0,className:`is-${this.isAllCollapsed()?"collapsed":"expanded"}`}),r},onHeaderCellClick(r){const t=r.target;if(!(!t||!t.closest(`.${ze}`)))return this.toggleRow("HEADER"),!0},onCellClick(r,{rowID:t}){const e=r.target;if(!(!e||!this.getNestedRowInfo(t).children||!e.closest(`.${ze}`)))return this.toggleRow(t),!0}});function Ar(r,{row:t,col:e}){const{data:o}=t,n=o?o[e.name]:void 0;if(!(n!=null&&n.length))return r;const{avatarClass:s="rounded-full",avatarKey:i=`${e.name}Avatar`,avatarCodeKey:c,avatarNameKey:l=`${e.name}Name`}=e.setting;let{avatarProps:a={}}=e.setting;typeof a=="function"&&(a=a(e,t));const f=(o?o[l]:n)||r[0],h={size:"xs",src:o?o[i]:void 0,text:f,code:c?o?o[c]:void 0:n,...a,className:P(s,a.className,"flex-none")};if(r[0]=_(Oo,{...h}),e.type==="avatarBtn"){const{avatarBtnProps:u}=e.setting,d=typeof u=="function"?u(e,t):u;r[0]=_("button",{type:"button",className:"btn btn-avatar",...d,children:[r[0],_("div",{children:f})]})}else e.type==="avatarName"&&(r[0]=_("div",{className:"flex items-center gap-1",children:[r[0],_("span",{children:f})]}));return r}const vi=j({name:"avatar",colTypes:{avatar:{onRenderCell:Ar},avatarBtn:{onRenderCell:Ar},avatarName:{onRenderCell:Ar}}},{buildIn:!0}),xi=j({name:"sort-type",onRenderHeaderCell(r,t){const{col:e}=t;if(e.setting.sort!==void 0)return r;let{sortType:o}=e.setting;const{sortLink:n,orderBy:s}=this.options;if(s&&s[e.name]!==void 0&&(o=s[e.name]),o){const i=o===!0?"none":o,c=_("div",{className:`dtable-sort dtable-sort-${i}`});r.push({outer:!0,attrs:{"data-sort":i}});let{sortLink:l=n}=e.setting;if(l){const a=i==="asc"?"desc":"asc";typeof l=="function"&&(l=l.call(this,e,a,i)),typeof l=="string"&&(l={url:l});const{url:f,...h}=l;r[0]=_("a",{className:"dtable-sort-link",href:U(f,{...e.setting,sortType:a}),...h,children:[r[0],c]})}else r.push(c)}return r}},{buildIn:!0}),Rr=r=>{r.length!==1&&r.forEach((t,e)=>{!e||t.setting.border||t.setting.group===r[e-1].setting.group||(t.setting.border="left")})},Ci=j({name:"group",defaultOptions:{groupDivider:!0},when:r=>!!r.groupDivider,onLayout(r){if(!this.options.groupDivider)return;const{cols:t}=r;Rr(t.left.list),Rr(t.center.list),Rr(t.right.list)}}),oc="",ki=j({name:"header-group",defaultOptions:{headerGroup:!0},data(){return{headerGroups:new Map}},when:r=>!!r.headerGroup,beforeLayout(r){const{headerGroups:t}=this.data;t.clear();const{cols:e}=r;if(!(e!=null&&e.length))return;const o={};return e.forEach((n,s)=>{const{headerGroup:i}=n;if(!i){o[n.name]=s;return}let c=t.get(i);c?c.cols.push(n.name):(c={cols:[n.name],index:s},t.set(i,c)),o[n.name]=c.index+c.cols.length/e.length}),e.sort((n,s)=>o[n.name]-o[s.name]),{headerHeight:!r.headerHeight&&r.rowHeight?r.rowHeight*2:void 0,cols:e}},onRenderHeaderCell(r,{col:t}){const{headerGroup:e}=t.setting;if(e){const o=this.data.headerGroups.get(e),n=this.layout.headerHeight/2;if(t.name===o.cols[0]){const s=o.cols.reduce((c,l)=>{var a;return c+(((a=this.getColInfo(l))==null?void 0:a.realWidth)??0)},0),i={height:n-1,width:s-1};r.push(_("div",{class:"dtable-header-group",style:i,children:e}))}r.push({className:"dtable-header-as-group",style:{paddingTop:n}})}return r}}),Ti=j({name:"cellspan",when:r=>!!r.getCellSpan,data(){return{cellSpanMap:new Map,overlayedCellSet:new Set}},onLayout(r){const{getCellSpan:t}=this.options;if(!t)return;const{cellSpanMap:e,overlayedCellSet:o}=this.data,{rows:n,cols:s,rowHeight:i}=r;e.clear(),o.clear();const c=(l,a,f)=>{const{index:h}=a;l.forEach((u,d)=>{const{index:p}=u,g=`C${p}R${h}`;if(o.has(g))return;const y=t.call(this,{row:a,col:u});if(!y)return;const m=Math.min(y.colSpan||1,l.length-d),w=Math.min(y.rowSpan||1,n.length-f);if(m<=1&&w<=1)return;let v=0;for(let x=0;x<m;x++){v+=l[d+x].realWidth;for(let C=0;C<w;C++){const S=`C${p+x}R${h+C}`;S!==g&&o.add(S)}}e.set(g,{colSpan:m,rowSpan:w,width:v,height:i*w})})};n.forEach((l,a)=>{["left","center","right"].forEach(f=>{c(s[f].list,l,a)})})},onRenderCell(r,{row:t,col:e}){const o=`C${e.index}R${t.index}`;if(this.data.overlayedCellSet.has(o))r.push({outer:!0,style:{display:"none",className:"cellspan-overlayed-cell"}});else{const n=this.data.cellSpanMap.get(o);n&&r.push({outer:!0,style:{width:n.width,height:n.height}})}return r}}),wn=j({name:"mousemove",events:{mousemove(r){this.data.mmRafID&&(cancelAnimationFrame(this.data.mmRafID),this.data.mmRafID=0),this.data.mmRafID=requestAnimationFrame(()=>{this.emitCustomEvent("mousemovesmooth",r)}),r.preventDefault()},document_mousemove(r){this.data.dmmRafID&&(cancelAnimationFrame(this.data.dmmRafID),this.data.dmmRafID=0),this.data.dmmRafID=requestAnimationFrame(()=>{this.emitCustomEvent("document_mousemovesmooth",r)}),r.preventDefault()}}});function Si(){var w,v;const{scrollToMouse:r}=this.data;if(!r)return this.stopScrollToMouse();const{position:t,startTime:e,delay:o}=r;if(!t||Date.now()-e<o)return;const n=(v=(w=this.ref.current)==null?void 0:w.querySelector(".dtable-body"))==null?void 0:v.getBoundingClientRect();if(!n)return;const{maxStep:s,detectPadding:i,speed:c,side:l}=r,{x:a,y:f}=t,{left:h,top:u,right:d,bottom:p}=n;let g=0;a<h-i?g=-Math.max(s,h-i-a):a>d-i&&(g=Math.max(s,a-(d-i)));let y=0;if(f<u-i?y=-Math.max(s,u-i-f):f>p-i&&(y=Math.max(s,f-(p-i))),l){const x=new Set((Array.isArray(l)?l:[l]).reduce((C,S)=>(S==="x"?C.push("left","right"):S==="y"?C.push("top","bottom"):C.push(S),C),[]));(!x.has("left")&&g<0||!x.has("right")&&g>0)&&(g=0),(!x.has("top")&&y<0||!x.has("bottom")&&y>0)&&(y=0)}const m={};g!==0&&(m.scrollLeft=this.layout.scrollLeft+c*g),y!==0&&(m.scrollTop=this.layout.scrollTop+c*y),this.scroll(m)}const Ei=j({name:"autoscroll",plugins:[wn],events:{document_mousemovesmooth(r){if(!this.data.scrollToMouse)return;const{clientX:t,clientY:e}=r;this.data.scrollToMouse.position={x:t,y:e}}},methods:{scrollTo({col:r,row:t,extra:e=2}){const o=this.getColInfo(r),n=this.getRowInfo(t);if(!o&&!n)return!1;const s={},{layout:i}=this;if(o){const{scrollLeft:c,cols:l}=i,a=o.left+o.realWidth;o.left<c?s.scrollLeft=o.left-e:a>l.center.width+c&&(s.scrollLeft=a-l.center.width+e)}if(n){const{scrollTop:c,rowHeight:l,rowsHeight:a}=i,f=n.top+l;n.top<c?s.scrollTop=n.top-e:f>a+c&&(s.scrollTop=f-a+e)}return this.scroll(s),!0},startScrollToMouse(r){const t={interval:60,speed:.2,delay:200,maxStep:this.options.rowHeight,onlyInside:!1,detectPadding:30,startTime:Date.now(),...r};this.data.scrollToMouse=t,clearInterval(this.data.scrollToTimer),this.data.scrollToTimer=window.setInterval(Si.bind(this),t.interval)},stopScrollToMouse(){clearInterval(this.data.scrollToTimer),this.data.scrollToMouse=void 0}},onUnmounted(){clearInterval(this.data.scrollToTimer)}}),lc="",Ni=j({name:"sortable",defaultOptions:{sortable:!0,canSortTo(r,t){return this.options.nested?this.getNestedRowInfo(r.id).parent===this.getNestedRowInfo(t.id).parent:!0}},when:r=>!!r.sortable,plugins:[wn,Ei],events:{mousedown(r){var s;if(this.data.disableSortable)return;const{sortHandler:t=".dtable-cell"}=this.options;if(!b(r.target).closest(t).length)return;const o=this.getPointerInfo(r);if(!o||o.rowID==="HEADER")return;const n=this.getRowInfo(o.rowID);!n||((s=this.options.onSortStart)==null?void 0:s.call(this,n,r))===!1||(this.data.sortableInfo={from:n,offset:r.clientY-o.cellElement.getBoundingClientRect().top})},document_mouseup(r){var e;if(!this.data.sortableInfo)return;this.stopScrollToMouse();const t=this.getSortingState(r);if(t){let o;const{sortingFrom:n,sortingTo:s,sortingSide:i}=t;if(s&&i){const c=[...this.layout.rows],l=n.index,a=s.index,f=c.splice(l,1);c.splice(a,0,f[0]),o={};const h=[];c.forEach(({id:u},d)=>{o[u]=d,h.push(u)}),((e=this.options.onSort)==null?void 0:e.call(this,n,s,i,h))===!1&&(o=void 0)}this.disableAnimation(),this.update({dirtyType:"layout",state:b.extend({sortingFrom:void 0,sortingPos:void 0,sortingTo:void 0,sortingSide:void 0},o?{rowOrders:o}:null)},()=>{var c;(c=this.options.onSortEnd)==null||c.call(this,n,s,i),setTimeout(()=>{this.data.disableCheckable=void 0},50)})}this.data.sortableInfo=void 0},document_mousemovesmooth(r){const{sortableInfo:t}=this.data;if(!t)return;const e=this.getSortingState(r);e&&(t.state||(this.startScrollToMouse({side:"y"}),this.data.disableCheckable=!0),t.state=e,this.setState(e))}},methods:{getSortingState(r){var S;const{disableSortable:t,sortableInfo:e}=this.data;if(t||!e)return;const{headerHeight:o,footerHeight:n,visibleRows:s,scrollTop:i,rowHeight:c}=this.layout,l=this.element.getBoundingClientRect(),a=l.width,f=l.height-o-n,h=r.clientX-l.left,u=r.clientY-l.top-o;if(h<0||h>a||u<0||u>f)return e.state;const d=u+i,p=s.find(N=>N.top<=d&&N.top+c>d);if(!p)return e.state;const g=e.from,y=p.id!==g.id?p.id:void 0,m=y?this.getRowInfo(y):void 0,w=u,v=d<p.top+c/2?"before":"after";return m&&((S=this.options.canSortTo)==null?void 0:S.call(this,g,m,v))!==!1?{sortingFrom:g,sortingPos:w,sortingTo:m,sortingSide:v}:{sortingFrom:g,sortingPos:w,sortingTo:void 0,sortingSide:void 0}}},onAddRows(r){const{rowOrders:t}=this.state;if(t)return r=r.sort((e,o)=>t[e.id]-t[o.id]),r},beforeRender(r){const{sortingFrom:t}=this.state,{visibleRows:e}=r;t&&(e.some(o=>o.id===t.id)||(r.visibleRows=[...e,t]),r.className=P(r.className,"dtable-sorting"))},onRenderCell(r,t,e){const{sortingFrom:o,sortingPos:n,sortingTo:s,sortingSide:i}=this.state;if(!o)return r;const c=t.row,l={},a=[];if(o.id===c.id)l.top=n-this.data.sortableInfo.offset+((e.top??c.top)-(c.top-this.layout.scrollTop)),a.push("is-sorting-from");else if(s){const f=s.id===c.id;f&&a.push(`text-primary is-sorting-to is-sorting-to-${i}`),o.index>c.index&&(f&&i==="before"||c.index>s.index)?a.push("is-sorting-before"):o.index<c.index&&(f&&i==="after"||c.index<s.index)&&a.push("is-sorting-after")}return a.length&&r.push({outer:!0,style:l,className:a}),r}}),Ii=Object.freeze(Object.defineProperty({__proto__:null,NestedRowState:pn,avatar:vi,cellspan:Ti,checkable:mi,custom:fi,group:Ci,headerGroup:ki,nested:wi,renderDatetime:Vo,renderDatetimeCell:Xo,renderFormat:dr,renderFormatCell:Yo,renderHtmlCell:ur,renderLink:fr,renderLinkCell:Go,renderMapCell:qo,renderStyleMapCell:Zo,rich:ti,sort:ai,sortType:xi,sortable:Ni},Symbol.toStringTag,{value:"Module"}));class Ot extends Ze{}Ot.NAME="DTable",Ot.Component=Ir,Ot.definePlugin=j,Ot.removePlugin=go,Ot.plugins=Ii;const hc="",fc="",dc="",uc="",gc="",pc="",mc="";z.DTable=Ot,z.zentao=ni,z.zentaoPlugin=tn,Object.defineProperty(z,Symbol.toStringTag,{value:"Module"})});
